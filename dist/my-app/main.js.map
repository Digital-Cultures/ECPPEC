{"version":3,"sources":["./src/app/download-poll-books.service.ts","./src/app/hello.component.ts","./src/app/about/about.component.ts","./src/app/about/about.component.html","./src/app/get-lat-lon.service.ts","./src/app/pollbook-dialogue/pollbook-dialogue.component.ts","./src/app/pollbook-dialogue/pollbook-dialogue.component.html","./src/app/get-poll-books.service.ts","./src/app/geojson-service.service.ts","./src/app/dialogue/dialogue.component.ts","./src/app/dialogue/dialogue.component.html","./src/app/outputs/outputs.component.ts","./src/app/outputs/outputs.component.html","./src/app/borough.service.ts","./src/app/centroids.service.ts","./src/app/get-elections.service.ts","./src/app/app.component.ts","./src/app/app.component.html","./src/app/app.module.ts","./src/app/warning-dialogue/warning-dialogue.component.ts","./src/app/warning-dialogue/warning-dialogue.component.html","./src/app/download.service.ts","./src/app/hop.service.ts","./src/polyfills.ts","./src/app/date-pipe.pipe.ts","./src/app/team/team.component.html","./src/app/team/team.component.ts","./src/app/app-routing.module.ts","./src/app/viz/viz.component.ts","./src/app/viz/viz.component.html","./src/app/api/api.component.ts","./src/app/api/api.component.html","./src/main.ts","./$_lazy_route_resource lazy namespace object"],"names":[],"mappings":"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","file":"main.js","sourcesContent":["import { Injectable } from '@angular/core';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class DownloadPollBooksService {\n\n\tdownloadFile(data, filename='data') {\n\t\tlet csvData = this.ConvertToCSV(data, ['BookCode','PrintMS', 'Citation', 'Holdings', 'Source','ElectionCode','Notes']);\n\t\t// console.log(csvData)\n\t\tlet blob = new Blob(['\\ufeff' + csvData], { type: 'text/csv;charset=utf-8;' });\n\t\tlet dwldLink = document.createElement(\"a\");\n\t\tlet url = URL.createObjectURL(blob);\n\t\tlet isSafariBrowser = navigator.userAgent.indexOf('Safari') != -1 && navigator.userAgent.indexOf('Chrome') == -1;\n        if (isSafariBrowser) {  //if Safari open in new window to save file with random filename.\n        \tdwldLink.setAttribute(\"target\", \"_blank\");\n        }\n        dwldLink.setAttribute(\"href\", url);\n        dwldLink.setAttribute(\"download\", filename + \".csv\");\n        dwldLink.style.visibility = \"hidden\";\n        document.body.appendChild(dwldLink);\n        dwldLink.click();\n        document.body.removeChild(dwldLink);\n    }\n    ConvertToCSV(objArray, headerList) {\n    \tlet array = typeof objArray != 'object' ? JSON.parse(objArray) : objArray;\n    \tlet str = '';\n    \tlet row = 'S.No,';\n    \tfor (let index in headerList) {\n    \t\trow += headerList[index] + ',';\n    \t}\n    \trow = row.slice(0, -1);\n    \tstr += row + '\\r\\n';\n    \tfor (let i = 0; i < array.length; i++) {\n    \t\tlet line = (i+1)+'';\n    \t\tfor (let index in headerList) {\n    \t\t\tlet head = headerList[index];\n    \t\t\tline += ',' + array[i][head];\n    \t\t}\n    \t\tstr += line + '\\r\\n';\n    \t}\n    \treturn str;\n    }\n}\n","import { Component, Input } from '@angular/core';\n\n@Component({\n  selector: 'hello',\n  template: `<h1>Hello {{name}}!</h1>`,\n  styles: [`h1 { font-family: Lato; }`]\n})\nexport class HelloComponent  {\n  @Input() name: string;\n}\n","import { Component, OnInit } from '@angular/core';\n\n@Component({\n  selector: 'app-about',\n  templateUrl: './about.component.html',\n  styleUrls: ['./about.component.scss'],\n\thost: {\n    '(window:resize)': 'onResize($event)'\n  }\n})\nexport class AboutComponent implements OnInit {\n\n  constructor() { }\nmyInnerHeight:number;\n  ngOnInit() {\n  \t\tthis.myInnerHeight = window.innerHeight;\n\t\tconsole.log(\"innerHeight\",this.myInnerHeight);\n  }\n  \tonResize(event) {\n  // event.target.innerWidth;\n  this.myInnerHeight = event.target.innerHeight;\n  console.log(this.myInnerHeight);\n\t}\n}\n","<div id=\"container\" [style.height.px]=\"myInnerHeight\">\n\t <div class=\"scrollbar\" id=\"style-3\">\n\n\n\t<div id=\"about_section\" >\n\t\t<h1>About ECPPEC</h1>\n\t\t<p>\nEighteenth-century elections are largely synonymous with corruption and debauchery, epitomised by the infamous 'rotten' and 'pocket' boroughs, and memorably represented by William Hogarth's 'Humours of an Election' series (1755). Certainly only a small proportion of the population could vote. Even fewer could exercise their vote freely. Although general elections were supposed to be held every three, then seven, years, the huge expense of campaigning ensured only a small proportion of constituencies were contested. This was no modern democracy.</p>\n\t\t<p>\nYet parliamentary elections were fundamentally important to all, not only for the selection of MPs, but also in bestowing a sense of power and belonging (even if only temporarily), in helping to form the nation's self-image, and in helping to forge a new constitutionalist tradition. Moreover, we want to show, elections not only affected, but also engaged, a wide section of the population - both those enfranchised and those not. Elections were often accompanied by an explosion of print, sermons, and song; countless ceremonies, assemblies, and entertainments; new modes of dress, decoration, and behaviour. Men and women, adults and children, rich and poor, franchised and unenfranchised, all participated - as consumers, but also as active makers of this unique cultural and political experience.</p>\n\t\t<p>\nOur project's fundamental aims are to shine an intense light on these extraordinary moments of participation, ritual, and sometimes carnival, and to consider their consequences and legacies. To do this we will collect new polling data from constituencies across England 1696-1831, working in partnership with local historian groups; subject this data to new kinds of scrutiny using innovative digital tools; and gather the cultural artefacts and practices which constituted people's lived experiences of elections. We will gain new insight into electoral demography, voter behaviour, and how voting patterns changed over time, across regions, and in different types of constituency. And from a combination of archival and creative practice research (the latter designed to reimagine and re-enact important elements of elections now lost) we will gain new understanding of the extent, pervasiveness, and inclusiveness of electoral culture. By placing polling data in its cultural contexts, we will come to understand whether the elements of campaigning - print and processions, banquets and ballads, sashes and sermons - made a difference to political outcomes, or left any significant legacy beyond election time.</p>\n\t\t<p>\nSo this project is about two things: how people participate in politics, both with and without the vote; and how interventions across a proliferating range of media affect polling behaviour and outcomes. Both remain highly relevant in our own time. Today, many choose not to vote. This is very different from being excluded from the franchise, as was the great majority in the 18th century. But our research will challenge us to think differently about how non-voters may engage with democratic processes - through music, literature, fashion and art, for example, or via broadcast journalism and social media when once it was handbills and the hustings. We will want to ask whether contemporary phenomena such as data analytics and targeted digital communication strategies have counterparts, even origins, in pre-Reform Britain, and what effects, if any, these kinds of interventions have on people's relationship to the demos. Working with our partners, History of Parliament and the IHR, we aim to communicate our findings to audiences well beyond academia, particularly to schools and at a series of events timed (if possible) to accompany the next UK General Election. As well as reshaping our understanding of how elections functioned before parliamentary reform, we intend that this project should usefully inform pressing debates about political communication and political participation today.\n</p>\n<h2>Planned Impact</h2>\n\t\t<p>\nA central aim of this project is to increase public knowledge of electoral processes in 18th-century England. In particular, we intend that the project will inform a range of audiences about (a) different ways in which people have been able to engage in elections whether or not they had the vote; and (b) the ways in which elections were (we will argue) composed of numerous small interventions taking many different forms, aimed at engaging public opinion and securing or altering the poll's result. Disseminating the new knowledge the project generates about pre-1832 voter behaviour and electoral culture may not change the way people regard democracy today, still less how (or if) they vote. But our intention is that, working with influential non-HEI organisations (History of Parliament, Institute of Historical Research, and Hansard Trust), our historical research should inform debate about issues that remain current: (a) Does political participation inhere purely in the act of voting or might other forms of engagement be just as significant? And (b) what is the history, and what effects should we anticipate, of sophisticated multi-channel campaigns to draw people into elections, from the handbills and hustings of the 18th century to the broadcast and social media of today?</p>\n\t\t<p>\nCollaboration with non-academic partners forms a key element of our methodology. Our aim is not simply to 'employ' volunteer citizen historians to help collect and process data; rather local history groups have been (during the pilot phase), and will continue to be, instrumental in setting the project's agenda and providing guidance on the most useful forms for its outputs. The chief vehicle for this co-production will be the Constituency Panels we will establish for each of our case studies, each including volunteers collaborating with the project and, where possible, representatives from local archives. The support of our partners the Institute for Historical Research will be invaluable here, since they have huge experience in recruiting and working with community historians, for instance through networks associated with the Victoria County History, as well as a substantial reach through their social media channels.</p>\n\t\t<p>\nWe see local historians also as key (non-HEI) beneficiaries of the research. By the end of the project, many local historians will have received specialised training, and will be empowered to continue and expand the project after its funding comes to an end. Other channels through which we will transmit our research, and debate its implications, to non-academic audiences are set out in our full Pathways to Impact document. They include a substantial and imaginative programme of public engagement events, based in each of our twelve case study constituencies, and provisionally timed to coincide with the next UK General Election (although we appreciate that the present political situation may lead to an election much sooner); a major public lecture; high-profile public launch event, potentially at the Speaker's House (facilitated by History of Parliament); and posts on the Hansard Society's respected and widely-read 'Despatch Box' blog. The element of our project with the widest potential impact is our work aimed at schools. Drawing on successful models already developed and deployed by the project team, we will develop a Learning Framework for use with Key Stage 3 pupils that fits with the requirements of the National Curriculum, supporting teachers in their delivery of mandated/recommended elements of the Citizenship and History programmes. This has the potential to reach very many young people. It will also bring significant benefits to History of Parliament, through whose website the packages will be made available. Their remit is to engage new audiences, ideally including children, with the history of democratic process, and, to an extent, the continuation of their public funding is dependent on fulfilling this objective.\n</p>\n\t</div>\n\t</div>\n</div>","import { Injectable } from '@angular/core';\nimport { HttpClient } from '@angular/common/http';\n@Injectable({\n  providedIn: 'root'\n})\nexport class GetLatLonService {\n\n  constructor(private http: HttpClient) { }\n  dataUrl = 'assets/data/locations_lat_lng.json';\n\n\tgetData() {\n\t  return this.http.get(this.dataUrl);\n\t}\n}","import { Component, OnInit,Inject } from '@angular/core';\nimport {MAT_DIALOG_DATA} from '@angular/material/dialog';\nimport { DownloadPollBooksService } from '../download-poll-books.service';\n\n@Component({\n  selector: 'app-pollbook-dialogue',\n  // template: 'passed in {{ data.name }}',\n  templateUrl: './pollbook-dialogue.component.html',\n  styleUrls: ['./pollbook-dialogue.component.scss']\n})\nexport class PollbookDialogueComponent implements OnInit {\n\n  constructor(private downloadPollBooksService: DownloadPollBooksService, @Inject(MAT_DIALOG_DATA) public data: any) { }\n\n  ngOnInit() {\n    // console.log(\"got data in dialogue\",this.data);\n  }\n  \tdownloadPollBooks(){\n\n\t\t\tthis.downloadPollBooksService.downloadFile(this.data.poll_books, 'pollBooks');\n\t\t}\n\n}\n\n\n","\n<div *ngIf=\"data.innerText\" class=\"dialogue_background\">\n\t<div class=\"gradient\">\n\t\t<h2 mat-dialog-title>About <strong>{{data.constituency}}</strong> in the years <strong>{{data.yearRange}}</strong> from the History of Parliament website</h2>\n\t\t<div *ngIf=\"data.innerText\" [innerHTML]=\"data.innerText\"></div>\n\n\t</div>\n\t<p>You can find out more about {{data.constituency}} from the History of Parliament website, <a target=\"_blank\"  href=\"{{data.url}}\">here</a></p>\n\t<mat-dialog-actions>\n\t\t<button mat-button mat-dialog-close>Close</button>\n\t\t<button mat-button mat-dialog-close (click)=\"data.fetch=false\">Close and stop showing me these</button>\n\t</mat-dialog-actions>\n</div>\n<div id=\"my_poll_books\" *ngIf=\"data\">\n\n\t<div *ngIf=\"data.num_results\">\n\t\t<h2 mat-dialog-title>Poll Books</h2>\n\t\t<span *ngIf=\"data.num_results==1\"> There is {{data.num_results}} poll book available:<br></span>\n\t\t<span *ngIf=\"data.num_results>1\"> There are {{data.num_results}} poll books available:<br></span>\n\t\t-------------------------\n\t\t<div *ngFor=\"let pollBook of data.poll_books\">\n\t\t\t<strong class=\"poll_book_strong\">Print or Manuscript? </strong> {{ pollBook.PrintMS }}<br>\n\t\t\t<strong class=\"poll_book_strong\">Citation: </strong> <span style=\"font-style: italic;\">{{ pollBook.Citation }}</span><br>\n\t\t\t<strong class=\"poll_book_strong\">Holdings: </strong>{{ pollBook.Holdings }}<br>\n\t\t\t<strong class=\"poll_book_strong\" >Source: </strong>{{ pollBook.Source }}<br>\n\t\t\t<strong class=\"poll_book_strong\">Election Code: </strong>{{ pollBook.ElectionCode }}<br>\n\t\t\t<strong class=\"poll_book_strong\">Notes: </strong>{{ pollBook.Notes }}<br><br>-------------------------\n\t\t</div>\n\n\t\t<button mat-icon-button aria-label=\"button flavo\" (click)=\"downloadPollBooks()\">\n\t\t\t<mat-icon>cloud_download</mat-icon>\n\t\t</button>\n\t<div>\n\n\t\n\t\t\t\n\n</div>\n\n\n<mat-dialog-actions>\n\t<button mat-button mat-dialog-close>Close</button>\n\n\n</mat-dialog-actions>","import { Injectable } from '@angular/core';\nimport { HttpClient } from '@angular/common/http';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class GetPollBooksService {\n\n  constructor(private http: HttpClient) { }\n//Beds_1705a/1 192.168.0.51\n  ///dataUrl='http://192.168.0.51:8888/ECCPEC_code/php/getPollBooks.php/?BookCode=';\n // dataUrl='http://localhost:8888/ECCPEC_code/php/getPollBooks.php/?BookCode=';\n  //dataUrl='/php/getPollBooks.php/?BookCode=';\n  dataUrl = 'https://ecppec.com/php/getPollBooks.php/?BookCode=';\n\tgetData(pollBookCode) {\n\t\tconsole.log(\"this.dataUrl+pollBookCode\",this.dataUrl+pollBookCode);\n\t  return this.http.get(this.dataUrl+pollBookCode);\n\t}\n}\n","import { Injectable } from '@angular/core';\nimport { HttpClient } from '@angular/common/http';\n@Injectable({\n  providedIn: 'root'\n})\nexport class GeojsonServiceService {\n\n  constructor(private http: HttpClient) { }\n  dataUrl = 'assets/data/england.json';\n\n\tgetData() {\n\t  return this.http.get(this.dataUrl);\n\t}\n}","import { Component, OnInit ,Inject} from '@angular/core';\nimport { MatFormFieldControl } from '@angular/material/form-field';\nimport { FormControl } from '@angular/forms';\nimport { MatAutocomplete } from \"@angular/material/autocomplete\";\nimport { MatDialogRef } from \"@angular/material/dialog\";\nimport {Observable} from 'rxjs';\nimport {map, startWith} from 'rxjs/operators';\nimport {MAT_DIALOG_DATA} from '@angular/material/dialog';\n// import { EPERM } from 'constants';\n\n@Component({\n\tselector: 'app-dialogue',\n\ttemplateUrl: './dialogue.component.html',\n\tstyleUrls: ['./dialogue.component.scss']\n})\n\nexport class DialogueComponent implements OnInit {\n//\tconstructor(private downloadPollBooksService: DownloadPollBooksService, @Inject(MAT_DIALOG_DATA) public data: any) { }\n\n\tconstructor(private dialogRef: MatDialogRef<DialogueComponent>, @Inject(MAT_DIALOG_DATA) public data: any) { }\n\tfilteredValues = {\n\t\tMonth: '', Constituency: '',Year: '', CountyBoroughUniv: '', Contested: '',ByElectionGeneral:'',PollBookCode:''\n\n\t};\n\n\tconstituencyList : string []= [];\n\tconstituencyOptions : string []= [\"York\",\"Leeds\",\"Devon\"];\n\tfilteredConstituencyOptions: Observable<string[]>;\n\tmonthList : string []= [];\n\tyearList : string []= [];\n\tconstituencyFilter = new FormControl();\n\tmonthFilter = new FormControl();\n\tyearFilter = new FormControl();\n\tyearFromFilter = new FormControl({value: '', disabled: true});\n\tyearToFilter = new FormControl({value: '', disabled: true});\n\tcountyFilter = new FormControl();\n\tcontestedFilter = new FormControl();\n\tbyElectionGeneralFilter = new FormControl();\n\tpollBookCodeFilter = new FormControl();\n\tyearChooser: String = \"single\";\n\tngOnInit() {\n\t\t\n\t\tthis.constituencyOptions = this.getConstituencyNames(this.data).sort((a, b) => a > b ? 1 : a === b ? 0 : -1);\n\t\t\n\t\tthis.filteredConstituencyOptions = this.constituencyFilter.valueChanges\n\t\t.pipe(\n\t\t  startWith(''),\n\t\t  map(value => this._filter(value))\n\t\t);\n\n\t\tthis.countyFilter.valueChanges.subscribe((countyFilterValue) => {\n\t\t\tthis.filteredConstituencyOptions = this.constituencyFilter.valueChanges\n\t\t.pipe(\n\t\t  startWith(''),\n\t\t  map(value => this._filter(value))\n\t\t);\n\t\t\t\n\t\t\tthis.constituencyOptions = this.getFilteredConstituencyNames(this.data,countyFilterValue.substring(0,1)).sort((a, b) => a > b ? 1 : a === b ? 0 : -1);\n\t\t\t\n\n\t\t});\n\t}\n\tconsituencyFieldClicked(){\n\t\t// console.log(\"clicked con\");\n\t\t// this.constituencyOptions = this.getFilteredConstituencyNames(this.data, this.countyFilter.value.substring(0,1)).sort((a, b) => a > b ? 1 : a === b ? 0 : -1);\n\n\t}\n\t// sortBy() {\n\t// \treturn this.constituencyOptions.sort((a, b) => a > b ? 1 : a === b ? 0 : -1);\n\t//   }\n\tgetConstituencyNames(elections){\n\t\tvar names= [];\n\t\t\n\t\telections.forEach(element => {\n\t\t\t\n\t\t\tnames.push(element.constituency);\n\t\t});\n\t\treturn names;\n\t}\n\tgetFilteredConstituencyNames(elections, type){\n\t\tvar names= [];\n\t\t\n\t\telections.forEach(element => {\n\t\t\tif(element.countyboroughuniv==type)\tnames.push(element.constituency);\n\t\t});\n\t\treturn names;\n\t}\n\tarrToCommaSeparatedString(list, value){\n\t\tvar listString = \"\";\n\t\tif(value!=null){\n\t\t\tif(value.length>0){\n\t\t\t\tlistString = value;\n\t\t\t}\n\t\t\telse{\n\t\t\t\tfor (var i = 0; i < list.length; i++) {\n\t\t\t\t\tlistString+=list[i]+\",\";\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn listString.slice(0, -1);\n\n\t}\n\tprivate _filter(value: string): string[] {\n\t\tconst filterValue = value.toLowerCase();\n\t\n\t\treturn this.constituencyOptions.filter(option => option.toLowerCase().includes(filterValue));\n\t  }\n\tcloseWithRandomSearch(){\n\t\tvar obj = {\n\t\t\ttriggerRandomSearch: true,\n\t\t\tupdateSearch:false,\n\t\t\tconstituency:\"\",\n\t\t\tmonth:\"\"  ,\n\t\t\tyear:\"\",\n\t\t\tcountry:\"\",\n\t\t\tcontested:\"\",\n\t\t\tbyElectionGeneral:\"\",\n\t\t\tpollBookCode:\"\"\n\t\t}\n\t\tthis.dialogRef.close(obj);\n\n\t}\n\n\tsave() {\n\t\t\n\t\tvar yearVal = \"\";\n\n\t\tif(this.yearChooser==\"single\"){\n\t\t\tif(this.yearFilter.value!=null){\n\t\t\t\tif(this.yearFilter.value.length>=4){\n\t\t\t\t\tyearVal = this.yearFilter.value;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\telse if(this.yearChooser==\"list\"){\n\t\t\tif(this.yearList.length>0){\n\t\t\t\tyearVal = this.arrToCommaSeparatedString(this.yearList, this.yearFilter.value);\n\t\t\t}\n\t\t}\n\t\t// if(this.yearFilter.value!=null){\n\t\t// \tif(this.yearFilter.value.length>=4){\n\n\t\t// \t}\n\n\t\t// }\n\n\t\tif(this.yearFromFilter.value!=null && this.yearToFilter.value!=null){\n\t\t\tif(this.yearFromFilter.value.length==4 && this.yearToFilter.value.length==4){\n\t\t\t\tyearVal = this.yearFromFilter.value +\"-\"+this.yearToFilter.value;\n\t\t\t}\n\n\t\t}\n\n\n\t\tvar obj = {\n\t\t\tupdateSearch:true,\n\t\t\tconstituency:this.arrToCommaSeparatedString(this.constituencyList, this.constituencyFilter.value),\n\t\t\tmonth:this.arrToCommaSeparatedString(this.monthList, this.monthFilter.value)  ,\n\t\t\tyear:yearVal,\n\t\t\tcounty:this.countyFilter.value,\n\t\t\tcontested:this.contestedFilter.value,\n\t\t\tbyElectionGeneral:this.byElectionGeneralFilter.value,\n\t\t\tpollBookCode:this.pollBookCodeFilter.value\n\t\t}\n\t\tthis.dialogRef.close(obj);\n\t}\n\n\tclose() {\n\t\tconsole.log(\"closed\");\n\t\tvar obj = {\n\t\t\tupdateSearch:false,\n\t\t\tconstituency:\"\",\n\t\t\tmonth:\"\"  ,\n\t\t\tyear:\"\",\n\t\t\tcountry:\"\",\n\t\t\tcontested:\"\",\n\t\t\tbyElectionGeneral:\"\",\n\t\t\tpollBookCode:\"\"\n\t\t}\n\t\tthis.dialogRef.close(obj);\n\t}\n\tgetConstituencies(){\n\t\treturn this.constituencyList;\n    \t// if(this.constituencyFilter.value!=null){\n    \t// \treturn this.constituencyFilter.value.split(\",\");\n    \t// }\n\n    }\n    keyDownFunction(event) {\n    \tif (event.keyCode === 13) {\n    \t\tthis.constituencyList.push(this.constituencyFilter.value);\n    \t\tthis.constituencyFilter.setValue(\"\");\n    \t}\n    }\n\n    yearKeyDownFunction(event) {\n    \tif (event.keyCode === 13) {\n    \t\tif(this.yearChooser == \"list\"){\n    \t\t\tthis.yearList.push(this.yearFilter.value);\n    \t\t\tthis.yearFilter.setValue(\"\");\n    \t\t}\n    \t}\n    \t// else if(this.yearChooser == \"single\"){\n    \t// \tthis.yearList.push(this.yearFilter.value);\n    \t// }\n\n    }\n\n// yearKeyDownFromFunction(event) {\n// \tif (event.keyCode === 13) {\n// \t\tif(this.yearChooser == \"range\"){}\n// \t\t//\tthis.yearList.push(this.yearFromFilter.value);\n// \t\tthis.yearFilter.setValue(this.yearFromFilter.value);\n// \t}\n// }\n// yearKeyDownToFunction(event) {\n// \tif (event.keyCode === 13) {\n// \t\tif(this.yearChooser == \"range\"){}\n// \t\t//\tthis.yearList.push(this.yearFromFilter.value);\n// \t\tthis.yearFilter.setValue(this.yearFilter.value+\"-\"+this.yearToFilter.value);\n// \t}\n// }\n\n\nyearButtonChange(val){\n\tconsole.log(\"button\",val);\n\tthis.yearChooser = val;\n\tif(val==\"single\" || val==\"list\"){\n\t\tthis.yearToFilter.setValue(\"\");\n\t\tthis.yearFromFilter.setValue(\"\");\n\n\n\t\tthis.yearFilter.enable();\n\n\t\tthis.yearFromFilter.disable();\n\t\tthis.yearToFilter.disable();\n\t}\n\telse if(val==\"range\"){\n\t\tthis.yearFilter.setValue(\"\");\n\t\tthis.yearFilter.disable();\n\n\t\tthis.yearFromFilter.enable();\n\t\tthis.yearToFilter.enable();\n\t}\n\n}\nnumberOnly(event): boolean {\n\tconst charCode = (event.which) ? event.which : event.keyCode;\n\tif (charCode > 31 && (charCode < 48 || charCode > 57)) {\n\t\treturn false;\n\t}\n\treturn true;\n\n}\nmonthChange(event) {\n    \t// if (event.keyCode === 13) {\n    \t\tif(this.monthList.includes(this.monthFilter.value)){\n    \t\t\talert(\"You already have that month in your list!\");\n    \t\t\tthis.monthFilter.setValue(\"\");\n    \t\t}\n    \t\telse{\n    \t\t\tthis.monthList.push(this.monthFilter.value);\n    \t\t\tthis.monthFilter.setValue(\"\");\n    \t\t}\n    \t\t\n    \t// }\n    }\n    constituencyClick(constituency){\n    \tthis.constituencyList = this.constituencyList.filter(e => e !== constituency);\n    }\n    monthClick(month){\n    \tthis.monthList = this.monthList.filter(e => e !== month);\n    }\n    yearClick(year){\n    \tthis.yearList = this.yearList.filter(e => e !== year);\n    }\n}\n","<!-- \n<div  id=\"modal_content\">\n\t<div id=\"back_image_ground\" >\n\t\t<img style=\"width:100%; overflow: hidden\" src=\"./assets/images/middlesex_election_detail.jpg\"/>\n\t</div>\n\t<div id=\"inner\">\n\t\t<h1 mat-dialog-title> Eighteenth-Century Political Participation and Electoral Culture</h1>\n\t\t<div mat-dialog-content>The project aims to produce new understanding of parliamentary elections in England between 1696 and 1832. Even though few could vote, these elections were often accompanied by an explosion of print, sermons, and song; processions, assemblies, and entertainments; and even new modes of dress, decoration, and behaviour. Men and women, adults and children, rich and poor, franchised and unenfranchised, all participated - as consumers, but also as active makers of these extraordinary cultural and political experiences. ECPPEC will combine literary and historical study of the print, visual, musical and material culture of elections, with big data analysis of poll books, including innovative mapping, visualisation and psephological assessment of who voted, who they voted for, and how this changed over time and place. The project has sharp, contemporary relevance in an age when fewer people are voting, and when data analytics and targeted media interventions are changing the way we think about electoral processes.\n\t\t\t<div class=\"image_credit\" id=\"modal_credit\">\n\t\t\t\tWe have made use of data provided by the <a href=\"http://www.county-borders.co.uk\">Historic County Borders Project</a>\n\t\t\t</div>\n\t\t</div>\n\t\t<div mat-dialog-actions>\n\t\t\t<button mat-button mat-dialog-close>Close</button>\n\t\t</div>\n\t</div>\n</div>\n\n-->\n<mat-dialog-content>\n    <div id=\"dialogue_form_info\">\n        Use this box to search the database of elections. You can add more than one filter at a time, for instance by entering a constituency and a year. You'll see the search results both in the table and on the map.\n\n        <br><br>If you're not sure what to look for, try a <span style=\"color:#673ab7 !important; cursor:pointer\" (click)=\"closeWithRandomSearch()\">random search </span> to explore the data.\n\n    </div>\n\n    <!-- <mat-form-field (keydown)=\"keyDownFunction($event)\" class=\"dialogue_form\" appearance=\"fill\">\n        <mat-label>Constituency</mat-label>\n        <input matInput class=\"form-field\" [formControl]=\"constituencyFilter\" placeholder=\"....\">\n        <mat-hint align=\"end\">Press enter to add more than one</mat-hint>\n\n    </mat-form-field> -->\n    <mat-form-field (keydown)=\"keyDownFunction($event)\" class=\"dialogue_form\">\n        <mat-label>Constituency</mat-label>\n        <input (click)=\"consituencyFieldClicked()\" type=\"text\" placeholder=\"....\" aria-label=\"Constituency\" matInput [formControl]=\"constituencyFilter\" [matAutocomplete]=\"auto\">\n        <mat-autocomplete #auto=\"matAutocomplete\">\n            <mat-option *ngFor=\"let option of filteredConstituencyOptions | async\" [value]=\"option\">\n                {{option}}\n            </mat-option>\n        </mat-autocomplete>\n        <mat-hint align=\"end\">Press enter to add more than one</mat-hint>\n    </mat-form-field>\n\n    <mat-form-field class=\"dialogue_form\" appearance=\"fill\">\n        <mat-label>County/Borough/Univ</mat-label>\n        <mat-select [formControl]=\"countyFilter\" [value]=\"countyFilter.value\">\n            <mat-option value=\"\">Any</mat-option>\n            <mat-option value=\"C\">County</mat-option>\n            <mat-option value=\"B\">Borough</mat-option>\n            <mat-option value=\"U\">University</mat-option>\n        </mat-select>\n        <!-- <input matInput class=\"form-field\" [formControl]=\"countyFilter\" placeholder=\"....\"> -->\n    </mat-form-field>\n\n\n    <span class=\"input_list\" style=\"margin:5px;background-color: lightGrey; border-radius: 3px; padding-left:5px;padding-right:5px; padding-top:3px;padding-bottom:3px\" *ngFor=\"let constituency of getConstituencies()\">{{constituency}} <span (click)=\"constituencyClick(constituency)\" style=\"color:white; cursor:pointer\">x</span></span><br>\n\n\n\n\n    <!-- <span class=\"input_list\" style=\"margin:5px;background-color: lightGrey; border-radius: 3px; padding-left:5px;padding-right:5px; padding-top:3px;padding-bottom:3px\" *ngFor=\"let month of monthList\">{{month}} <span (click)=\"monthClick(month)\" style=\"color:white; cursor:pointer\">x</span></span><br> -->\n\n    <!-- <mat-form-field class=\"dialogue_form\" appearance=\"fill\"> -->\n\n    <p style=\"font-family: Catamaran\">Use a single year, a list of years or a range:\n        <mat-button-toggle-group value=\"single\" (selectionChange)=\"yearButtonChange($event)\" name=\"fontStyle\" aria-label=\"Font Style\">\n            <mat-button-toggle (click)=\"yearButtonChange('single')\" value=\"single\">Single</mat-button-toggle>\n            <mat-button-toggle (click)=\"yearButtonChange('list')\" value=\"list\">List</mat-button-toggle>\n            <mat-button-toggle (click)=\"yearButtonChange('range')\" value=\"range\">Range</mat-button-toggle>\n\n        </mat-button-toggle-group>\n    </p>\n    <!-- <mat-hint>Use a single year, a list of years or a range</mat-hint> -->\n\n    <!-- </mat-form-field> -->\n\n    <mat-form-field (keydown)=\"yearKeyDownFunction($event)\" class=\"dialogue_form\" appearance=\"fill\">\n        <mat-label>Year</mat-label>\n        <input (keypress)=\"numberOnly($event)\" maxlength=\"4\" matInput class=\"form-field\" [formControl]=\"yearFilter\" placeholder=\"....\">\n        <mat-hint [hidden]=\"yearChooser!='list'\" align=\"end\">Press enter to add more than one</mat-hint>\n\n    </mat-form-field>\n    <mat-form-field class=\"dialogue_form\" appearance=\"fill\">\n        <mat-label>Month</mat-label>\n        <!-- <input matInput class=\"form-field\" [formControl]=\"monthFilter\" placeholder=\"....\"> -->\n        <mat-select (selectionChange)=\"monthChange($event)\" [formControl]=\"monthFilter\" [value]=\"monthFilter.value\">\n            <mat-option value=\"Jan\">January</mat-option>\n            <mat-option value=\"Feb\">February</mat-option>\n            <mat-option value=\"Mar\">March</mat-option>\n            <mat-option value=\"Apr\">April</mat-option>\n            <mat-option value=\"May\">May</mat-option>\n            <mat-option value=\"Jun\">June</mat-option>\n            <mat-option value=\"Jul\">July</mat-option>\n            <mat-option value=\"Aug\">August</mat-option>\n            <mat-option value=\"Sep\">September</mat-option>\n            <mat-option value=\"Oct\">October</mat-option>\n            <mat-option value=\"Nov\">November</mat-option>\n            <mat-option value=\"Dec\">December</mat-option>\n        </mat-select>\n\n\n        <mat-hint align=\"end\">You can add more than one</mat-hint>\n    </mat-form-field>\n\n    <span class=\"input_list\" style=\"margin:5px;background-color: lightGrey; border-radius: 3px; padding-left:5px;padding-right:5px; padding-top:3px;padding-bottom:3px\" *ngFor=\"let year of yearList\">{{year}} <span (click)=\"yearClick(year)\" style=\"color:white; cursor:pointer\">x</span></span>\n\n    <span class=\"input_list\" style=\"margin:5px;background-color: lightGrey; border-radius: 3px; padding-left:5px;padding-right:5px; padding-top:3px;padding-bottom:3px\" *ngFor=\"let month of monthList\">{{month}} <span (click)=\"monthClick(month)\" style=\"color:white; cursor:pointer\">x</span></span><br>\n\n\n    <mat-form-field class=\"dialogue_form\" appearance=\"fill\">\n        <mat-label>From Year</mat-label>\n        <input (keypress)=\"numberOnly($event)\" maxlength=\"4\" matInput class=\"form-field\" [formControl]=\"yearFromFilter\" placeholder=\"....\">\n\n    </mat-form-field>\n\n    <mat-form-field class=\"dialogue_form\" appearance=\"fill\">\n        <mat-label>To Year</mat-label>\n        <input (keypress)=\"numberOnly($event)\" maxlength=\"4\" matInput class=\"form-field\" [formControl]=\"yearToFilter\" placeholder=\"....\">\n\n    </mat-form-field><br>\n\n\n\n    <mat-form-field class=\"dialogue_form\" appearance=\"fill\">\n        <mat-label>Contested?</mat-label>\n        <mat-select [formControl]=\"contestedFilter\" [value]=\"contestedFilter.value\">\n            <mat-option value=\"\">Any</mat-option>\n            <mat-option value=\"Y\">Yes</mat-option>\n            <mat-option value=\"N\">No</mat-option>\n        </mat-select>\n    </mat-form-field>\n\n    <mat-form-field class=\"dialogue_form\" appearance=\"fill\">\n        <mat-label>By/General Election </mat-label>\n        <mat-select [formControl]=\"byElectionGeneralFilter\" [value]=\"byElectionGeneralFilter.value\">\n            <mat-option value=\"\">Any</mat-option>\n            <mat-option value=\"B\">By Election</mat-option>\n            <mat-option value=\"G\">General Election</mat-option>\n        </mat-select>\n\n    </mat-form-field>\n\n    <mat-form-field class=\"dialogue_form\" appearance=\"fill\">\n        <mat-label>Has Poll Books? </mat-label>\n        <mat-select [formControl]=\"pollBookCodeFilter\" [value]=\"pollBookCodeFilter.value\">\n            <mat-option value=\"\">Any</mat-option>\n            <mat-option value=\"Y\">Yes</mat-option>\n            <mat-option value=\"N\">No</mat-option>\n        </mat-select>\n    </mat-form-field>\n</mat-dialog-content>\n<mat-dialog-actions>\n    <button matDialogClose style=\"margin-right: 1%;\" class=\"mat-raised-button\" (click)=\"close()\">Dismiss</button>\n    <button matDialogClose class=\"mat-raised-button mat-primary\" (click)=\"save()\">Search the database</button>\n</mat-dialog-actions>","import { Component, OnInit } from '@angular/core';\n\n@Component({\n  selector: 'app-outputs',\n  templateUrl: './outputs.component.html',\n  styleUrls: ['./outputs.component.scss']\n})\nexport class OutputsComponent implements OnInit {\n\n  constructor() { }\n\n  ngOnInit() {\n  }\n\n}\n","<p>outputs works!</p>\n","import { Injectable } from '@angular/core';\nimport { HttpClient } from '@angular/common/http';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class BoroughService {\n\n  constructor(private http: HttpClient) { }\n   dataUrl='assets/data/borough_locations.json';\n\t// dataUrl='/ECPPEC/php/getElections.php';\n\tgetData() {\n\t  return this.http.get(this.dataUrl);\n\t}\n}\n","import { Injectable } from '@angular/core';\nimport { HttpClient } from '@angular/common/http';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class CentroidsService {\n\n  constructor(private http: HttpClient) { }\n   dataUrl = 'assets/data/centroids.json';\n\n\tgetData() {\n\t  return this.http.get(this.dataUrl);\n\t}\n}\n\n","import { Injectable } from '@angular/core';\nimport { HttpClient } from '@angular/common/http';\n@Injectable({\n\tprovidedIn: 'root'\n})\nexport class GetElectionsService {\n\n\tconstructor(private http: HttpClient) { }\n\t//\n\t//dataUrl='http://192.168.0.51:8888/ECCPEC_code/PHP/getElections.php';\n\t//dataUrl='http://localhost:9999/ECCPEC_code/PHP/getElections.php';\n\t//\tdataUrl='/ECPPEC/php/getElections.php';\n\t//dataUrl='https://ecppec.ncl.ac.uk/php/getElections.php'\n\tdataUrl='https://ecppec.ncl.ac.uk/php/getElections.php';\n\t//dataUrl='/php/getElections.php';\n\n\tgetData() {\n\t\treturn this.http.get(this.dataUrl);\n\t}\n}\n","import { Component ,OnInit, SimpleChanges, OnChanges, ViewChild} from '@angular/core';\n\n// import { GeojsonServiceService } from './geojson-service.service';\n// // import {MatTableDataSource} from '@angular/material/table';\n\n// // import {MatPaginator} from '@angular/material/paginator';\n// import {DataSource} from '@angular/cdk/collections';\n\n// // import { GetElectionsService } from './get-locations.service';\n\n// import { GetPollBooksService } from './get-poll-books.service';\n// import { HOPService } from './hop.service';\n\nimport {TooltipPosition} from '@angular/material/tooltip';\n\n// import { DownloadService } from './download.service';\n// import { DownloadPollBooksService } from './download-poll-books.service';\n\n\n// import { GetLatLonService } from './get-lat-lon.service';\nimport { Options, ChangeContext, PointerType } from 'ng5-slider';\n\nimport { HttpParams, HttpClient } from '@angular/common/http';\n// import 'rxjs/add/operator/map';\n\n// import {MatPaginator} from '@angular/material';\n// import {MatTableDataSource} from '@angular/material/table';\n\n// import { Location } from './location';\n\nimport { MatFormFieldControl } from '@angular/material/form-field';\nimport { FormControl } from '@angular/forms';\n\nimport {MatDialog} from '@angular/material/dialog';\nimport { DialogueComponent } from './dialogue/dialogue.component';\n\n// \n// @Component({\n//   selector: 'dialog-elements-example-dialog',\n//   templateUrl: './dialog-elements-example-dialog.html',\n// })\n// export class DialogElementsExampleDialog {}\n\n@Component({\n  selector: 'my-app',\n  templateUrl: './app.component.html',\n  styleUrls: [ './app.component.scss' ],\n  host: {\n    '(window:resize)': 'onResize($event)'\n  }\n})\n\n\n\n\nexport class AppComponent implements OnInit, OnChanges {\n  \n  constructor( public dialog: MatDialog) { }\n\n  // \n    //zoom: number = 7;\n    navSwitch: string = \"switch_right\";\n    isShowing: boolean;\n    myInnerHeight: number;\n    sideBarWidth: number;\n    sideBarContentHeight: number;\n  // @ViewChild(MatPaginator, {static: true}) paginator: MatPaginator;\n\n  openDialog() {\n    \n  }\n  ngOnChanges(changes: SimpleChanges) {\n    // changes.prop contains the old and the new value...\n  }\n  ngOnInit(){\n    // this.dialog.open(DialogueComponent);\n    this.myInnerHeight = window.innerHeight;\n    this.sideBarContentHeight = this.myInnerHeight *0.5;\n    this.sideBarWidth= window.innerWidth *0.15;\n    console.log(\"innerHeight\",this.myInnerHeight);\n\n    setTimeout(()=>{\n      \n      this.isShowing =true;\n\n\n\n\n    },1000);\n\n  }\n  toggleSidenav() {\n   this.isShowing = !this.isShowing;\n   if(this.isShowing){\n    this.navSwitch = \"switch_right\";\n  }\n  else{\n    this.navSwitch = \"switch_left\";\n  }\n}\nonResize(event) {\n  // event.target.innerWidth;\n  this.myInnerHeight = event.target.innerHeight;\n  console.log(this.myInnerHeight);\n}\n}\n\n","\n<div id=\"container\" [style.height.px]=\"myInnerHeight\" class=\"style-3\">\n\n  <div id=\"nav_toggle\" >\n    <mat-icon style=\"font-size: 400%;  margin-right: 5%;\"  color=\"accent\" aria-hidden=\"false\" aria-label=\"Example home icon\" (click)=\"toggleSidenav()\">{{navSwitch}}</mat-icon>\n  </div>\n  <div id=\"info\" >\n    \n    <img style=\"width:200px;  margin-right: 2%;\" src=\"./assets/images/logos/newcastle.png\" alt=\"newcastle university logo\"/>\n    <img style=\"width:200px;  margin-right: 2%;\" src=\"./assets/images/logos/liverpool.png\" alt=\"liverpool university logo\"/>\n    <img style=\"width:200px;  margin-right: 2%;\" src=\"./assets/images/logos/ahrc.png\" alt=\"arts and humanities research council logo\"/>\n\n  </div>\n\n  <!-- nav bar content start -->\n  <mat-drawer-container [style.height.px]=\"myInnerHeight\" style=\"overflow: hidden; background-color: rgba(0,0,0,0);\" class=\"gradient\" >\n\n    <mat-drawer fixedInViewport=\"true\" style=\"overflow: hidden;background-color: rgba(0,0,0,0)\" [style.height.px]=\"myInnerHeight\" #drawer class=\"main-menu-sidenav \"  [opened]=\"isShowing\"  mode=\"side\">\n      <!-- [style.width.px]=\"sideBarWidth\" -->\n\n     <!--  <div id=\"titles\">\n       <span id=my_title>ECPPEC</span><br>\n       <span id=my_sub>Eighteenth-Century Political Participation<br>  and Electoral Culture</span>\n     </div> -->\n     <br>\n     <!-- matTooltip= \"get the data\" [matTooltipPosition]=\"'below'\" -->\n     <div id=\"main_nav_content\" >\n      <div style=\"margin-top:100%\"  id=\"spacer\"></div>\n      <mat-icon class=\"link_icon\" color=\"accent\" aria-hidden=\"false\" aria-label=\"Example home icon\" ><a routerLink=\"/viz\" routerLinkActive=\"active\">poll</a></mat-icon><div class=\"nav_label\">MAPS</div><br>\n      <mat-icon class=\"link_icon\" color=\"accent\" aria-hidden=\"false\" aria-label=\"Example home icon\" ><a routerLink=\"/about\" routerLinkActive=\"active\">info</a></mat-icon><div class=\"nav_label\">ABOUT</div><br>\n      <mat-icon class=\"link_icon\" color=\"accent\" aria-hidden=\"false\" aria-label=\"Example home icon\" ><a routerLink=\"/team\" routerLinkActive=\"active\">group</a></mat-icon><div class=\"nav_label\">TEAM</div><br>\n      <mat-icon  class=\"link_icon\" color=\"accent\" aria-hidden=\"false\" aria-label=\"Example home icon\" ><a routerLink=\"/api\" routerLinkActive=\"active\">architecture</a></mat-icon><div class=\"nav_label\">DATA</div><br>\n      \n\n    <!--   <div class=\"nav_item\"><a routerLink=\"/about\" routerLinkActive=\"active\">About the project</a></div>\n      <div class=\"nav_item\"><a routerLink=\"/team\" routerLinkActive=\"active\">The team</a></div>\n      <div class=\"nav_item\"><a routerLink=\"/viz\" routerLinkActive=\"active\">Our maps</a></div>\n      <div class=\"nav_item\"><a routerLink=\"/api\" routerLinkActive=\"active\">Get the data</a></div> -->\n      <!-- <div id=\"sidebar_content\"  [style.height.px]=\"sideBarContentHeight\" class=\"style-3\" >\n\n        ECPPEC aims to produce new understanding of parliamentary elections in England between 1696 and 1832. Even though few could vote, these elections were often accompanied by an explosion of print, sermons, and song; processions, assemblies, and entertainments; and even new modes of dress, decoration, and behaviour. \n        Men and women, adults and children, rich and poor, franchised and unenfranchised, all participated - as consumers, but also as active makers of these extraordinary cultural and political experiences. <br><br>ECPPEC will combine literary and historical study of the print, visual, musical and material culture of elections, with big data analysis of poll books, including innovative mapping, visualisation and psephological assessment of who voted, who they voted for, and how this changed over time and place. The project has sharp, contemporary relevance in an age when fewer people are voting, and when data analytics and targeted media interventions are changing the way we think about electoral processes.\n      </div>\n -->\n\n    </div>\n  </mat-drawer>\n\n  <!-- main page content goes here -->\n  <router-outlet ></router-outlet>\n\n\n</mat-drawer-container>\n</div>","import { NgModule } from '@angular/core';\nimport { BrowserModule } from '@angular/platform-browser';\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\nimport { Ng5SliderModule } from 'ng5-slider';\nimport { AppComponent } from './app.component';\nimport { HelloComponent } from './hello.component';\n\nimport { HttpClientModule } from '@angular/common/http';\nimport { ActivatedRoute } from '@angular/router';\nimport { AngularDraggableModule } from 'ngx-draggable-resize';\n\nimport { RouterModule, Routes } from '@angular/router';\nimport { BrowserAnimationsModule } from '@angular/platform-browser/animations';\n// import { MatSliderModule } from '@angular/material/slider';\nimport {MatPaginatorModule} from '@angular/material/paginator';\n// import {MatFormFieldModule} from '@angular/material/form-field';\n// import {MatTableDataSource} from '@angular/material/table';\nimport { MatAutocompleteModule } from '@angular/material/autocomplete';\nimport { MatButtonModule } from '@angular/material/button';\nimport { MatCardModule } from '@angular/material/card';\nimport { MatIconModule } from '@angular/material/icon';\nimport { MatMenuModule } from '@angular/material/menu';\nimport { MatTableModule } from '@angular/material/table';\nimport { MatToolbarModule } from '@angular/material/toolbar';\nimport {MatRadioModule} from '@angular/material/radio';\nimport {MatDialogModule} from '@angular/material/dialog';\n\nimport { MatSidenavModule } from '@angular/material/sidenav';\n\n\nimport { DatePipePipe } from './date-pipe.pipe';\n\nimport { MatSelectModule } from \"@angular/material/select\";\n// import { MatIconModule } from \"@angular/material/icon\";\nimport { MatInputModule } from \"@angular/material/input\";\nimport { AboutComponent } from './about/about.component';\nimport { AppRoutingModule } from './app-routing.module';\nimport { VizComponent } from './viz/viz.component';\nimport { TeamComponent } from './team/team.component';\nimport { OutputsComponent } from './outputs/outputs.component';\nimport { DialogueComponent } from './dialogue/dialogue.component';\nimport { ApiComponent } from './api/api.component';\nimport { PollbookDialogueComponent } from './pollbook-dialogue/pollbook-dialogue.component';\nimport { MatTooltipModule } from '@angular/material/tooltip';\nimport { ResizableModule } from 'angular-resizable-element';\nimport { WalkthroughModule } from 'ngx-walkthrough';\nimport { MatButtonToggleModule } from '@angular/material/button-toggle';\nimport { WarningDialogueComponent } from './warning-dialogue/warning-dialogue.component';\n\nimport { GoogleMapsModule } from '@angular/google-maps'\n\n\n// import { DialogElementsExampleDialog } from './app.component';\n\n// import {FormsModule, ReactiveFormsModule} from '@angular/forms';\n\n\n@NgModule({\n\timports: [\n\t\t// MatSliderModule,\n\t\tFormsModule,\n\t    ReactiveFormsModule,\n\t\tBrowserModule,\n\t\tHttpClientModule,\n\t\tMatRadioModule,\n\t\tMatSidenavModule,\n\t\tFormsModule,\n\t\tMatDialogModule,\n\t\tMatTooltipModule,\n\t\tNg5SliderModule,\n\t\tMatPaginatorModule,\n\t\tMatButtonModule,\n\t\tMatMenuModule,\n\t\tMatToolbarModule,\n\t\tMatAutocompleteModule,\n\t\tMatIconModule,\n\t\tMatCardModule,\n\t\tMatTableModule,\n\t\tMatSelectModule,\n\t\tMatInputModule,\n\t\tAppRoutingModule,\n\t\tAngularDraggableModule,\n\t\tResizableModule,\n\t\tWalkthroughModule,\n\t\tMatButtonToggleModule,\n\t\tGoogleMapsModule,\n\t\tBrowserAnimationsModule,\n\t\tAppRoutingModule\n\t],\n\tdeclarations: [\n\t\tAppComponent, \n\t\tHelloComponent, \n\t\tDatePipePipe, \n\t\tAboutComponent, \n\t\tVizComponent, \n\t\tTeamComponent, \n\t\tOutputsComponent, \n\t\tDialogueComponent, \n\t\tApiComponent, \n\t\tPollbookDialogueComponent, \n\t\tWarningDialogueComponent\n\t],\n\tproviders: [  \n         \n    ],\n\tentryComponents: [\n\t\tAppComponent, \n\t\tDialogueComponent,\n\t\tPollbookDialogueComponent,\n\t\tWarningDialogueComponent\n\t],\n\tbootstrap: [AppComponent]\n})\nexport class AppModule {\n}","import { Component, OnInit,Inject } from '@angular/core';\n// import {MAT_DIALOG_DATA} from '@angular/material/dialog';\nimport { MAT_DIALOG_DATA, MatDialogRef } from \"@angular/material/dialog\";\n\n@Component({\n  selector: 'app-warning-dialogue',\n  templateUrl: './warning-dialogue.component.html',\n  styleUrls: ['./warning-dialogue.component.scss']\n})\nexport class WarningDialogueComponent implements OnInit {\n\n  constructor(private dialogRef: MatDialogRef<WarningDialogueComponent>, @Inject(MAT_DIALOG_DATA) public data: any) { }\n\n  ngOnInit() {\n  }\n  \tcloseAndStopUnlinking(){\n\t\tvar obj = {\n\t\t\tstopUnlinking: true\n\t\t}\n\t\tthis.dialogRef.close(obj);\n\n\t}\n\n}\n","<p>Your search has returned {{data.numConstituenciesInSearch}} constituencies. Showing it on the map would be rather slow so we've unlinked the map. You can turn it back on by clicking the 'link map' button.</p>\n\n\n<mat-dialog-actions>\n\t<button mat-button mat-dialog-close>Close</button>\n\t<button mat-button mat-dialog-close (click)=\"closeAndStopUnlinking()\">Close and stop unlinking the map!</button>\n\n</mat-dialog-actions>","import { Injectable } from '@angular/core';\n\n@Injectable({\n\tprovidedIn: 'root'\n})\nexport class DownloadService {\n\n\t// constructor() { }\n\tdownloadFile(data, filename='data') {\n\t\tlet csvData = this.ConvertToCSV(data, ['constituency','election_year', 'election_month', 'countyboroughuniv', 'contested',  'franchise_type','byelectiongeneral','pollbook_id']);\n\t\t// console.log(csvData)\n\t\tlet blob = new Blob(['\\ufeff' + csvData], { type: 'text/csv;charset=utf-8;' });\n\t\tlet dwldLink = document.createElement(\"a\");\n\t\tlet url = URL.createObjectURL(blob);\n\t\tlet isSafariBrowser = navigator.userAgent.indexOf('Safari') != -1 && navigator.userAgent.indexOf('Chrome') == -1;\n        if (isSafariBrowser) {  //if Safari open in new window to save file with random filename.\n        \tdwldLink.setAttribute(\"target\", \"_blank\");\n        }\n        dwldLink.setAttribute(\"href\", url);\n        dwldLink.setAttribute(\"download\", filename + \".csv\");\n        dwldLink.style.visibility = \"hidden\";\n        document.body.appendChild(dwldLink);\n        dwldLink.click();\n        document.body.removeChild(dwldLink);\n    }\n    ConvertToCSV(objArray, headerList) {\n    \tlet array = typeof objArray != 'object' ? JSON.parse(objArray) : objArray;\n    \tlet str = '';\n    \tlet row = 'S.No,';\n    \tfor (let index in headerList) {\n    \t\trow += headerList[index] + ',';\n    \t}\n    \trow = row.slice(0, -1);\n    \tstr += row + '\\r\\n';\n    \tfor (let i = 0; i < array.length; i++) {\n    \t\tlet line = (i+1)+'';\n    \t\tfor (let index in headerList) {\n    \t\t\tlet head = headerList[index];\n    \t\t\tline += ',' + array[i][head];\n    \t\t}\n    \t\tstr += line + '\\r\\n';\n    \t}\n    \treturn str;\n    }\n}\n","import { Injectable } from '@angular/core';\nimport { HttpClient } from '@angular/common/http';\n\n@Injectable({\n\tprovidedIn: 'root'\n})\nexport class HOPService {\n\n\tconstructor(private http: HttpClient) { }\n\n\tdataUrl='https://ecppec.ncl.ac.uk/php/getHOP.php/?constituency=';\n//\tdataUrl='/ECPPEC/php/getHOP.php/?constituency=';\n\tgetData(constituency, year) {\n\t\t//console.log(\"this.dataUrl+constituency\",this.dataUrl+constituency+\"&year=\"+year);\n\t\treturn this.http.get(this.dataUrl+constituency+\"&year=\"+year);\n\t}\n}\n\n\n// import { Injectable } from '@angular/core';\n// import { HttpClient } from '@angular/common/http';\n\n// @Injectable({\n\t//   providedIn: 'root'\n\t// })\n\t// export class GetPollBooksService {\n\n\t\t//   constructor(private http: HttpClient) { }\n\t\t// //Beds_1705a/1\n\t\t//   dataUrl='http://localhost:8888/ECCPEC_code/php/getPollBooks.php/?BookCode=';\n\t\t//   //dataUrl='/ECPPEC/php/getPollBooks.php/?BookCode=';\n\t\t// \tgetData(pollBookCode) {\n\t\t\t// \t\tconsole.log(\"this.dataUrl+pollBookCode\",this.dataUrl+pollBookCode);\n\t\t\t// \t  return this.http.get(this.dataUrl+pollBookCode);\n\t\t\t// \t}\n\t\t\t// }\n","/**\n * This file includes polyfills needed by Angular and is loaded before the app.\n * You can add your own extra polyfills to this file.\n *\n * This file is divided into 2 sections:\n *   1. Browser polyfills. These are applied before loading ZoneJS and are sorted by browsers.\n *   2. Application imports. Files imported after ZoneJS that should be loaded before your main\n *      file.\n *\n * The current setup is for so-called \"evergreen\" browsers; the last versions of browsers that\n * automatically update themselves. This includes Safari >= 10, Chrome >= 55 (including Opera),\n * Edge >= 13 on the desktop, and iOS 10 and Chrome on mobile.\n *\n * Learn more in https://angular.io/docs/ts/latest/guide/browser-support.html\n */\n\n/***************************************************************************************************\n * BROWSER POLYFILLS\n */\n\n/** IE9, IE10 and IE11 requires all of the following polyfills. **/\nimport 'core-js/es6/symbol';\nimport 'core-js/es6/object';\nimport 'core-js/es6/function';\nimport 'core-js/es6/parse-int';\nimport 'core-js/es6/parse-float';\nimport 'core-js/es6/number';\nimport 'core-js/es6/math';\nimport 'core-js/es6/string';\nimport 'core-js/es6/date';\nimport 'core-js/es6/array';\nimport 'core-js/es6/regexp';\nimport 'core-js/es6/map';\nimport 'core-js/es6/set';\n\n/** IE10 and IE11 requires the following for NgClass support on SVG elements */\n// import 'classlist.js';  // Run `npm install --save classlist.js`.\n\n/** IE10 and IE11 requires the following to support `@angular/animation`. */\nimport 'web-animations-js';  // Run `npm install --save web-animations-js`.\n\n\n/** Evergreen browsers require these. **/\nimport 'core-js/es6/reflect';\nimport 'core-js/es7/reflect';\n\n\n/** ALL Firefox browsers require the following to support `@angular/animation`. **/\n// import 'web-animations-js';  // Run `npm install --save web-animations-js`.\n\n\n\n/***************************************************************************************************\n * Zone JS is required by Angular itself.\n */\nimport 'zone.js/dist/zone';  // Included with Angular CLI.\n\n\n/***************************************************************************************************\n * APPLICATION IMPORTS\n */\n\n/**\n * Date, currency, decimal and percent pipes.\n * Needed for: All but Chrome, Firefox, Edge, IE11 and Safari 10\n */\n// import 'intl';  // Run `npm install --save intl`.","import { Pipe, PipeTransform } from '@angular/core';\nexport interface FilterObj {\n  lowValue: number;\n  highValue: number;\n}\n@Pipe({\n  name: 'datePipe'\n})\nexport class DatePipePipe implements PipeTransform {\n\n  transform(items: any[], filter: FilterObj): any {\n  \t// if (!items || !filter) {\n   //          return items;\n   //      }\n\n        var filtered = [];\n        for (var i = 0; i < items.length; i++) {\n        \tif(items[i].minYear>=filter.lowValue && items[i].maxYear<=filter.highValue){\n        \t\tfiltered.push(items[i]);\n        \t}\n        }\n        return filtered;\n        // filter items array, items which match and return true will be\n        // kept, false will be filtered out\n        // return items.filter(item => item.name.indexOf(\"York\") !== -1);\n   // return null;\n  }\n\n}\n","<div id=\"container\" [style.height.px]=\"myInnerHeight\">\n\t\n\t<div id=\"style-3\" style=\"background-size: cover; background-repeat: no-repeat;\" [ngStyle]=\"{'background-image': getUrl(member)}\" class=\"team_member\" *ngFor=\"let member of team\">\n\t\t<h1 style=\"font-family: Catamaran\">{{ member.name }}</h1>\n\t\t<div id=\"spacer\"></div>\n\t\t<h2 style=\"font-family: Catamaran\">{{ member.position }}</h2>\n<!-- \t\t<div class=\"low_section\">\n\t\t\t\n\t\t</div> -->\n\t\t<div class=\"about_section\">\n\t\t\t<p style=\"height:100%; overflow: hidden;\">{{ member.about }}</p>\n\t\t</div>\n\t</div>\n</div>","import { Component, OnInit } from '@angular/core';\n\n\nexport interface TeamMember{\n\tname: string;\n\tposition: string;\n\tabout: string;\n}\n@Component({\n\tselector: 'app-team',\n\ttemplateUrl: './team.component.html',\n\tstyleUrls: ['./team.component.scss'],\n\thost: {\n\t\t'(window:resize)': 'onResize($event)'\n\t}\n})\nexport class TeamComponent implements OnInit {\n\n\tconstructor() { }\n\tmyInnerHeight: number;\n\tsideBarWidth: number;\n\tteam: any [];\n\tngOnInit() {\n\n\n\t\tthis.myInnerHeight = window.innerHeight;\n\t//\tconsole.log(\"innerHeight\",this.myInnerHeight);\n\n\tthis.team = [\n\t\t{\n\t\t\tname:\"Professor Matthew Grenby\",\n\t\t\tposition:\"Principal Investigator\",\n\t\t\tabout: \"Matthew Grenby is Professor of Eighteenth-Century Studies and Dean of Research and Innovation at Newcastle University. Following a first degree and PhD in history at the University of Edinburgh, he taught at several universities before being appointed Fulbright-Robertson Professor of British History at Westminster College in Fulton, Missouri. In 1999, he returned to the UK to work in departments of English, first at De Montfort University, and from 2005 at Newcastle. His research has been on British cultural history in the long eighteenth century, with a focus on political fiction and childrens literature and culture.\",\n\t\t\tlink:\"https://www.liverpool.ac.uk/history/staff/elaine-chalus/\",\n\t\t\timage:\"matthew.jpg\"\n\t\t},\n\t\t{\n\t\t\tname:\"Professor Elaine Chalus\",\n\t\t\tposition:\"Co Investigator\",\n\t\t\tabout: \"Originally trained as a teacher in Canada, I taught for ten years in northern Alberta before returning to university and pursuing postgraduate studies in History as a mature student. I completed my MA at the University of Alberta moved to Oxford (courtesy of receiving a Social Sciences and Humanities Research Council Doctoral Fellowship Award), where I was fortunate to complete my DPhil under the late Professor Paul Langford. I joined the Department of History at the University of Liverpool in May 2016 from Bath Spa University.\",\n\t\t\tlink:\"https://www.liverpool.ac.uk/history/staff/elaine-chalus/\",\n\t\t\timage:\"elaine.jpg\"\n\t\t},\n\t\t{\n\t\t\tname:\"Dr Kendra Packham\",\n\t\t\tposition:\"Research Associate\",\n\t\t\tabout: \"Kendra is a Research Associate at Newcastle University. She specializes in the relations between literary representationsincluding plays, ballads, and novelsand electoral culture. She was awarded her doctorate by the University of Oxford, and has taught and held Fellowships at the universities of Oxford and Cambridge; she has also held Visiting Fellowships at the Lewis Walpole Library, Yale University, and the Folger Shakespeare Library, Washington, D.C. For the ECPPEC project, shes particularly focusing on recovering and analysing electoral culture, and the links between different electoral interventions and electoral behaviour and political participation.\",\n\t\t\tlink:\"https://www.liverpool.ac.uk/history/staff/elaine-chalus/\",\n\t\t\timage:\"kendra.jpg\"\n\t\t},\n\t\t{\n\t\t\tname:\"Dr James Harris\",\n\t\t\tposition:\"Research Associate\",\n\t\t\tabout: \"James joined Newcastle University as a Research Associate in February 2020, having completed his doctorate at the University of Oxford. He leads on the collection and analysis of polling data for the ECPPEC project, whilst conducting broader research into election practices and political participation. His wider research interests include regional history (particularly Cornwall and Wales), antiquarianism, and the development of Anglicanism.\",\n\t\t\tlink:\"https://www.ncl.ac.uk/elll/staff/profile/jamesharris.html#background\",\n\t\t\timage:\"james.jpg\"\n\t\t},\n\t\t{\n\t\t\tname:\"Dr Tom Schofield\",\n\t\t\tposition:\"Co Investigator\",\n\t\t\tabout: \"My work with archives and cultural data engages practically with issues of digital culture through creative art and design practice. As heritage is increasingly experienced through digital means, issues of objecthood become sites for potential scholarly and creative intervention. I use art and design methods to help us think about the value of cultural heritage, bring it to new publics and rethink scholarly approaches to it.\",\n\t\t\tlink:\"https://www.liverpool.ac.uk/history/staff/elaine-chalus/\",\n\t\t\timage:\"tom.jpg\"\n\t\t},\n\t\t{\n\t\t\tname:\"Dr John Shoneboom\",\n\t\t\tposition:\"Research Software Developer\",\n\t\t\tabout: \"John is a Research Software Developer with a longstanding focus on making complex data sets useful to a stakeholder community that ranges from lay people to experts. He is also a novelist and playwright with a PhD in Creative Writing, an MA in Science, Technology, and International Affairs, and a BA in Political Science. When hes not writing code and taming databases, his practice-led research interest is in developing a surrealist mode of inquiry for interrogating (inter alia) the national security state.\",\n\t\t\tlink:\"https://www.ncl.ac.uk/sacs/staff/\",\n\t\t\timage:\"john.jpg\"\n\t\t},\n\t\t{\n\t\t\tname:\"Dan Foster Smith\",\n\t\t\tposition:\"Research Software Developer\",\n\t\t\tabout: \"Dan joined the ECPPEC project as a Research Software Developer in January 2021. He has a background in Graphic Design, Software Development and Data visualisation. He has previously worked as a Research Associate Newcastle University on a number of Cultural Heritage Projects and is also currently studding a PhD in AI and Design. For the ECPPEC project, hes jointly focusing on the development of the API and online visualisation of the polling data and the surrounding electoral cultural.\",\n\t\t\tlink:\"https://www.ncl.ac.uk/sacs/staff/profile/danielfoster-smith.html\",\n\t\t\timage:\"dan.jpg\"\n\t\t}\n\t];\n}\nonResize(event) {\n  // event.target.innerWidth;\n  this.myInnerHeight = event.target.innerHeight;\n}\ngetUrl(member)\n{\n\t//console.log(\"url('./assets/images/team/\"+member.image+\"')\");\n\treturn \"url('./assets/images/team/\"+member.image+\"')\";\n}\n}\n","import { NgModule } from '@angular/core';\nimport { RouterModule, Routes } from '@angular/router';\nimport { AboutComponent } from './about/about.component';\nimport { AppComponent } from './app.component';\nimport { VizComponent } from './viz/viz.component';\nimport { TeamComponent } from './team/team.component';\nimport { OutputsComponent } from './outputs/outputs.component';\nimport { ApiComponent } from './api/api.component';\n\nconst routes: Routes = [\n{ path: '', redirectTo: '/viz', pathMatch: 'full' },\n  { path: 'about', component: AboutComponent },\n  { path: 'viz', component: VizComponent },\n  { path: 'team', component: TeamComponent },\n  { path: 'api', component: ApiComponent },\n  { path: 'outputs', component: OutputsComponent }\n];\n\n@NgModule({\n  imports: [RouterModule.forRoot(routes, { useHash: true, relativeLinkResolution: 'legacy' })],\n  exports: [RouterModule]\n})\nexport class AppRoutingModule { }","import { ElementRef, ApplicationRef, Component, Directive, OnInit, OnDestroy, Output, EventEmitter, OnChanges, ViewChild } from '@angular/core';\n// import { Subscription } from 'rxjs/Subscription';\nimport { GoogleMapsModule,GoogleMap } from '@angular/google-maps'\n\nimport { ResizeEvent } from 'angular-resizable-element';\nimport { GeojsonServiceService } from '../geojson-service.service';\n\nimport { GetElectionsService } from '../get-elections.service';\n\nimport { BoroughService } from '../borough.service';\nimport { CentroidsService } from '../centroids.service';\nimport { GetPollBooksService } from '../get-poll-books.service';\nimport { HOPService } from '../hop.service';\n\nimport { DownloadService } from '../download.service';\nimport { DownloadPollBooksService } from '../download-poll-books.service';\n\n\nimport { GetLatLonService } from '../get-lat-lon.service';\nimport { Options, ChangeContext, PointerType } from 'ng5-slider';\n\nimport { HttpParams, HttpClient } from '@angular/common/http';\nimport 'rxjs/add/operator/map';\n\nimport { MatPaginator } from '@angular/material/paginator';\nimport { MatTableDataSource } from '@angular/material/table';\n\nimport { Location } from '../location';\n\nimport { MatFormFieldControl } from '@angular/material/form-field';\n\nimport { FormControl } from '@angular/forms';\nimport * as cloneDeep from 'lodash/cloneDeep';\nimport { DoCheck, KeyValueDiffers, KeyValueChangeRecord } from '@angular/core';\n\nimport { MatDialog } from '@angular/material/dialog';\nimport { PollbookDialogueComponent } from '../pollbook-dialogue/pollbook-dialogue.component';\nimport { DialogueComponent } from '../dialogue/dialogue.component';\nimport { WarningDialogueComponent } from '../warning-dialogue/warning-dialogue.component';\n\nimport { WalkthroughModule } from 'ngx-walkthrough';\nimport { TooltipPosition } from '@angular/material/tooltip';\nimport { MatButtonModule } from '@angular/material/button';\nimport { Injectable } from '@angular/core';\nimport { ThisReceiver, ThrowStmt } from '@angular/compiler';\n\n// export interface Election {\n// \tYear: string;\n// \tMonth: string;\n// \tConstituency: string;\n// \tCountyBoroughUniv: string;\n// \tByElectionGeneral: string;\n// \tContested: string;\n// \tElectionCode: string;\n// \tFranchise:string;\n// \tPollBookCode: string;\n// \tNotes: string;\n// \tLatitude: string;\n// \tLongitude: string;\n// \tlat:number;\n// \tlng:number;\n// }\nexport interface Election {\n\telection_year: string;\n\telection_month: string;\n\tconstituency: string;\n\tcountyboroughuniv: string;\n\tby_election_general: string;\n\tcontested: string;\n\telection_id: string;\n\tfranchise_type:string;\n\tpollbook_id: string;\n\tnotes: string;\n\tlatitude: string;\n\tlongitude: string;\n\tlat:number;\n\tlng:number;\n}\nexport interface PollBook {\n\n\tBookCode: string;\n\tPrintMS: string;\n\tCitation: string;\n\tHoldings: string;\n\tSource: string;\n\tElectionCode: string;\n\tNotes: string;\n}\n\nexport interface PollBookResponse {\n\n\tnum_results: number;\n\tpoll_books: PollBook[];\n}\n\nexport interface Elections {\n\tnum_results: number;\n\tearliest_year: number;\n\tlatest_year: number;\n\telections: any[];\n}\nexport interface FilterObj {\n\tlowValue: number;\n\thighValue: number;\n}\nexport interface APIResponse {\n\tbooks: PollBook[];\n}\nexport interface HOPData {\n\tinnerText: string;\n\tyearRange: string;\n\turl: string;\n\tconstituency: string;\n\tfetch: boolean;\n}\nexport interface Borough {\n\tformatted_address: string;\n\tlat: number;\n\tlng: number;\n\t// books:PollBook[];\n}\nexport interface Boroughs {\n\t[key: string]: Borough;\n\t// books:PollBook[];\n}\nexport interface GEOJSON {\n\ttype: string;\n\tfeatures: any[];\n}\nexport interface County {\n\tname: string;\n\tlat: number;\n\tlng: number;\n\tisOpen: boolean;\n\t// books:PollBook[];\n}\nexport interface Centroid {\n\tname: string;\n\tlat: number;\n\tlng: number;\n}\n\nexport interface googleMapsMarkerWrapper {\n\tposition: google.maps.LatLngLiteral;\n\toptions: google.maps.MarkerOptions;\n\ttitle: string;\n\ttype:string;\n}\n\nexport interface Marker {\n\tposition:{\n\t\tlat:number;\n\t\tlng: number;\n\t\t}\n\t\ttitle:string;\n\t\toptions:any;\n\t\ticon:string;\n\t\tvisible:boolean;\n\t\t// label:string;\n\t// formatted_address?: string;\n\t// selected: boolean;\n\t// draggable: boolean;\n}\nexport interface constituency {\n\tlat: number;\n\tlng: number;\n\tformatted_address?: string;\n\tpollbooks: PollBook[];\n\t// draggable: boolean;\n}\n\n\n\n@Component({\n\ttemplateUrl: './viz.component.html',\n\tstyleUrls: ['./viz.component.scss']\n})\nexport class VizComponent implements OnInit, OnDestroy, OnChanges {\n\t\n\n\tprivate _differ: any;\n\n\tconstructor(public dialog: MatDialog, private _differs: KeyValueDiffers, private appRef: ApplicationRef, private centroidsService: CentroidsService, private boroughService: BoroughService, private http: HttpClient, private hOPService: HOPService, private downloadPollBooksService: DownloadPollBooksService, private downloadService: DownloadService, private getElectionsService: GetElectionsService, private geojsonServiceService: GeojsonServiceService, private getPollBooksService: GetPollBooksService, private getLatLonService: GetLatLonService) {\n\t\tthis._differ = _differs.find({}).create();\n\t}\n\n\tconstituencies: any[];\n\n\tfilterargs: FilterObj;\n\n\t//@dan hop is history of parliament. I have a service which goes and scrapes their etnry for an election\n\thopData: HOPData;\n\n\tboroughs: Boroughs;\n\n\t//I had to make my own data for cetnroids of the boroughs by hand\n\tcentroids: Centroid[] = [];\n\tcounties: County[] = [];\n\t elections: Election[];\n\t uniqueElections: Election []=[];\n\t//electionsNew: ElectionNew [];\n\ta: string = \"wiating\";\n\n\tpublic style: object = {};\n\n\tgotPollBooks: boolean = false;\n\n\tlocationLookup: any;\n\tclicked:boolean = false; //debouncer for the datalayer click\n\n\tzoom: number = 7;\n\tmapIsReady:boolean = false;\n\toptions: google.maps.MapOptions = {\n\t\tmapTypeId: 'hybrid',\n\t\t// zoomControl: false,\n\t\t// scrollwheel: false,\n\t\t// disableDoubleClickZoom: true,\n\t\tmaxZoom: 10,\n\t\tminZoom: 2,\n\t\tstyles:[\n\t\t{\n\t\t\t\"elementType\": \"geometry\",\n\t\t\t\"stylers\": [\n\t\t\t{\n\t\t\t\t\"color\": \"#999999\"\n\t\t\t}\n\t\t\t]\n\t\t},\n\t\t{\n\t\t\t\"elementType\": \"labels\",\n\t\t\t\"stylers\": [\n\t\t\t{\n\t\t\t\t\"visibility\": \"off\"\n\t\t\t}\n\t\t\t]\n\t\t},\n\t\t{\n\t\t\t\"elementType\": \"labels.text.fill\",\n\t\t\t\"stylers\": [\n\t\t\t{\n\t\t\t\t\"color\": \"#757575\"\n\t\t\t}\n\t\t\t]\n\t\t},\n\t\t{\n\t\t\t\"elementType\": \"labels.text.stroke\",\n\t\t\t\"stylers\": [\n\t\t\t{\n\t\t\t\t\"color\": \"#212121\"\n\t\t\t}\n\t\t\t]\n\t\t},\n\t\t{\n\t\t\t\"featureType\": \"administrative\",\n\t\t\t\"elementType\": \"geometry\",\n\t\t\t\"stylers\": [\n\t\t\t{\n\t\t\t\t\"color\": \"#757575\"\n\t\t\t},\n\t\t\t{\n\t\t\t\t\"visibility\": \"off\"\n\t\t\t}\n\t\t\t]\n\t\t},\n\t\t{\n\t\t\t\"featureType\": \"administrative.country\",\n\t\t\t\"elementType\": \"labels.text.fill\",\n\t\t\t\"stylers\": [\n\t\t\t{\n\t\t\t\t\"color\": \"#9e9e9e\"\n\t\t\t}\n\t\t\t]\n\t\t},\n\t\t{\n\t\t\t\"featureType\": \"administrative.land_parcel\",\n\t\t\t\"stylers\": [\n\t\t\t{\n\t\t\t\t\"visibility\": \"off\"\n\t\t\t}\n\t\t\t]\n\t\t},\n\t\t{\n\t\t\t\"featureType\": \"administrative.locality\",\n\t\t\t\"elementType\": \"labels.text.fill\",\n\t\t\t\"stylers\": [\n\t\t\t{\n\t\t\t\t\"color\": \"#bdbdbd\"\n\t\t\t}\n\t\t\t]\n\t\t},\n\t\t{\n\t\t\t\"featureType\": \"administrative.neighborhood\",\n\t\t\t\"stylers\": [\n\t\t\t{\n\t\t\t\t\"visibility\": \"off\"\n\t\t\t}\n\t\t\t]\n\t\t},\n\t\t{\n\t\t\t\"featureType\": \"poi\",\n\t\t\t\"stylers\": [\n\t\t\t{\n\t\t\t\t\"visibility\": \"off\"\n\t\t\t}\n\t\t\t]\n\t\t},\n\t\t{\n\t\t\t\"featureType\": \"poi\",\n\t\t\t\"elementType\": \"labels.text\",\n\t\t\t\"stylers\": [\n\t\t\t{\n\t\t\t\t\"visibility\": \"off\"\n\t\t\t}\n\t\t\t]\n\t\t},\n\t\t{\n\t\t\t\"featureType\": \"poi\",\n\t\t\t\"elementType\": \"labels.text.fill\",\n\t\t\t\"stylers\": [\n\t\t\t{\n\t\t\t\t\"color\": \"#757575\"\n\t\t\t}\n\t\t\t]\n\t\t},\n\t\t{\n\t\t\t\"featureType\": \"poi.park\",\n\t\t\t\"elementType\": \"geometry\",\n\t\t\t\"stylers\": [\n\t\t\t{\n\t\t\t\t\"color\": \"#181818\"\n\t\t\t}\n\t\t\t]\n\t\t},\n\t\t{\n\t\t\t\"featureType\": \"poi.park\",\n\t\t\t\"elementType\": \"labels.text.fill\",\n\t\t\t\"stylers\": [\n\t\t\t{\n\t\t\t\t\"color\": \"#616161\"\n\t\t\t}\n\t\t\t]\n\t\t},\n\t\t{\n\t\t\t\"featureType\": \"poi.park\",\n\t\t\t\"elementType\": \"labels.text.stroke\",\n\t\t\t\"stylers\": [\n\t\t\t{\n\t\t\t\t\"color\": \"#1b1b1b\"\n\t\t\t}\n\t\t\t]\n\t\t},\n\t\t{\n\t\t\t\"featureType\": \"road\",\n\t\t\t\"stylers\": [\n\t\t\t{\n\t\t\t\t\"visibility\": \"off\"\n\t\t\t}\n\t\t\t]\n\t\t},\n\t\t{\n\t\t\t\"featureType\": \"road\",\n\t\t\t\"elementType\": \"geometry.fill\",\n\t\t\t\"stylers\": [\n\t\t\t{\n\t\t\t\t\"color\": \"#2c2c2c\"\n\t\t\t}\n\t\t\t]\n\t\t},\n\t\t{\n\t\t\t\"featureType\": \"road\",\n\t\t\t\"elementType\": \"labels\",\n\t\t\t\"stylers\": [\n\t\t\t{\n\t\t\t\t\"visibility\": \"off\"\n\t\t\t}\n\t\t\t]\n\t\t},\n\t\t{\n\t\t\t\"featureType\": \"road\",\n\t\t\t\"elementType\": \"labels.icon\",\n\t\t\t\"stylers\": [\n\t\t\t{\n\t\t\t\t\"visibility\": \"off\"\n\t\t\t}\n\t\t\t]\n\t\t},\n\t\t{\n\t\t\t\"featureType\": \"road\",\n\t\t\t\"elementType\": \"labels.text.fill\",\n\t\t\t\"stylers\": [\n\t\t\t{\n\t\t\t\t\"color\": \"#8a8a8a\"\n\t\t\t}\n\t\t\t]\n\t\t},\n\t\t{\n\t\t\t\"featureType\": \"road.arterial\",\n\t\t\t\"elementType\": \"geometry\",\n\t\t\t\"stylers\": [\n\t\t\t{\n\t\t\t\t\"color\": \"#373737\"\n\t\t\t}\n\t\t\t]\n\t\t},\n\t\t{\n\t\t\t\"featureType\": \"road.highway\",\n\t\t\t\"elementType\": \"geometry\",\n\t\t\t\"stylers\": [\n\t\t\t{\n\t\t\t\t\"color\": \"#3c3c3c\"\n\t\t\t}\n\t\t\t]\n\t\t},\n\t\t{\n\t\t\t\"featureType\": \"road.highway.controlled_access\",\n\t\t\t\"elementType\": \"geometry\",\n\t\t\t\"stylers\": [\n\t\t\t{\n\t\t\t\t\"color\": \"#4e4e4e\"\n\t\t\t}\n\t\t\t]\n\t\t},\n\t\t{\n\t\t\t\"featureType\": \"road.local\",\n\t\t\t\"elementType\": \"labels.text.fill\",\n\t\t\t\"stylers\": [\n\t\t\t{\n\t\t\t\t\"color\": \"#616161\"\n\t\t\t}\n\t\t\t]\n\t\t},\n\t\t{\n\t\t\t\"featureType\": \"transit\",\n\t\t\t\"stylers\": [\n\t\t\t{\n\t\t\t\t\"visibility\": \"off\"\n\t\t\t}\n\t\t\t]\n\t\t},\n\t\t{\n\t\t\t\"featureType\": \"transit\",\n\t\t\t\"elementType\": \"labels.text.fill\",\n\t\t\t\"stylers\": [\n\t\t\t{\n\t\t\t\t\"color\": \"#757575\"\n\t\t\t}\n\t\t\t]\n\t\t},\n\t\t{\n\t\t\t\"featureType\": \"water\",\n\t\t\t\"elementType\": \"geometry\",\n\t\t\t\"stylers\": [\n\t\t\t{\n\t\t\t\t\"color\": \"#000000\"\n\t\t\t}\n\t\t\t]\n\t\t},\n\t\t{\n\t\t\t\"featureType\": \"water\",\n\t\t\t\"elementType\": \"labels.text\",\n\t\t\t\"stylers\": [\n\t\t\t{\n\t\t\t\t\"visibility\": \"off\"\n\t\t\t}\n\t\t\t]\n\t\t},\n\t\t{\n\t\t\t\"featureType\": \"water\",\n\t\t\t\"elementType\": \"labels.text.fill\",\n\t\t\t\"stylers\": [\n\t\t\t{\n\t\t\t\t\"color\": \"#3d3d3d\"\n\t\t\t}\n\t\t\t]\n\t\t}\n\t\t]\n\n\t}\n\tcenter: google.maps.LatLngLiteral= {\n\t\tlat: 52.4862,\n\t\tlng: 1.8904\n\t}\n\n\n\n\n\n\tpollBooks: PollBookResponse;\n\n\tmapLinked: boolean = true;\n\n\telectionsMeta: Elections;\n\n\tHOPtext: string = \"\";\n\n\tanimating: boolean = false;\n\tanimatingId: number;\n\n\n\n\tconstituencyNames: string [] = [];\n\n\tmarkers: Marker[] = [];\n\tmmarkers: googleMapsMarkerWrapper[] = [];\n\tdynamicMarker: google.maps.Marker;\n\tdynamicMarkers: google.maps.Marker []=[];\n\n\tboroughMarkers:Marker[] = [];//google.maps.Marker [] = [\t\t\n\t\timage: google.maps.Icon  = {\n\t\t\turl: '/assets/images/dot.svg',\n\t\t\tsize: new google.maps.Size(10, 10),\n\t\t\torigin: new google.maps.Point(0, 0),\n\t\t\tanchor: new google.maps.Point(5, 5),\n\t\t\tscaledSize: new google.maps.Size(10, 10)\n\t\t  };\n\t\t  countyMarkerOption: google.maps.MarkerOptions = {\n\t\t\ticon:this.image,\n\t\t\t//                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         title:\telement.constituency,\n\t\t\tvisible:true\n\t\t\t// label:  {text: element.constituency , color: \"white\"}\n\t\t}\n\n\t\timageFore: google.maps.Icon  = {\n\t\t\turl: '/assets/images/smarker.svg',\n\t\t\tsize: new google.maps.Size(20, 20),\n\t\t\torigin: new google.maps.Point(0, 0),\n\t\t\tanchor: new google.maps.Point(10, 10),\n\t\t\tscaledSize: new google.maps.Size(20, 20)\n\t\t  };\n\t\t  countyForegroundMarkerOption: google.maps.MarkerOptions = {\n\t\t\ticon:this.imageFore,\n\t\t\t// animation: google.maps.Animation.DROP,\n\t\t\t//                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         title:\telement.constituency,\n\t\t\tvisible:true\n\t\t\t// label:  {text: element.constituency , color: \"white\"}\n\t\t}\n\n\tboroughCentreMarkers:google.maps.Marker [] = [];\n\tcountyMarkers: google.maps.Marker [] = [];\n//\tcountyMarkerOption: google.maps.MarkerOptions = {draggable: false};\n\n\n\tcountyMarkerOptions: google.maps.MarkerOptions []= [];\n\tcountyMarkerPositions: google.maps.LatLngLiteral[] = [];\n\n\tboroughMarkerOptions: google.maps.MarkerOptions []= [];\n\tboroughMarkerPositions: google.maps.LatLngLiteral[] = [];\n\n\n\tmyCenter: google.maps.LatLngLiteral = {lat: 24, lng: 12};\n\t///the filtered markers currently on display\n\tdisplayedMarkers: Marker[] = [];\n\n\n\tforceLink: boolean = false;\n\n\t//the main filters for the table/database\n\tfilteredValues = {\n\t\telection_month: '', constituency: '', election_year: '', countyboroughuniv: '', contested: '', by_election_general: '', franchise_type: '',pollbook_id: ''\n\n\t};\n\t\n\n\t//for the graph\n\telectionsPerYear: any[] = [];\n\n\tconstituencyFilter = new FormControl();\n\tmonthFilter = new FormControl();\n\tyearFilter = new FormControl();\n\tcountyFilter = new FormControl();\n\tcontestedFilter = new FormControl();\n\tbyElectionGeneralFilter = new FormControl();\n\tfranchiseFilter = new FormControl();\n\tpollBookCodeFilter = new FormControl();\n\tglobalFilter = '';\n\n\thighlightedConsituencies: string[] = [];\n\n\tdisplayedColumns: string[] = ['constituency', 'election_year', 'election_month', 'countyboroughuniv', 'by_election_general', 'franchise_type', 'contested', 'pollbook_id'];\n\tdataSource = new MatTableDataSource<Election>();\n\n\tupdatingMapStyles: boolean = false;\n\t//for the timelines\n\tminYear: number = 1695;\n\tmaxYear: number = 1832;\n\n\tprevDataSourceSize: number = 0;\n\n\t// currentMinValue: number = this.minYear;\n\t// currentMaxValue: number = this.maxYear;\n\n\tsliderOptions: Options = {\n\t\tfloor: 1695,\n\t\tceil: 1832\n\t};\n\n\n\t// \n\t@ViewChild(MatPaginator, { static: true }) paginator: MatPaginator;\n\t@ViewChild(GoogleMap, { static: false }) map: GoogleMap;\n\n\t//this is a big inefficient watcher on the dataSource\n\tngDoCheck() {\n\n\n\t\tvar datObj = {};\n\t\tif (this.dataSource.filter.length > 0) {\n\n\t\t\tdatObj = JSON.parse(this.dataSource.filter);\n\t\t}\n\t\tconst change = this._differ.diff(datObj);\n\t\t\n\t\tif (change) {\n\t\t\tthis.electionsPerYear = this.getElectionsPerYear();\n\t\t\tthis.updateIsActive(this.getFilteredConstituencies());\n\t\t\tthis.setMapStyle();\n\t\t\tthis.makeAllMarkers();\n\t\t\tthis.getUniqueMarkers();\n\t\t\t//console.log(\"update \",this.dynamicMarkers);\n\t\t\tthis.dynamicMarkers.forEach(delement => {\n\t\t\t\tvar inData =false;\n\t\t\t\tvar cbu = \"\";\n\t\t\tthis.dataSource.filteredData.forEach(felement => {\n\t\t\t\t\n\t\t\t\tif(delement.getTitle().trim()==felement.constituency.trim()){\n\t\t\t\t\tinData = true;\n\t\t\t\t\tcbu = felement.countyboroughuniv;\n\t\t\t\t}\n\n\t\t\t});\n\t\t\tif(inData){\n\t\t\t\tvar image = {\n\t\t\t\t\turl: '/assets/images/smarker.svg',\n\t\t\t\t\tsize: new google.maps.Size(71, 71),\n\t\t\t\t\torigin: new google.maps.Point(0, 0),\n\t\t\t\t\tanchor: new google.maps.Point(17, 34),\n\t\t\t\t\tscaledSize: new google.maps.Size(25, 25)\n\t\t\t\t  };\n\t\t\t\t  var options = {\n\t\t\t\t\ticon:image,\n\t\t\t\t\ttitle:\tdelement.getTitle(),\n\t\t\t\t\tvisible:cbu==\"C\" ? false : true,\n\t\t\t\t\tlabel:  {text: delement.getTitle() , color: \"white\"}\n\t\t\t\t}\n\t\n\t\n\t\t\t delement.setOptions(options);\n\n\t\t\t}else{\n\t\t\t\tvar image = {\n\t\t\t\t\turl: '/assets/images/dot.svg',\n\t\t\t\t\tsize: new google.maps.Size(20, 20),\n\t\t\t\t\torigin: new google.maps.Point(0, 0),\n\t\t\t\t\tanchor: new google.maps.Point(10, 10),\n\t\t\t\t\tscaledSize: new google.maps.Size(20, 20)\n\t\t\t\t  };\n\t\t\t\t  var options = {\n\t\t\t\t\ticon:image,\n\t\t\t\t\ttitle:delement.getTitle(),\n\t\t\t\t\tvisible:cbu==\"C\" ? false : true,\n\t\t\t\t\tlabel:  {text: delement.getTitle() , color: \"white\"}\n\t\t\t\t}\n\t\n\t\n\t\t\t delement.setOptions(options);\n\n\t\t\t}\n\t\t});\n\n\n\t\t}\n\t}\n\n\tngOnDestroy() {\n\n\t}\n\tngOnInit() {\n\t\tthis.dynamicMarker = new google.maps.Marker();\n\t\tthis.dynamicMarker.setPosition({lat:51,lng:0});\n\t\t\tvar image = {\n\t\t\t\turl: '/assets/images/bmarker.svg',\n\t\t\t\tsize: new google.maps.Size(71, 71),\n\t\t\t\torigin: new google.maps.Point(0, 0),\n\t\t\t\tanchor: new google.maps.Point(17, 34),\n\t\t\t\tscaledSize: new google.maps.Size(25, 25)\n\t\t\t  };\n\t\t\t  var options = {\n\t\t\t\ticon:image,\n\t\t\t\ttitle:\t\"test\",\n\t\t\t\tvisible:true,\n\t\t\t\tlabel:  {text: \"test\" , color: \"white\"}\n\t\t\t}\n\n\n\t\t this.dynamicMarker.setOptions(options);\n\t\t// \tpath: google.maps.SymbolPath.CIRCLE,\n\t\t// \tscale: 8.5,\n\t\t// \tfillColor: \"#F00\",\n\t\t// \tfillOpacity: 0.4,\n\t\t// \tstrokeWeight: 0.4\n\t\t// });\n\t\t//this.dynamicMarker.setMap(this.map);\n\t\t// this.dynamicMarker = {\n\t\t// \tposition: {lat: 51,lng:0},\n\t\t// \tsName: \"Marker Name\",\n\t\t// \tmap: this.map,\n\t\t\t// icon: {\n\t\t\t// \tpath: google.maps.SymbolPath.CIRCLE,\n\t\t\t// \tscale: 8.5,\n\t\t\t// \tfillColor: \"#F00\",\n\t\t\t// \tfillOpacity: 0.4,\n\t\t\t// \tstrokeWeight: 0.4\n\t\t\t// },\n\t\t// };\n\t\tfor(var i=this.minYear;i<=this.maxYear;i++){\n\t\t\tvar obj = {\n\t\t\t\tyear:i,\n\t\t\t\tnumElections:0,\n\t\t\t\tnumContested:0\n\t\t\t}\n\t\t\tthis.electionsPerYear.push(obj);\n\t\t}\n\t\t\n\t\t//main function containing callbacks from the API\n\t\tthis.getData();\n\n\t\t//tedious material stuff to add pagination to the table\n\t\tthis.dataSource.paginator = this.paginator;\n\t\t// when we land, open the initial modal with the search options in it\n\t\t\n\n\t\tthis.mapLinked = true;\n\t\tthis.hopData = {\n\t\t\tinnerText: \"\",\n\t\t\tyearRange: \"\",\n\t\t\turl: \"\",\n\t\t\tconstituency: \"\",\n\t\t\tfetch: true\n\n\t\t}\n\n\n\t}\n\n\n\t///////////////////////////////////**** START DATA SUBSCRIPTIONS****///////////////////////////////////\n\n\tgetBook($event, element) {\n\n\t\tvar splitCodes = element.pollbook_id.split(\";\");\n\t\tvar trimmedCodes = \"\";\n\t\tfor (var i = 0; i < splitCodes.length; i++) {\n\t\t\ttrimmedCodes += splitCodes[i].trim() + \";\";\n\t\t}\n\t\ttrimmedCodes = trimmedCodes.substring(0, trimmedCodes.length - 1);\n\n\t\tthis.getPollBooksService.getData(trimmedCodes)\n\t\t.subscribe(\n\t\t\t(data: PollBookResponse) => this.pollBooks = {\n\t\t\t\tnum_results: data['num_results'],\n\t\t\t\tpoll_books: data['poll_books'],\n\t\t\t}, err => console.error(err), () => this.openPollBookDialog());\n\t}\n\n\t\n\n\n\n\n\n\t//main data grabbign  function called in ngonint \n\tgetData() {\n\n\t\t// this.boroughService.getData().subscribe(\n\t\t// \t(data: Boroughs) => this.boroughs = data\n\t\t// \t, err => console.error(err), () => this.makeBoroughMarkers());\n\n\n\n\t\tthis.getElectionsService.getData()\n\t\t.subscribe(\n\t\t\t(data: Elections) => this.electionsMeta = {\n\t\t\t\tnum_results: data['num_results'],\n\t\t\t\tearliest_year: data['earliest_year'],\n\t\t\t\tlatest_year: data['latest_year'],\n\t\t\t\telections: data['elections']\n\t\t\t}, err => console.error(err), () => this.setUpFilters());\n\n\n\n\t};\n\t///////////////////////////////////**** END DATA SUBSCRIPTIONS****///////////////////////////////////\n\n\n\n\t\n\n\t\n\n\n\t\n\n\t\n\n\n\n\n\n\n\n\t///////////////////////////////////****START RESIZE FUNCTIONS****///////////////////////////////////\n\n\t//the database table is draggable\n\tonResizeEnd(event: ResizeEvent): void {\n\t\tconsole.log('Element was resized', event);\n\t\tthis.style = {\n\t\t\tposition: 'fixed',\n\t\t\t// left: `${event.rectangle.left}px`,\n\t\t\tright: \"3%\",\n\t\t\t// top: `${event.rectangle.top}px`,\n\t\t\twidth: `${event.rectangle.width}px`,\n\t\t\t// height: `${event.rectangle.height}px`\n\t\t};\n\t}\n\n\tonResizeStart(event: ResizeEvent): void {\n\t\tconsole.log('Element was resized start', event);\n\n\t}\n\t///////////////////////////////////****END RESIZE FUNCTIONS****///////////////////////////////////\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\t///////////////////////////////////****START GRAPH FUNCTIONS****///////////////////////////////////\n\tgetNumberOfContested() {\n\t\tvar count = 0;\n\t\tfor (var i = 0; i < this.dataSource.filteredData.length; i++) {\n\t\t\t\n\t\t\tif (this.dataSource.filteredData[i].contested.trim().toLowerCase().indexOf(\"y\") > -1) count++;\n\n\t\t}\n\t\treturn count;\n\t}\n\t//this is used to calibrate the bar heigh on the graph\n\tgetMaxMinElectionsPerYear() {\n\t\tvar max = 0;\n\t\tvar min = 10000000;\n\t\tfor (var i = 0; i < this.electionsPerYear.length; i++) {\n\t\t\tif (this.electionsPerYear[i]['numElections'] > max) max = this.electionsPerYear[i]['numElections'];\n\t\t\tif (this.electionsPerYear[i]['numElections'] < min) min = this.electionsPerYear[i]['numElections'];\n\n\t\t}\n\t\treturn { max: max, min: min };\n\t}\n\tgetHeight(bar) {\n\t\treturn bar.numElections;\n\t}\n\t//is called as a [ngStyle]= in the html for the graph\n\tgetBarStyle(bar, divWidth, divHeight, contested) {\n\n\t\tvar maxMin = this.getMaxMinElectionsPerYear();\n\t\tvar yearRange = this.maxYear - this.minYear + 1;\n\t\t//var barWidth = divWidth / yearRange;\n\t\tvar barWidth = divWidth / 137;//this.electionsPerYear.length;\n\t\tvar left = bar.year - 1695;//this.d;\n\t\tleft *= barWidth;\n\t\tvar leftStr = left.toString();\n\t\tleftStr += \"px\";\n\t\tvar barHeight = 0;\n\t\tvar col;\n\t\tif (contested) {\n\t\t\tbarHeight = this.mapRange(bar.numContested, maxMin.min, maxMin.max, 0, divHeight);\n\n\t\t}\n\t\telse {\n\t\t\tbarHeight = this.mapRange(bar.numElections, maxMin.min, maxMin.max, 0, divHeight);\n\t\t}\n\n\t\treturn {\n\n\t\t\twidth: barWidth + \"px\",\n\t\t\t// bottom:\"0px\",\n\t\t\theight: barHeight + \"px\",\n\t\t\tleft: leftStr\n\n\t\t};\n\n\t}\n\tgetElectionsPerYear() {\n\t\t// var filteredConstituencies = this.getFilteredConstituencies();\n\t\tthis.electionsPerYear.forEach(element => {\n\t\t\telement.numElections = 0;\n\t\t\telement.numContested = 0;\n\t\t});\n\n\t\t// for(var i=this.minYear;i<=this.maxYear;i++){\n\t\t// \tvar obj = {\n\t\t// \t\tyear:i,\n\t\t// \t\tnumElections:0,\n\t\t// \t\tnumContested:0\n\t\t// \t}\n\t\t// \tthis.electionsPerYear.push(obj);\n\t\t// }\n\t\t\n\t\t// for (var i = this.minYear; i <= this.maxYear; i++) {\n\t\t// \tvar obj = {\n\t\t// \t\tyear: i,\n\t\t// \t\tnumElections: 0,\n\t\t// \t\tnumContested: 0\n\t\t// \t};\n\t\t// \tthis.electionsPerYear.push(obj);\n\n\t\t// }\n\t\t// console.log(\"this.electionsPerYear\",this.electionsPerYear);\n\t\tfor (var i = 0; i < this.dataSource.filteredData.length; i++) {\n\t\t\tvar index = parseInt(this.dataSource.filteredData[i]['election_year']) - 1695;// this.minYear;\n\t\t\tif (index >= 0 && index < this.electionsPerYear.length) {\n\n\n\t\t\t\tthis.electionsPerYear[index]['numElections']++;\n\t\t\t\tif (this.dataSource.filteredData[i]['contested'] == 'Y') {\n\t\t\t\t\tthis.electionsPerYear[index]['numContested']++;\n\t\t\t\t}\n\t\t\t}\n\n\t\t}\n\t\t//console.log(this.electionsPerYear);\n\t\treturn this.electionsPerYear;\n\t}\n\t\n\tgetElectionsPerYearOld() {\n\t\t// var filteredConstituencies = this.getFilteredConstituencies();\n\t\tthis.electionsPerYear = [];\n\t\tfor (var i = this.minYear; i <= this.maxYear; i++) {\n\t\t\tvar obj = {\n\t\t\t\tyear: i,\n\t\t\t\tnumElections: 0,\n\t\t\t\tnumContested: 0\n\t\t\t};\n\t\t\tthis.electionsPerYear.push(obj);\n\n\t\t}\n\t\t// console.log(\"this.electionsPerYear\",this.electionsPerYear);\n\t\tfor (var i = 0; i < this.dataSource.filteredData.length; i++) {\n\t\t\tvar index = parseInt(this.dataSource.filteredData[i]['election_year']) - this.minYear;\n\t\t\tif (index >= 0 && index < this.electionsPerYear.length) {\n\n\n\t\t\t\tthis.electionsPerYear[index]['numElections']++;\n\t\t\t\tif (this.dataSource.filteredData[i]['contested'] == 'Y') {\n\t\t\t\t\tthis.electionsPerYear[index]['numContested']++;\n\t\t\t\t}\n\t\t\t}\n\n\t\t}\n\t\treturn this.electionsPerYear;\n\t}\n\t//just for neatness in the text of the graph\n\tgetPlural(number) {\n\t\tif (number == 1) {\n\t\t\treturn \" was contested.\";\n\t\t}\n\t\treturn \" were contested.\";\n\t}\n\n\t///////////////////////////////////****END GRAPH FUNCTIONS****///////////////////////////////////\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\t///////////////////////////////////****START LISTENER FUNCTIONS****///////////////////////////////////\n\n\tngOnChanges(changes) {\n\t\tconsole.log(changes);\n\t}\n\tonValueChange(changeContext: ChangeContext): void {\n\t\tconsole.log(changeContext);\n\n\t}\n\tsliderChange(changeContext: ChangeContext): void {\n\t\t// this.yearFilter.setValue(\"\");\n\n\t\tthis.minYear = changeContext.value;\n\t\tthis.maxYear = changeContext.highValue;\n\n\t\tthis.yearFilter.setValue(changeContext.value.toString() + \"-\" + changeContext.highValue.toString());\n\t\tthis.dataSource.filter = JSON.stringify(this.filteredValues);\n\n\n\t}\n\n\t///////////////////////////////////****END LISTENER FUNCTIONS****///////////////////////////////////\n\n\n\n\t\n\t/////////////////////////////////////////*********START MAP UPDATE FUNCTIONS***********/////////////////////////////////////////\n\tsetUpMapData(){\n\t\t\n\t\tthis.map.data.loadGeoJson(\"https://ecppec.ncl.ac.uk/assets/data/england.json\");\n\t\t\n\t\tthis.map.data.setStyle(function(feature) {\n\t\t\t\n\t\t\t\n\t\t\t\tvar color = \"white\";\n\t\t\t\n\t\t\treturn {\n\t\t\t\t\t\tfillColor: \"pink\",\n\t\t\t\t\t\tstrokeColor: \"white\",\n\t\t\t\t\t\tstrokeWeight: 1,\n\t\t\t\t\t\tzIndex:0,\n\t\t\t};\n\t\t});\n\t\t//TODO where's DURHAM?\n\t\tthis.map.data.addListener('mouseover', (event) => {\n\t\t//\tconsole.log(\"mouseover \",event.feature.getProperty(\"name\"));\n\t\t\tthis.setMatchingCountyMarkerVisibility(true, event.feature.getProperty(\"name\"));\n\t\t});\n\t\tthis.map.data.addListener('mouseout', (event) => {\n\t\t\t//\tconsole.log(\"mouseover \",event.feature.getProperty(\"name\"));\n\t\t\t\tthis.setMatchingCountyMarkerVisibility(false, event.feature.getProperty(\"name\"));\n\t\t\t});\n\t\t\n\t\t\tthis.map.data.addListener('click', (event) => {\n\t\t\t\tconsole.log(\"click\");\n\t\t\t\tif(!this.clicked){\n\t\t\t\t\tthis.clicked =true;\n\t\t\tif(event.feature.getProperty('isActive')){\n\t\t\t\n\t\t\t\tevent.feature.setProperty('isActive',false);\n\t\t\t\tvar updatedConstituencyFilterValue = this.filteredValues['constituency'].replace(','+event.feature.getProperty(\"name\"),'');\n\t\t\t\tthis.constituencyFilter.setValue(updatedConstituencyFilterValue);\n\t\t\t\tthis.filteredValues['constituency']=updatedConstituencyFilterValue;\n\t\t\t\tthis.dataSource.filter = JSON.stringify(this.filteredValues);\n\t\t\t\n\t\t\t}\n\t\t\telse{\n\t\t\t\n\t\t\t\t event.feature.setProperty('isActive',true);\n\t\t\t\t this.filteredValues['constituency'] =this.filteredValues['constituency']+\",\"+event.feature.getProperty(\"name\");\n\t\t\t\t this.constituencyFilter.setValue(this.filteredValues['constituency']);\n\t\t\t\tthis.dataSource.filter = JSON.stringify(this.filteredValues);\n\t\t\t\n\t\t\t}\n\t\t\t\n\t\t\tthis.appRef.tick() ;\n\t\t\tsetTimeout(() => {\n\t\t\t\tthis.clicked = false;\n\t\t\t}, 500);\n\t\t\t\n\t\t}\n\t\t});\n\t\t\n\n\t\tthis.setMapStyle();\n\t}\n\tmapReady(){\n\t\tif(!this.mapIsReady){\n\t\t\tconsole.log(\"map ready\");\n\t\t\tthis.setUpMapData();\n\t\t\tthis.makeAllMarkers();\n\t\t\n\t\t}\n\t\t\n\t\t//this.setStyles();\n\t\t// this.center.lat = 35;\n\t\t\n\t\t//this.getUniqueMarkers();\n\n\t}\n\tsetMapStyle(){\n\t\tthis.map.data.setStyle(function(feature) {\n\t\t    var name = feature.getProperty('isActive');\n\t\t    var color = \"white\";\n\t\t    var index = 1;\n\t\t    if( name ){\n\t\t    \tcolor = \"#0db9f0\";\n\t\t    \t index = 2;\n\t\t\t\t \n\t\t\t\t \n\t\t    }\n\t\t    else{\n\t\t\t\tcolor =\"white\";\n\t\t\t\t index = 1;\n\t\t    };\n\t\t    return {\n\t\t      strokeColor: color,\n\t\t      strokeWeight: index,\n\t\t\t  zIndex:index,\n\t\t\t  fillColor: \"grey\"\n\t\t      // z-index:index,\n\t\t    };\n\t\t});\n\n\t}\n\tsetallInActive(){\n\t\tthis.map.data.forEach(function(feature) {\n\t//\t\tconsole.log(\"setting \",feature.getProperty(\"name\"),\" in active\")\n\t\t\tfeature.setProperty(\"isActive\",false)\n\t\t});\n\t}\n\tupdateIsActive(constituencies: String []){\n\t\tthis.map.data.forEach(function(feature) {\n\t\t\tvar name = feature.getProperty('name');\n\t\t\tif( constituencies.indexOf(name)>-1){\n\t\t\t\t\n\t\t\t\tfeature.setProperty(\"isActive\",true)\n\t\t\t\t\n\t\t\t}\n\t\t\telse{\n\t\t\t\tfeature.setProperty(\"isActive\",false)\n\t\t\t}\n\t\t});\n\t}\n\tupdateMapStyles(constituencies: String []){\n\t\t//console.log(constituencies);\n\t\t// this.map.data.revertStyle();\n\t\tthis.map.data.setStyle(function(feature) {\n\t\t    var name = feature.getProperty('name');\n\t\t    var color = \"white\";\n\t\t    var index = 1;\n\t\t    if( constituencies.indexOf(name)>-1){\n\t\t    \tcolor = \"#0db9f0\";\n\t\t    \t index = 3;\n\t\t    }\n\t\t    else{\n\t\t\t\tcolor =\"white\";\n\t\t\t\t index = 1;\n\t\t    };\n\t\t    return {\n\t\t      strokeColor: color,\n\t\t      strokeWeight: index,\n\t\t\t  zIndex:index\n\t\t      // z-index:index,\n\t\t    };\n\t\t});\n\n\t}\n\tmapZoomChanged() {\n\t\tconsole.log(\"zoom\");\n\n\t\t// console.log(this.map);\n\t\t// console.log(JSON.stringify(this.map.getCenter()));\n\t\t\n\t\t//this.updateMapStyles(this.getFilteredConstituencies());\n\n\t\t\n\t}\n\t//TODO What is the actual call back for the data\n\tmapIdle(){\n\t\t// console.log(\"idle\");\n\t\t//  setTimeout(()=> {this.updateMapStyles(this.getFilteredConstituencies());}, 3000);\n\n\t\t//this is my hacky solution for cheacking the data is actually returned. I can't find a listener function for this\n\t\tvar featureCount = 0;\n\t\tthis.map.data.forEach(function(feature) {\n\t\t\tfeatureCount++;\n\t\t});\n\t\tif(featureCount > 1 && this.mapIsReady==false) {\n\t\t\tthis.setallInActive();\n\t\t\t\n\t\t\tthis.mapIsReady = true;\n\t\t\t\n\t\t}\n\t\t\n\t}\n\n\t//return the markers included from the current list of filtered table data\n\n\n\n\t//this is the really problematic bit that causes the biggest data delay. \n\tupdateDataLayerStyles() {\n\t\t//a simple list of current constituenciy names\n\t\tvar filteredConstituencies = this.getFilteredConstituencies();\n\n\n\t}\n\tclearMap() {\n\n\t\tthis.displayedMarkers = this.markers.filter(marker => this.getFilteredConstituencies().includes(\"gobbldeygook\"));\n\n\n\t}\n\n\t/////////////////////////////////////////*********END MAP UPDATE FUNCTIONS***********/////////////////////////////////////////\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\t/////////////////////////////////////////*********START UTILITY FUNCTIONS***********/////////////////////////////////////////\n\tgetOptions(marker){\n\t\tif(marker.type=='B' ){\n\t\t\t//\tconsole.log(\"returning background\");\n\t\t\t\t return this.countyMarkerOption \n\t\t\t}\n\t\t\telse{\n\t\t\t//\tconsole.log(\"returning foregeground\");\n\t\n\t\t\t\treturn this.countyForegroundMarkerOption\n\t\t\t}\n\t\t\t\n\t}\n\tgetIcon(marker){\n\t\t//console.log(\"got marker\", marker.type);\n\t\tif(marker.type=='B' ){\n\t\t//\tconsole.log(\"returning background\");\n\t\t\t return this.countyMarkerOption.icon \n\t\t}\n\t\telse{\n\t\t//\tconsole.log(\"returning foregeground\");\n\n\t\t\treturn this.countyForegroundMarkerOption.icon\n\t\t}\n\t}\n\tmakeCountyMarker(element){\n\t\tvar lat: number = +element.lat;\n\t\tvar lng: number = +element.lng;\n\t\t\n\t\t\n\t\t\t\n\t\t\t\n\n\t\t\t\t  var myLatLng = { lat: lat, lng: lng };\n\t\t\t\n\t\n\t\t\t\tvar image = {\n\t\t\t\t\turl: '/assets/images/bmarker.svg',\n\t\t\t\t\tsize: new google.maps.Size(71, 71),\n\t\t\t\t\torigin: new google.maps.Point(0, 0),\n\t\t\t\t\tanchor: new google.maps.Point(17, 34),\n\t\t\t\t\tscaledSize: new google.maps.Size(25, 25)\n\t\t\t\t  };\n\t\t\t\t  var options = {\n\t\t\t\t\ticon:image,\n\t\t\t\t\ttitle:\telement.constituency,\n\t\t\t\t\tvisible:true,\n\t\t\t\t\tlabel:  {text: element.constituency , color: \"white\"}\n\t\t\t\t}\n\t\t\t\t//this.countyMarkerOption.title=\"test\";\n\t\t\t\t\t this.countyMarkerPositions.push({ lat: lat, lng: lng });\n\t\t\t\t\t this.countyMarkerOptions.push(options);\n\t}\n\t\n\tgetUniqueCountyMarkers(){\n\t\tconsole.log(\"getting unique county markers\");\n\t\tvar markerLocations = [];\n\t\tthis.markers = [] ;\n\t\t\n\t\tthis.dataSource.data.forEach(element => {\n\t\t//\tconsole.log(\"Element\",element);\n\t\t\tif(markerLocations.indexOf(element.constituency)==-1){\n\n\t\t\t\tmarkerLocations.push(element.constituency);\t\t\t//console.log(element.lat,element.lng)\n\n\t\t\t//\tif(typeof element.lat == \"number\" && typeof element.lng == \"number\"){\n\t\t\t\tif(element.countyboroughuniv==\"C\"){\n\t\t\t\t\tthis.makeCountyMarker(element);\n\t\t\t\t\t\t\n\t\t\t\t}\n\t\t\t\t\t\n\t\n\t\t\t\n\t\t\t}\n\t\t});\n\n\t}\n\tsetMatchingCountyMarkerVisibility(visible, constituency){\n\t//\tconsole.log(\"mouseover\",constituency);\n\t\tvar image = {\n\t\t\turl: '/assets/images/dot.svg',\n\t\t\tsize: new google.maps.Size(20, 20),\n\t\t\torigin: new google.maps.Point(0, 0),\n\t\t\tanchor: new google.maps.Point(10, 10),\n\t\t\tscaledSize: new google.maps.Size(20, 20)\n\t\t  };\n\t\t  var options = {\n\t\t\ticon:image,\n\t\t\ttitle:constituency,\n\t\t\tvisible:visible,\n\t\t\tlabel:  {text: constituency , color: \"white\"}\n\t\t}\n\n\n\t\n\t\tthis.dynamicMarkers.forEach(element => {\n\t\t\tif(element.getTitle()==constituency){\n\t\t\t//\tconsole.log(\"setting \",constituency, \" to \", visible);\n\t\t\t\telement.setOptions(options)\n\t\t\t}\n\t\t});\n\t\tthis.appRef.tick();\n\t\t// this.countyMarkerOptions= [];\n\t\t// this.countyMarkerPositions= [];\n\t\t// var markerLocations = [];\n\t\t// this.dataSource.data.forEach(element => {\n\t\t// \t\tif(markerLocations.indexOf(element.constituency)==-1 && element.constituency==constituency){\n\t\n\t\t// \t\t\tmarkerLocations.push(element.constituency);\t\t\n\t\n\t\t\n\t\t// \t\t\tif(element.countyboroughuniv==\"C\"){\n\t\t// \t\t\t\tthis.makeCountyMarker(element);\n\t\t\t\t\t\t\t\n\t\t// \t\t\t}\n\t\t\t\t\t\t\n\t\t\n\t\t\t\t\n\t\t// \t\t}\n\t\t// \t});\n\t\n\t\t// this.appRef.tick() ;\n\n\t}\n\tsetBoroughCentreMarkers(){\n\t\tthis.boroughMarkers = [];\n\t\tvar markerLocations = [];\n\t\t//this.markers = [] ;\n\t\tthis.dataSource.data.forEach(element => {\n\t\t\tif(markerLocations.indexOf(element.constituency.trim())==-1){\n\t\t\t//\tconsole.log(\"adding point for \",element.constituency.trim())\n\t\t\t\n\t\t\t\tvar lat: number = +element.lat;\n\t\t\t\tvar lng: number = +element.lng;\n\t\t\t\t\n\t\t\t\t\tmarkerLocations.push(element.constituency.trim());\n\t\t\t\t\tif(element.countyboroughuniv==\"B\"){\n\t\t\t\t\t\tvar myLatLng = { lat: lat, lng: lng };\n\t\t\t\n\t\n\t\t\t\t\t\tvar image = {\n\t\t\t\t\t\t\turl: '/assets/images/dot.svg',\n\t\t\t\t\t\t\tsize: new google.maps.Size(20, 20),\n\t\t\t\t\t\t\torigin: new google.maps.Point(0, 0),\n\t\t\t\t\t\t\tanchor: new google.maps.Point(10, 10),\n\t\t\t\t\t\t\tscaledSize: new google.maps.Size(20, 20)\n\t\t\t\t\t\t  };\n\t\t\t\t\t\t  var options = {\n\t\t\t\t\t\t\ticon:image,\n\t\t\t\t\t\t\ttitle:\telement.constituency,\n\t\t\t\t\t\t\tvisible:true\n\t\t\t\t\t\t\t// label:  {text: element.constituency , color: \"white\"}\n\t\t\t\t\t\t}\n\t\t\t\t\t\tthis.boroughMarkerPositions.push({ lat: lat, lng: lng });\n\t\t\t\t\t\tthis.boroughMarkerOptions.push(options);\n\t\t\t\t\t\t\n\t\t\t\t\t//\tthis.boroughMarkers.push(marker);\n\t\t\t\t\t}\n\n\t\t\t}\n\t\t});\n\t}\n\tmakeMarker(element, isBackgroundBorough){\n\t\tvar lat: number = +element.lat;\n\t\tvar lng: number = +element.lng;\n\t\t\n\t\tvar myLatLng = { lat: lat, lng: lng };\n\t\t\tif(element.countyboroughuniv==\"B\" && isBackgroundBorough){\n\t\t\t\t\n\t\t\t\t//console.log(\"Making background marker for \", element.constituency);\n\t\n\n\t\t\t\tvar image = {\n\t\t\t\t\turl: '/assets/images/dot.svg',\n\t\t\t\t\tsize: new google.maps.Size(20, 20),\n\t\t\t\t\torigin: new google.maps.Point(0, 0),\n\t\t\t\t\tanchor: new google.maps.Point(10, 10),\n\t\t\t\t\tscaledSize: new google.maps.Size(20, 20)\n\t\t\t\t  };\n\t\t\t\t  var options = {\n\t\t\t\t\ticon:image,\n\t\t\t\t\ttitle:\telement.constituency,\n\t\t\t\t\tvisible:true\n\t\t\t\t\t// label:  {text: element.constituency , color: \"white\"}\n\t\t\t\t}\n\t\t\t\n\t\t\t\tvar thisMarker: googleMapsMarkerWrapper = {\n\t\t\t\t\tposition:myLatLng,\n\t\t\t\t\toptions:options,\n\t\t\t\t\ttitle: element.constituency,\n\t\t\t\t\ttype:\"B\"\n\t\t\t\t}\n\t\t\t\tthis.mmarkers.push(thisMarker);\n\t\t\t}\n\t\t\telse if(element.countyboroughuniv==\"B\" && !isBackgroundBorough){\n\t\t\t//\tconsole.log(\"Making foreground marker for \", element.constituency);\n\t\t\t\tvar image = {\n\t\t\t\t\turl: '/assets/images/dot.svg',\n\t\t\t\t\tsize: new google.maps.Size(20, 20),\n\t\t\t\t\torigin: new google.maps.Point(0, 0),\n\t\t\t\t\tanchor: new google.maps.Point(10, 10),\n\t\t\t\t\tscaledSize: new google.maps.Size(20, 20)\n\t\t\t\t  };\n\t\t\t\t  var options = {\n\t\t\t\t\ticon:image,\n\t\t\t\t\ttitle:\telement.constituency,\n\t\t\t\t\tvisible:true\n\t\t\t\t\t// label:  {text: element.constituency , color: \"white\"}\n\t\t\t\t}\n\t\t\t\n\t\t\t\tvar thisMarker: googleMapsMarkerWrapper = {\n\t\t\t\t\tposition:myLatLng,\n\t\t\t\t\toptions:options,\n\t\t\t\t\ttitle: element.constituency,\n\t\t\t\t\ttype:\"BB\"\n\t\t\t\t}\n\t\t\t\tthis.mmarkers.push(thisMarker);\n\n\t\t\t}\n\t\t\telse if(element.countyboroughuniv==\"C\" && !isBackgroundBorough){\n\t\t\t\tvar image = {\n\t\t\t\t\turl: '/assets/images/dot.svg',\n\t\t\t\t\tsize: new google.maps.Size(20, 20),\n\t\t\t\t\torigin: new google.maps.Point(0, 0),\n\t\t\t\t\tanchor: new google.maps.Point(10, 10),\n\t\t\t\t\tscaledSize: new google.maps.Size(20, 20)\n\t\t\t\t  };\n\t\t\t\t  var options = {\n\t\t\t\t\ticon:image,\n\t\t\t\t\ttitle:\telement.constituency,\n\t\t\t\t\tvisible:true\n\t\t\t\t\t// label:  {text: element.constituency , color: \"white\"}\n\t\t\t\t}\n\t\t\t\n\t\t\t\tvar thisMarker: googleMapsMarkerWrapper = {\n\t\t\t\t\tposition:myLatLng,\n\t\t\t\t\toptions:options,\n\t\t\t\t\ttitle: element.constituency,\n\t\t\t\t\ttype:\"C\"\n\t\t\t\t}\n\t\t\t\tthis.mmarkers.push(thisMarker);\n\t\t\t}\n\t\t\t\n\t\t\t//\tthis.boroughMarkers.push(marker);\n\t\t\t\n\t\t\t\n\t}\n\tupdateMarkers() {\n\t\t\n\t\t// this.displayedMarkers = this.markers;\n\t\t// this.displayedMarkers = this.markers.filter(marker => this.getFilteredConstituencies().includes(marker.formatted_address));\n\t\t// this.updateMapStyles(this.getFilteredConstituencies());\n\t\tthis.dataSource.filteredData.forEach(element => {\n\t\t\tthis.mmarkers.forEach(melement => {\n\t\t\t\tmelement.type=\"B\";\n\t\t\t\tif(element.constituency == melement.title){\n\n\t\t\t\t\tmelement.type=\"BB\";\n\t\t\t\t}\n\t\t\t});\n\t\t});\n\t}\n\tgetUniqueConstituencies(){\n\t\tvar constituencies = [];\n\t\tif(this.uniqueElections!=undefined){\n\t\tthis.dataSource.data.forEach(element => {\n\t\t\tif(constituencies.indexOf(element.constituency)==-1){\n\t\t\t//\tconsole.log(\"adding \",element)\n\t\t\tconstituencies.push(element.constituency);\n\t\t\tthis.uniqueElections.push(element);\n\t\t\t}\n\t\t});\n\t}\n\t//\treturn constituencies;\n\t}\n\tmakeAllMarkers(){\n\t\tthis.mmarkers = [];\n\t\tvar markerLocations = [];\n\t\tvar filteredConstituencies = this.getFilteredConstituencies();\n\t\t//first make all the boroughs that sit in the background\n\t\tvar flipper = true;\n\t//\tconsole.log(\"making markers\");\n\t//console.log(\"this.uniqueElections\",this.uniqueElections);\n\tif(this.uniqueElections!=undefined){\n\tthis.uniqueElections.forEach(element => {\n\t\t//this.dataSource.data.forEach(element => {\n\t\t\tif(markerLocations.indexOf(element.constituency.trim())==-1){\n\t\t\t//\tconsole.log(\"adding point for \",element.constituency.trim())\n\t\t\tmarkerLocations.push(element.constituency.trim());\n\t\t\tif(filteredConstituencies.indexOf(element.constituency)!=-1){\n\t\t\t\tthis.makeMarker(element, false);\n\t\t\t}\n\t\t\telse{\n\t\t\t\tthis.makeMarker(element, true);\n\t\t\t}\n\t\t\t\n\t\t\t//flipper=!flipper;\n\n\t\t\t}\n\t\t});\n\t//\tconsole.log(\"made markers\",this.mmarkers);\n\t\tmarkerLocations = [];\n\t\t//now add any boroughs currently in the filtered data\n\t\tthis.dataSource.filteredData.forEach(element => {\n\t\t\tthis.mmarkers.forEach(melement => {\n\t\t\t\tif(element.constituency == melement.title){\n\t\t\t\t\t//melement.type=\"BB\";\n\t\t\t// \t\tvar lat: number = +element.lat;\n\t\t\t// var lng: number = +element.lng;\n\t\t\t\t\t\n\t\t\t// \t\tvar myLatLng = { lat: lat, lng: lng };\n\t\t\t// \t\tvar image = {\n\t\t\t// \t\t\turl: '/assets/images/dot.svg',\n\t\t\t// \t\t\tsize: new google.maps.Size(20, 20),\n\t\t\t// \t\t\torigin: new google.maps.Point(0, 0),\n\t\t\t// \t\t\tanchor: new google.maps.Point(10, 10),\n\t\t\t// \t\t\tscaledSize: new google.maps.Size(20, 20)\n\t\t\t// \t\t  };\n\t\t\t// \t\t  var options = {\n\t\t\t// \t\t\ticon:image,\n\t\t\t// \t\t\ttitle:\telement.constituency,\n\t\t\t// \t\t\tvisible:true\n\t\t\t// \t\t\t// label:  {text: element.constituency , color: \"white\"}\n\t\t\t// \t\t}\n\t\t\t\t\n\t\t\t// \t\tvar thisMarker: googleMapsMarkerWrapper = {\n\t\t\t// \t\t\tposition:myLatLng,\n\t\t\t// \t\t\toptions:options,\n\t\t\t// \t\t\ttitle: element.constituency,\n\t\t\t// \t\t\ttype:\"C\"\n\t\t\t// \t\t}\n\t\t\t// \t\tmelement = thisMarker;\n\t\t\t\t}\n\t\t\t});\n\t\t\t\n\t\t});\n\n\t\t// image: google.maps.Icon  = {\n\t\t// \turl: '/assets/images/dot.svg',\n\t\t// \tsize: new google.maps.Size(20, 20),\n\t\t// \torigin: new google.maps.Point(0, 0),\n\t\t// \tanchor: new google.maps.Point(10, 10),\n\t\t// \tscaledSize: new google.maps.Size(20, 20)\n\t\t//   };\n\t\t//   countyMarkerOption: google.maps.MarkerOptions = {\n\t\t// \ticon:this.image,\n\t\t// \t//                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         title:\telement.constituency,\n\t\t// \tvisible:true\n\t\t// \t// label:  {text: element.constituency , color: \"white\"}\n\t\t// }\n\t}\n\t}\n\tgetUniqueMarkers(){\n\t\tvar markerLocations = [];\n\t\tthis.markers = [] ;\n\t\tthis.dataSource.filteredData.forEach(element => {\n\t\t\tif(markerLocations.indexOf(element.constituency)==-1){\n\n\t\t\t\n\t\t\t\tvar lat: number = +element.lat;\n\t\t\t\tvar lng: number = +element.lng;\n\t\t\t\t\n\t\t\t\t\tmarkerLocations.push(element.constituency);\n\t\t\t\t\tif(element.countyboroughuniv==\"B\"){\n\t\t\t\t\t\tvar image = {\n\t\t\t\t\t\t\turl: '/assets/images/smarker.svg',\n\t\t\t\t\t\t\tsize: new google.maps.Size(71, 71),\n\t\t\t\t\t\t\torigin: new google.maps.Point(0, 0),\n\t\t\t\t\t\t\tanchor: new google.maps.Point(17, 34),\n\t\t\t\t\t\t\tscaledSize: new google.maps.Size(25, 25)\n\t\t\t\t\t\t  };\n\n\n\t\t\t\t\t\tvar marker: Marker = {\n\t\t\t\t\t\t\tposition: { lat:lat,lng:lng  },\n\t\t\t\t\t\t\ttitle:element.constituency,\n\t\t\t\t\t\t\ticon:  \"/assets/images/smarker.svg\",\n\t\t\t\t\t\t\tvisible:true,\n\t\t\t\t\t\t\toptions: { \n\t\t\t\t\t\t\t\topacity:1,\n\t\t\t\t\t\t\t\tzIndex:10,\n\t\t\t\t\t\t\t\tanimation: google.maps.Animation.DROP,\n\t\t\t\t\t\t\t\ticon:  image,// google.maps.MarkerImage('/assets/images/smarker.svg',null, null, null, new google.maps.Size(200,200)), //\"/assets/images/smarker.svg\",\n\t\t\t\n\t\t\t\t\t\t\t\t }\n\t\t\t\t\t\t\n\t\t\n\t\t\t\t\t\t}\n\t\t\t\t\t\tthis.markers.push(marker);\n\t\t\t\t\t}\n\n\t\t\t}\n\t\t});\n\n\t}\n\tgetPosition(marker){\n\t\treturn {lat:51.0,lng:1.8};\n\t}\n\tarrayRemove(arr, value) { return arr.filter(function (ele) { return ele != value; }); }\n\t\t//generic mapping funciton\n\n\t\tmapRange = (num, in_min, in_max, out_min, out_max) => {\n\t\treturn (num - in_min) * (out_max - out_min) / (in_max - in_min) + out_min;\n\t}\n\t\n\tgetHasPollBooks(pollbook_id) {\n\t\tif (pollbook_id.length > 0) return 'Y (' + pollbook_id.split(\";\").length + ')';\n\n\t\treturn 'N';\n\t}\n\t//what it sounds like - jsut called at the beginning to get some nice looking data\n\tgenerateRandomSearch() {\n\t\tvar spread = Math.floor(Math.random() * 8) + 2;\n\t\tvar fullRange = 1832 - (1695 + spread);\n\t\tvar start = Math.floor(Math.random() * fullRange) + 1696;\n\t\tthis.minYear = start;\n\t\tthis.maxYear = spread + start;\n\t\tconsole.log(\"years\", this.minYear, this.maxYear);\n\t\tvar y = 1777;\n\n\t\tthis.yearFilter.setValue(this.minYear.toString() + \"-\" + this.maxYear.toString());\n\n\t\tthis.constituencyFilter.setValue(this.getRandomConstituenciesString(20));\n\t\tthis.dataSource.filter = JSON.stringify(this.filteredValues);\n\t}\n\tgetRandomConstituenciesString(numRandomConsituencies) {\n\t\tvar filteredConstituencies = [];\n\n\n\t\tfor (var i = 0; i < this.dataSource.filteredData.length; i++) {\n\t\t\tif (!filteredConstituencies.includes(this.dataSource.filteredData[i].constituency)) {\n\t\t\t\tfilteredConstituencies.push(this.dataSource.filteredData[i].constituency);\n\t\t\t}\n\t\t}\n\t\tvar indices = [];\n\t\tvar randomConsituencies = \"\";\n\n\t\tvar isFirst = true;\n\t\tfor (var i = 0; i < numRandomConsituencies; i++) {\n\t\t\tvar randomIndex = Math.floor(Math.random() * filteredConstituencies.length - 1);\n\t\t\t// if(!in_array())\n\n\t\t\tif (!indices.includes(randomIndex)) {\n\t\t\t\tindices.push(randomIndex);\n\t\t\t\tif (isFirst) {\n\t\t\t\t\trandomConsituencies = filteredConstituencies[randomIndex];\n\t\t\t\t\tisFirst = false;\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\trandomConsituencies += \",\" + filteredConstituencies[randomIndex];\n\t\t\t\t}\n\n\t\t\t}\n\t\t}\n\n\n\n\t\treturn randomConsituencies;\n\n\t}\n\n\t/////////////////////////////////////////*********END UTILITY FUNCTIONS***********/////////////////////////////////////////\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\t/////////////////////////////////////////*********START BUTTONS AND SLIDERS FUNCTIONS***********/////////////////////////////////////////\n\n\n\tanimateTimeLine(){\n\t\t// var image = {\n\t\t// \turl: '/assets/images/dot.svg',\n\t\t// \tsize: new google.maps.Size(71, 71),\n\t\t// \torigin: new google.maps.Point(0, 0),\n\t\t// \tanchor: new google.maps.Point(17, 34),\n\t\t// \tscaledSize: new google.maps.Size(25, 25)\n\t\t//   };\n\t\t//   var options = {\n\t\t// \ticon:image,\n\t\t// \ttitle:\t\"test\",\n\t\t// \tvisible:true,\n\t\t// \tlabel:  {text: \"test\" , color: \"white\"}\n\t\t// }\n\n\n\t// this.dynamicMarker.setOptions(options);\n\t\tif(this.animating){\n\t\t\tif (this.animatingId) {\n\t\t\t\tclearInterval(this.animatingId);\n\t\t\t  }\n\t\t}\n\t\telse{\n\t\t\tthis.animatingId  =setInterval(() => {\n\t\t\t\tthis.minYear++; \n\t\t\t\tthis.maxYear++; \n\t\t\t\tthis.yearFilter.setValue(this.minYear.toString() + \"-\" + this.maxYear.toString());\n\t\t\t\tthis.dataSource.filter = JSON.stringify(this.filteredValues);\n\t\t\t\t}, 300);\n\n\t\t}\n\t\tthis.animating = !this.animating;\n\t}\n\t//downlaod the elections data\n\tdownload() {\n\t\tthis.downloadService.downloadFile(this.dataSource.filteredData, 'elections');\n\t}\n\t//downlaod pollbook data\n\tdownloadPollBooks() {\n\n\t\tthis.downloadPollBooksService.downloadFile(this.pollBooks.poll_books, 'pollBooks');\n\t}\n\n\n\t//called when the filter updates I think\n\tsetDateSlider() {\n\n\t\tvar years = this.yearFilter.value;\n\t\tif (years.split(\"-\").length == 2) {\n\t\t\tthis.minYear = years.split(\"-\")[0].trim();\n\t\t\tthis.maxYear = years.split(\"-\")[1].trim();\n\t\t}\n\t\telse if (years.split(\",\").length > 1) {\n\t\t\tthis.minYear = 1695;\n\t\t\tthis.maxYear = 1832;\n\n\t\t}\n\t\telse if (years.length == 4) {\n\t\t\tthis.minYear = parseInt(years.trim());\n\t\t\tthis.maxYear = parseInt(years.trim());\n\t\t}\n\t\telse {\n\t\t\tthis.minYear = 1695;\n\t\t\tthis.maxYear = 1832;\n\t\t}\n\t}\n\n\n\n\n\t/////////////////////////////////////////*********END BUTTONS AND SLIDERS FUNCTIONS***********/////////////////////////////////////////\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\t/////////////////////////////////////////*********START FILTER FUNCTIONS***********/////////////////////////////////////////\n//https://timdeschryver.dev/blog/google-maps-as-an-angular-component\n\n\t//called at the start I think and sets up all the filter subscriptions\n\tsetUpFilters() {\n\t\t// this.addMarkers();\n\t\t\n\t\t\n\t\t//this.electionsMeta\n\t//\tconsole.log(\"data\",this.electionsMeta.elections);\n\t\tthis.dataSource = new MatTableDataSource<Election>(this.electionsMeta.elections);\n\t\tthis.dataSource.paginator = this.paginator;\n\t\tthis.getUniqueConstituencies();\n\t\tthis.getUniqueMarkers();\n\t\tthis.setBoroughCentreMarkers();\n\t\tthis.uniqueElections.forEach(element => {\n\t\t\tvar thisDynamicMarker = new google.maps.Marker();\n\t\t\t//console.log(element.lat,typeof(element.lat))\n\t\t\tthisDynamicMarker.setPosition({lat:+element.lat,lng:+element.lng});\n\t\t\t\tvar image = {\n\t\t\t\t\turl: '/assets/images/dot.svg',\n\t\t\t\t\tsize: new google.maps.Size(20, 20),\n\t\t\t\t\torigin: new google.maps.Point(0, 0),\n\t\t\t\t\tanchor: new google.maps.Point(10, 10),\n\t\t\t\t\tscaledSize: new google.maps.Size(20, 20)\n\t\t\t\t  };\n\t\t\t\t  \n\t\t\t\t  var options = {\n\t\t\t\t\ticon:image,\n\t\t\t\t\ttitle:\telement.constituency,\n\t\t\t\t\tvisible:element.countyboroughuniv==\"C\" ? false : true,\n\t\t\t\t\tlabel:  {text: element.constituency , color: \"white\"}\n\t\t\t\t}\n\t\n\t\n\t\t\t thisDynamicMarker.setOptions(options);\n\t\t\t this.dynamicMarkers.push(thisDynamicMarker);\n\t\t\t\n\t\t});\n\n\n\t\tconst dialogRef = this.dialog.open(DialogueComponent,{\n\t\t\tdata: this.uniqueElections,\n\t\t});\n\n\t\tdialogRef.afterClosed().subscribe(\n\t\t\tdata => this.setSearchFromDialogue(data)\n\t\t\t);\n\n\t\tthis.constituencyFilter.valueChanges.subscribe((constituencyFilterValue) => {\n\t\t\tconsole.log(\"change in consituencyfilter\");\n\t\t\tthis.filteredValues['constituency'] = constituencyFilterValue;\n\t\t\tthis.dataSource.filter = JSON.stringify(this.filteredValues);\n\n\n\t\t\t\n\n\t\t});\n\n\t\tthis.monthFilter.valueChanges.subscribe((monthFilterValue) => {\n\t\t\tthis.filteredValues['election_month'] = monthFilterValue;\n\t\t\tthis.dataSource.filter = JSON.stringify(this.filteredValues);\n\n\t\t});\n\n\t\tthis.yearFilter.valueChanges.subscribe((yearFilterValue) => {\n\n\t\t\tvar yearRange = yearFilterValue.split(\",\");\n\t\t\tthis.setDateSlider();\n\n\t\t\tthis.filteredValues['election_year'] = yearFilterValue;\n\t\t\tthis.dataSource.filter = JSON.stringify(this.filteredValues);\n\t\t\t// this.updateMarkers();\n\t\t});\n\n\n\t\tthis.countyFilter.valueChanges.subscribe((countyFilterValue) => {\n\t\t\tthis.filteredValues['countyboroughuniv'] = countyFilterValue;\n\t\t\tthis.dataSource.filter = JSON.stringify(this.filteredValues);\n\t\t});\n\n\t\tthis.contestedFilter.valueChanges.subscribe((contestedFilterValue) => {\n\t\t\tthis.filteredValues['contested'] = contestedFilterValue;\n\t\t\tthis.dataSource.filter = JSON.stringify(this.filteredValues);\n\t\t});\n\n\t\tthis.byElectionGeneralFilter.valueChanges.subscribe((byElectionGeneralFilterValue) => {\n\t\t\tthis.filteredValues['by_election_general'] = byElectionGeneralFilterValue;\n\t\t\tthis.dataSource.filter = JSON.stringify(this.filteredValues);\n\n\t\t});\n\t\tthis.franchiseFilter.valueChanges.subscribe((franchiseFilterValue) => {\n\t\t\tthis.filteredValues['franchise_type'] = franchiseFilterValue;\n\t\t\tthis.dataSource.filter = JSON.stringify(this.filteredValues);\n\n\t\t});\n\t\tthis.pollBookCodeFilter.valueChanges.subscribe((pollBookCodeFilterValue) => {\n\t\t\tthis.filteredValues['pollbook_id'] = pollBookCodeFilterValue;\n\t\t\tthis.dataSource.filter = JSON.stringify(this.filteredValues);\n\n\t\t});\n\n\t\tthis.dataSource.filterPredicate = this.customFilterPredicate();\n\n\t}\n\t//what it sound slike, set all the searches to blank and include all daata\n\tclearSearch() {\n\n\t\tthis.constituencyFilter.setValue(\"\");\n\n\t\tthis.monthFilter.setValue(\"\");\n\n\t\tthis.countyFilter.setValue(\"\");\n\n\t\tthis.contestedFilter.setValue(\"\");\n\n\t\tthis.byElectionGeneralFilter.setValue(\"\");\n\t\tthis.franchiseFilter.setValue(\"\");\n\t\tthis.pollBookCodeFilter.setValue(\"\");\n\t\tthis.constituencyFilter.setValue(\"\");\n//\t\t this.constituencyFilter.setValue(this.constituencyFilter.value+\",Yorkshire\");\n\n\t\tthis.dataSource.filter = JSON.stringify(this.filteredValues);\n\t\t\n\t}\n\n\tgetFilteredConstituencies() {\n\t\tvar filteredConstituencies = [];\n\t\tfor (var i = 0; i < this.dataSource.filteredData.length; i++) {\n\t\t\tif (!filteredConstituencies.includes(this.dataSource.filteredData[i].constituency)) {\n\t\t\t\tfilteredConstituencies.push(this.dataSource.filteredData[i].constituency);\n\t\t\t}\n\t\t}\n\t\treturn filteredConstituencies;\n\t}\n\n\tcustomFilterPredicate() {\n\t\tthis.pollBooks = null;\n\t\tconst myFilterPredicate = (data: Election, filter: string): boolean => {\n\t\t\tvar globalMatch = !this.globalFilter;\n\t\t\t//  console.log('globalMatch',globalMatch);\n\t\t\tif (this.globalFilter) {\n\t\t\t\t// search all text fields\n\t\t\t\tglobalMatch = data.election_month.toString().trim().toLowerCase().indexOf(this.globalFilter.toLowerCase()) !== -1\n\t\t\t\t|| data.constituency.toString().trim().toLowerCase().indexOf(this.globalFilter.toLowerCase()) !== -1\n\t\t\t\t|| data.countyboroughuniv.toString().trim().toLowerCase().indexOf(this.globalFilter.toLowerCase()) !== -1\n\t\t\t\t|| data.franchise_type.toString().trim().toLowerCase().indexOf(this.globalFilter.toLowerCase()) !== -1\n\t\t\t\t|| data.by_election_general.toString().trim().toLowerCase().indexOf(this.globalFilter.toLowerCase()) !== -1;\n\n\t\t\t}\n\n\t\t\tif (!globalMatch) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tlet searchString = JSON.parse(filter);\n\t\t\t// return data.constituency.toString().trim().indexOf(searchString.constituency) !== -1  \n\t\t\treturn this.hasConstituencies(data, searchString)\n\t\t\t&& this.hasMonths(data, searchString)\n\t\t\t&& this.hasYears(data, searchString)\n\t\t\t// && data.election_month.toString().trim().toLowerCase().indexOf(searchString.election_month.toLowerCase()) !== -1 \n\t\t\t// && data.Year.toString().trim().toLowerCase().indexOf(searchString.Year.toLowerCase()) !== -1 \n\t\t\t&& data.countyboroughuniv.toString().trim().toLowerCase().indexOf(searchString.countyboroughuniv.toLowerCase()) !== -1\n\n\t\t\t&& data.contested.toString().trim().toLowerCase().indexOf(searchString.contested.toLowerCase()) !== -1\n\t\t\t&& data.by_election_general.toString().trim().toLowerCase().indexOf(searchString.by_election_general.toLowerCase()) !== -1\n\t\t\t&& data.contested.toString().trim().toLowerCase().indexOf(searchString.contested.toLowerCase()) !== -1\n\t\t\t&& data.franchise_type.toString().trim().toLowerCase().indexOf(searchString.franchise_type.toLowerCase()) !== -1\n\t\t\t// && data.pollbook_id.toString().trim().toLowerCase().indexOf(searchString.pollbook_id.toLowerCase()) !== -1 \n\t\t\t&& this.getHasPollBooksFilter(data.pollbook_id.toString().trim().toLowerCase(), searchString.pollbook_id.toLowerCase()) !== -1\n\n\t\t\t;\n\n\t\t}\n\n\t\treturn myFilterPredicate;\n\t}\n\n\t\n\thasConstituencies(data, searchString) {\n\t\tif (searchString.constituency.includes(\",\")) {\n\n\t\t\tvar constituencyList = searchString.constituency.split(\",\");\n\t\t\tfor (var i = 0; i < constituencyList.length; i++) {\n\t\t\t\tif (constituencyList[i].trim().toLowerCase() === data.constituency.toString().trim().toLowerCase()) {\n\t\t\t\t\treturn 1;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn 0;\n\n\n\t\t}\n\t\telse {\n\t\t\treturn data.constituency.toString().trim().toLowerCase().indexOf(searchString.constituency.toLowerCase()) !== -1;\n\t\t}\n\t\treturn 0;\n\t}\n\thasMonths(data, searchString) {\n\t\tif (searchString.election_month.includes(\",\")) {\n\n\t\t\tvar monthList = searchString.election_month.split(\",\");\n\t\t\tfor (var i = 0; i < monthList.length; i++) {\n\t\t\t\tif (monthList[i].trim() === data.election_month.toString().trim()) {\n\t\t\t\t\treturn 1;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn 0;\n\n\n\t\t}\n\t\telse {\n\t\t\treturn data.election_month.toString().trim().indexOf(searchString.election_month) !== -1;\n\t\t}\n\t\treturn 0;\n\t}\n\thasYears(data, searchString) {\n\t\tif (searchString.election_year.includes(\",\")) {\n\n\t\t\tvar yearList = searchString.election_year.split(\",\");\n\t\t\tfor (var i = 0; i < yearList.length; i++) {\n\t\t\t\tif (yearList[i].trim() === data.election_year.toString().trim()) {\n\t\t\t\t\treturn 1;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn 0;\n\n\n\t\t}\n\t\telse if (searchString.election_year.includes(\"-\")&&searchString.election_year.length==9) {\n\t\t\tvar yearRange = searchString.election_year.split(\"-\");\n\t\t\tif (yearRange.length == 2) {\n\t\t\t\tvar lowRange = parseInt(yearRange[0].trim());\n\t\t\t\tvar highRange = parseInt(yearRange[1].trim());\n\t\t\t\tvar thisYear = parseInt(data.election_year.toString().trim());\n\n\t\t\t\tif (thisYear >= lowRange && thisYear <= highRange) return 1;\n\t\t\t}\n\n\n\t\t}\n\t\telse if (searchString.election_year.length==4) {\n\t\t\treturn data.election_year.toString().trim().indexOf(searchString.election_year) !== -1;\n\t\t}\n\t\treturn 0;\n\t}\n\n\tyearInRange(data, searchString, year) {\n\t\t//for some reson the search term isn't coming throuhg\n\t\tif (this.yearFilter.value.length == 0) return 0;\n\n\t\t//if this is a year range separated by a hyphen\n\t\tif (this.yearFilter.value.indexOf(\"-\") != -1) {\n\t\t\tvar yearRange = this.yearFilter.value.split(\"-\");\n\t\t\tif (yearRange.length == 2) {\n\t\t\t\tif (yearRange[0].trim().length == 4 && yearRange[1].trim().length == 4) {\n\t\t\t\t\tif (year >= parseInt(yearRange[0].trim()) && year <= parseInt(yearRange[1].trim())) return 0;\n\t\t\t\t} else if (yearRange[0].trim().length == 4 && yearRange[1].trim().length != 4) {\n\t\t\t\t\tif (year == parseInt(yearRange[0].trim())) return 0;\n\t\t\t\t}\n\n\n\t\t\t}\n\t\t}\n\t\t//otherwise assume it's a lst\n\t\telse {\n\n\t\t\tif (this.yearFilter.value.includes(\",\")) {\n\n\t\t\t\tvar yearList = this.yearFilter.value.split(\",\");\n\t\t\t\tfor (var i = 0; i < yearList.length; i++) {\n\t\t\t\t\tif (yearList[i].trim() === year.trim()) {\n\t\t\t\t\t\treturn 1;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\treturn 0;\n\n\n\t\t\t}\n\t\t\telse {\n\t\t\t\treturn this.yearFilter.value.toString().trim().indexOf(year) !== -1;\n\t\t\t}\n\t\t}\n\n\t\t//\tif(year>=lowYear && year<=this.currentMaxValue) return 0;\n\t\treturn -1;\n\n\t}\n\tgetHasPollBooksFilter(pollbook_id, searchTerm) {\n\t\tif (searchTerm == 'y') {\n\t\t\tif (pollbook_id.length > 1) {\n\t\t\t\treturn 0;\n\t\t\t} else {\n\t\t\t\treturn -1;\n\t\t\t}\n\n\n\t\t}\n\t\telse if (searchTerm == 'n') {\n\t\t\tif (pollbook_id.length == 0) {\n\t\t\t\treturn 0;\n\t\t\t} else {\n\t\t\t\treturn -1;\n\t\t\t}\n\t\t}\n\t\treturn 0;\n\n\t}\n\n\t///////////////////////////////////****END FILTER FUNCTIONS****///////////////////////////////////\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\t///////////////////////////////////****START DIALOGUE FUNCTIONS****///////////////////////////////////\n\n\topenPollBookDialog() {\n\n\t\tlet dialogRef = this.dialog.open(PollbookDialogueComponent, {\n\t\t\tdata: this.pollBooks,\n\t\t});\n\t}\n\t//open the main search dialogue (this is called from the gui button to)\n\topenFormDialogue() {\n\t\tthis.clearSearch();\n\t\tconst dialogRef = this.dialog.open(DialogueComponent, {\n\t\t\tdata: this.uniqueElections,\n\t\t});\n\n\t\tdialogRef.afterClosed().subscribe(\n\t\t\tdata => this.setSearchFromDialogue(data)\n\t\t\t);\n\n\t}\n\t//calledf rom within the dialogu\n\tsetSearchFromDialogue(data) {\n\t//\tconsole.log(\"Dialog output for search:\", data);\n\n\t\tif (data != undefined) {\n\t\t\t//theres a make a random search button in the modal search dialogu\n\t\t\tif (data.triggerRandomSearch) {\n\t\t\t\tthis.generateRandomSearch()\n\t\t\t}\n\t\t\t//otherwise lets actuallyupdate all the filters\n\t\t\tif (data.updateSearch) {\n\t\t\t\tif (data.constituency != null) {\n\t\t\t\t\tthis.constituencyFilter.setValue(data.constituency);\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tthis.constituencyFilter.setValue(\"\");\n\t\t\t\t}\n\n\t\t\t\tif (data.year != null) {\n\t\t\t\t\tthis.yearFilter.setValue(data.year);\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tthis.yearFilter.setValue(\"\");\n\t\t\t\t}\n\n\t\t\t\tif (data.month != null) {\n\t\t\t\t\tthis.monthFilter.setValue(data.month);\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tthis.monthFilter.setValue(\"\");\n\t\t\t\t}\n\n\n\t\t\t\tif (data.county != null) {\n\t\t\t\t\tthis.countyFilter.setValue(data.county);\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tthis.countyFilter.setValue(\"\");\n\t\t\t\t}\n\n\n\t\t\t\tif (data.contested != null) {\n\t\t\t\t\tthis.contestedFilter.setValue(data.contested);\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tthis.contestedFilter.setValue(\"\");\n\t\t\t\t}\n\n\t\t\t\tif (data.byElectionGeneral != null) {\n\t\t\t\t\tthis.byElectionGeneralFilter.setValue(data.byElectionGeneral);\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tthis.byElectionGeneralFilter.setValue(\"\");\n\t\t\t\t}\n\n\t\t\t\tif (data.pollBookCode != null) {\n\t\t\t\t\tthis.pollBookCodeFilter.setValue(data.pollBookCode);\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tthis.pollBookCodeFilter.setValue(\"\");\n\t\t\t\t}\n\n\n\n\n\t\t\t\tthis.dataSource.filter = JSON.stringify(this.filteredValues);\n\t\t\t}\n\t\t}\n\t}\n\n\n\n\n\n\n\n\t///////////////////////////////////****END DIALOGUE FUNCTIONS****///////////////////////////////////\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\t///////////////////////////////////****START MAP STYLES****///////////////////////////////////\n\tgetStyles(){\n\t\tvar styles = [\n\t\t{\n\t\t\t\"elementType\": \"geometry\",\n\t\t\t\"stylers\": [\n\t\t\t{\n\t\t\t\t\"color\": \"#999999\"\n\t\t\t}\n\t\t\t]\n\t\t},\n\t\t{\n\t\t\t\"elementType\": \"labels\",\n\t\t\t\"stylers\": [\n\t\t\t{\n\t\t\t\t\"visibility\": \"off\"\n\t\t\t}\n\t\t\t]\n\t\t},\n\t\t{\n\t\t\t\"elementType\": \"labels.text.fill\",\n\t\t\t\"stylers\": [\n\t\t\t{\n\t\t\t\t\"color\": \"#757575\"\n\t\t\t}\n\t\t\t]\n\t\t},\n\t\t{\n\t\t\t\"elementType\": \"labels.text.stroke\",\n\t\t\t\"stylers\": [\n\t\t\t{\n\t\t\t\t\"color\": \"#212121\"\n\t\t\t}\n\t\t\t]\n\t\t},\n\t\t{\n\t\t\t\"featureType\": \"administrative\",\n\t\t\t\"elementType\": \"geometry\",\n\t\t\t\"stylers\": [\n\t\t\t{\n\t\t\t\t\"color\": \"#757575\"\n\t\t\t},\n\t\t\t{\n\t\t\t\t\"visibility\": \"off\"\n\t\t\t}\n\t\t\t]\n\t\t},\n\t\t{\n\t\t\t\"featureType\": \"administrative.country\",\n\t\t\t\"elementType\": \"labels.text.fill\",\n\t\t\t\"stylers\": [\n\t\t\t{\n\t\t\t\t\"color\": \"#9e9e9e\"\n\t\t\t}\n\t\t\t]\n\t\t},\n\t\t{\n\t\t\t\"featureType\": \"administrative.land_parcel\",\n\t\t\t\"stylers\": [\n\t\t\t{\n\t\t\t\t\"visibility\": \"off\"\n\t\t\t}\n\t\t\t]\n\t\t},\n\t\t{\n\t\t\t\"featureType\": \"administrative.locality\",\n\t\t\t\"elementType\": \"labels.text.fill\",\n\t\t\t\"stylers\": [\n\t\t\t{\n\t\t\t\t\"color\": \"#bdbdbd\"\n\t\t\t}\n\t\t\t]\n\t\t},\n\t\t{\n\t\t\t\"featureType\": \"administrative.neighborhood\",\n\t\t\t\"stylers\": [\n\t\t\t{\n\t\t\t\t\"visibility\": \"off\"\n\t\t\t}\n\t\t\t]\n\t\t},\n\t\t{\n\t\t\t\"featureType\": \"poi\",\n\t\t\t\"stylers\": [\n\t\t\t{\n\t\t\t\t\"visibility\": \"off\"\n\t\t\t}\n\t\t\t]\n\t\t},\n\t\t{\n\t\t\t\"featureType\": \"poi\",\n\t\t\t\"elementType\": \"labels.text\",\n\t\t\t\"stylers\": [\n\t\t\t{\n\t\t\t\t\"visibility\": \"off\"\n\t\t\t}\n\t\t\t]\n\t\t},\n\t\t{\n\t\t\t\"featureType\": \"poi\",\n\t\t\t\"elementType\": \"labels.text.fill\",\n\t\t\t\"stylers\": [\n\t\t\t{\n\t\t\t\t\"color\": \"#757575\"\n\t\t\t}\n\t\t\t]\n\t\t},\n\t\t{\n\t\t\t\"featureType\": \"poi.park\",\n\t\t\t\"elementType\": \"geometry\",\n\t\t\t\"stylers\": [\n\t\t\t{\n\t\t\t\t\"color\": \"#181818\"\n\t\t\t}\n\t\t\t]\n\t\t},\n\t\t{\n\t\t\t\"featureType\": \"poi.park\",\n\t\t\t\"elementType\": \"labels.text.fill\",\n\t\t\t\"stylers\": [\n\t\t\t{\n\t\t\t\t\"color\": \"#616161\"\n\t\t\t}\n\t\t\t]\n\t\t},\n\t\t{\n\t\t\t\"featureType\": \"poi.park\",\n\t\t\t\"elementType\": \"labels.text.stroke\",\n\t\t\t\"stylers\": [\n\t\t\t{\n\t\t\t\t\"color\": \"#1b1b1b\"\n\t\t\t}\n\t\t\t]\n\t\t},\n\t\t{\n\t\t\t\"featureType\": \"road\",\n\t\t\t\"stylers\": [\n\t\t\t{\n\t\t\t\t\"visibility\": \"off\"\n\t\t\t}\n\t\t\t]\n\t\t},\n\t\t{\n\t\t\t\"featureType\": \"road\",\n\t\t\t\"elementType\": \"geometry.fill\",\n\t\t\t\"stylers\": [\n\t\t\t{\n\t\t\t\t\"color\": \"#2c2c2c\"\n\t\t\t}\n\t\t\t]\n\t\t},\n\t\t{\n\t\t\t\"featureType\": \"road\",\n\t\t\t\"elementType\": \"labels\",\n\t\t\t\"stylers\": [\n\t\t\t{\n\t\t\t\t\"visibility\": \"off\"\n\t\t\t}\n\t\t\t]\n\t\t},\n\t\t{\n\t\t\t\"featureType\": \"road\",\n\t\t\t\"elementType\": \"labels.icon\",\n\t\t\t\"stylers\": [\n\t\t\t{\n\t\t\t\t\"visibility\": \"off\"\n\t\t\t}\n\t\t\t]\n\t\t},\n\t\t{\n\t\t\t\"featureType\": \"road\",\n\t\t\t\"elementType\": \"labels.text.fill\",\n\t\t\t\"stylers\": [\n\t\t\t{\n\t\t\t\t\"color\": \"#8a8a8a\"\n\t\t\t}\n\t\t\t]\n\t\t},\n\t\t{\n\t\t\t\"featureType\": \"road.arterial\",\n\t\t\t\"elementType\": \"geometry\",\n\t\t\t\"stylers\": [\n\t\t\t{\n\t\t\t\t\"color\": \"#373737\"\n\t\t\t}\n\t\t\t]\n\t\t},\n\t\t{\n\t\t\t\"featureType\": \"road.highway\",\n\t\t\t\"elementType\": \"geometry\",\n\t\t\t\"stylers\": [\n\t\t\t{\n\t\t\t\t\"color\": \"#3c3c3c\"\n\t\t\t}\n\t\t\t]\n\t\t},\n\t\t{\n\t\t\t\"featureType\": \"road.highway.controlled_access\",\n\t\t\t\"elementType\": \"geometry\",\n\t\t\t\"stylers\": [\n\t\t\t{\n\t\t\t\t\"color\": \"#4e4e4e\"\n\t\t\t}\n\t\t\t]\n\t\t},\n\t\t{\n\t\t\t\"featureType\": \"road.local\",\n\t\t\t\"elementType\": \"labels.text.fill\",\n\t\t\t\"stylers\": [\n\t\t\t{\n\t\t\t\t\"color\": \"#616161\"\n\t\t\t}\n\t\t\t]\n\t\t},\n\t\t{\n\t\t\t\"featureType\": \"transit\",\n\t\t\t\"stylers\": [\n\t\t\t{\n\t\t\t\t\"visibility\": \"off\"\n\t\t\t}\n\t\t\t]\n\t\t},\n\t\t{\n\t\t\t\"featureType\": \"transit\",\n\t\t\t\"elementType\": \"labels.text.fill\",\n\t\t\t\"stylers\": [\n\t\t\t{\n\t\t\t\t\"color\": \"#757575\"\n\t\t\t}\n\t\t\t]\n\t\t},\n\t\t{\n\t\t\t\"featureType\": \"water\",\n\t\t\t\"elementType\": \"geometry\",\n\t\t\t\"stylers\": [\n\t\t\t{\n\t\t\t\t\"color\": \"#000000\"\n\t\t\t}\n\t\t\t]\n\t\t},\n\t\t{\n\t\t\t\"featureType\": \"water\",\n\t\t\t\"elementType\": \"labels.text\",\n\t\t\t\"stylers\": [\n\t\t\t{\n\t\t\t\t\"visibility\": \"off\"\n\t\t\t}\n\t\t\t]\n\t\t},\n\t\t{\n\t\t\t\"featureType\": \"water\",\n\t\t\t\"elementType\": \"labels.text.fill\",\n\t\t\t\"stylers\": [\n\t\t\t{\n\t\t\t\t\"color\": \"#3d3d3d\"\n\t\t\t}\n\t\t\t]\n\t\t}\n\t\t]\n\t\treturn styles;\n\t}\n}\n\n","<div id=\"container\">\n\n    <div class=\"map-container\">\n        <google-map height=\"1000px\" width=\"100%\" [zoom]=\"zoom\" [center]=\"center\" [options]=\"options\" (tilesloaded)=\"mapReady()\" (zoomChanged)=\"mapZoomChanged()\" (idle)=\"mapIdle()\">\n\n            <!-- <map-marker *ngFor=\"let marker of markers\" [options]=\"marker.options\" [icon]=\"marker.icon\" [position]=\"marker.position\" [title]=\"marker.title\"></map-marker>\n            <map-marker *ngFor=\"let bmarker of boroughMarkerPositions; index as i;\" [options]=\"boroughMarkerOptions[i]\" [icon]=\"boroughMarkerOptions[i].icon\" [position]=\"bmarker\"></map-marker>\n            -->\n            <!-- <map-marker *ngFor=\"let position of countyMarkerPositions; index as i;\" [icon]=\"countyMarkerOptions[i].icon\" [options]=\"countyMarkerOptions[i]\" [position]=\"position\"></map-marker> -->\n\n            <!-- <map-marker *ngFor=\"let marker of mmarkers\" [options]=\"getOptions(marker)\" [icon]=\"getIcon(marker)\" [position]=\"marker.position\" [title]=\"marker.title\"></map-marker> -->\n            <!-- <map-marker [position]=\"dynamicMarker.getPosition()\" [options]=\"{icon:dynamicMarker.getIcon()}\"></map-marker> -->\n            <map-marker *ngFor=\"let dynamicMarker of dynamicMarkers\" [position]=\"dynamicMarker.getPosition()\" [options]=\"{icon:dynamicMarker.getIcon(), title:dynamicMarker.title, visible :dynamicMarker.visible    }\"></map-marker>\n\n        </google-map>\n\n    </div>\n    <div mwlResizable [enableGhostResize]=\"true\" (resizeEnd)=\"onResizeEnd($event)\" (resizeStart)=\"onResizeStart($event)\" [ngStyle]=\"style\" [resizeEdges]=\"{ bottom: false, right: false, top: false, left: true }\" id=\"info_window\">\n\n        <!-- <div id=\"slider-container\"> -->\n\n\n        <!-- @Dan material tables have this really complicated data binding structure. the filtered stuff from the columns is a property of the dataSource object -->\n        <div *ngIf=\"dataSource.filteredData\" style=\"color:white; margin-top: 2%\">\n\n\n\n\n\n            <strong style=\"color:#ffd740\">         {{dataSource.filteredData.length}}</strong> elections of which <strong style=\"color:#0db9f0\">{{getNumberOfContested()}}</strong>{{getPlural(getNumberOfContested())}}</div><br>\n\n        <div #gcontainer id=\"graph_container\" style=\"width:100%;  position:relative; \">\n            <div *ngFor=\"let bar of electionsPerYear\" matTooltip=\"{{bar.year}}: {{bar.numElections}} elections\" style=\"width:100%; background-color: #ffd740;  \" [ngStyle]=\"getBarStyle(bar, gcontainer.offsetWidth,gcontainer.offsetHeight, false)\" class=\"bar\"></div>\n            <div *ngFor=\"let bar of electionsPerYear\" matTooltip=\"{{bar.year}}: {{bar.numContested}} contested elections\" style=\"width:100%;background-color: #0db9f0;   \" [ngStyle]=\"getBarStyle(bar, gcontainer.offsetWidth,gcontainer.offsetHeight, true)\" class=\"bar\"></div>\n            <!-- </div> -->\n        </div>\n        <!--      <mat-radio-group >\n       <mat-radio-button style=\"margin-right: 20px\" [checked]=\"mapLinked\" (click)=\"toggleMapLinked(true)\" value=\"true\">Map Linked</mat-radio-button>\n       <mat-radio-button style=\"margin-right: 20px\" [checked]=\"!mapLinked\" (click)=\"toggleMapLinked(false)\" value=\"false\">Map Unlinked         </mat-radio-button>\n     </mat-radio-group> -->\n        <br>\n        <!-- id=\"clear_map\" -->\n\n        <button mat-raised-button class=\"button_option\" (click)=\"openFormDialogue()\">OPEN FORM</button>\n        <button mat-raised-button class=\"button_option\" (click)=\"clearSearch()\">CLEAR</button>\n        <button mat-raised-button class=\"button_option\" (click)=\"animateTimeLine()\">ANIMATE</button>\n\n        <!-- <button mat-raised-button class=\"button_option\"  (click)=\"clearMap()\">CLEAR THE MAP</button>    -->\n\n\n        <br><br>\n\n        <!-- </div> -->\n\n        <ng5-slider [(value)]=\"minYear\" [(highValue)]=\"maxYear\" (userChange)=\"sliderChange($event)\" style=\"z-index:20000;\" [options]=\"sliderOptions\"></ng5-slider>\n\n\n        <table *ngIf=\"dataSource\" mat-table [dataSource]=\"dataSource\" class=\"mat-elevation-z8 mytable style-3 stay_inline\">\n\n            <ng-container matColumnDef=\"constituency\">\n                <th mat-header-cell *matHeaderCellDef> <span matTooltip=\"click to find out more about consitituencies\" [matTooltipPosition]=\"'above'\">Constituency</span>\n                    <div>\n                        <mat-form-field>\n                            <input matInput class=\"form-field\" [formControl]=\"constituencyFilter\" placeholder=\"....\">\n                        </mat-form-field>\n                    </div>\n                </th>\n                <td mat-cell *matCellDef=\"let element\"> {{element.constituency}} </td>\n            </ng-container>\n\n            <ng-container matColumnDef=\"election_month\">\n                <th mat-header-cell *matHeaderCellDef> <span matTooltip=\"click to find out more about months\" [matTooltipPosition]=\"'above'\">Month </span>\n                    <div>\n                        <mat-form-field>\n                            <input matInput class=\"form-field\" [formControl]=\"monthFilter\" placeholder=\"....\">\n                        </mat-form-field>\n                    </div>\n                </th>\n                <td mat-cell *matCellDef=\"let element\"> {{element.election_month}} </td>\n            </ng-container>\n\n            <ng-container matColumnDef=\"election_year\">\n                <th mat-header-cell *matHeaderCellDef> <span matTooltip=\"click to find out more about years\" [matTooltipPosition]=\"'above'\">Year </span>\n                    <div>\n                        <mat-form-field>\n                            <input matInput class=\"form-field\" [formControl]=\"yearFilter\" placeholder=\"....\">\n                        </mat-form-field>\n                    </div>\n                </th>\n                <td mat-cell *matCellDef=\"let element\"> {{element.election_year}} </td>\n            </ng-container>\n\n            <ng-container matColumnDef=\"countyboroughuniv\">\n                <th mat-header-cell *matHeaderCellDef> <span matTooltip=\"click to find out more about the different kinds of elections\" [matTooltipPosition]=\"'above'\">County/Borough/Univ </span>\n                    <div>\n                        <!-- <mat-form-field>\n     <input matInput class=\"form-field\" [formControl]=\"countyFilter\" placeholder=\"....\">\n   </mat-form-field> -->\n                        <mat-select [formControl]=\"countyFilter\" [(value)]=\"countyFilter.value\">\n                            <mat-option value=\"\">Any</mat-option>\n                            <mat-option value=\"C\">C</mat-option>\n                            <mat-option value=\"B\">B</mat-option>\n                            <mat-option value=\"U\">U</mat-option>\n                        </mat-select>\n                    </div>\n                </th>\n                <td mat-cell *matCellDef=\"let element\"> {{element.countyboroughuniv}} </td>\n            </ng-container>\n\n            <ng-container matColumnDef=\"contested\">\n                <th mat-header-cell *matHeaderCellDef> <span matTooltip=\"Not all elections were fought. click to find out more\" [matTooltipPosition]=\"'above'\">Contested?</span>\n                    <div>\n                        <mat-form-field>\n\n                            <mat-select [formControl]=\"contestedFilter\" [(value)]=\"contestedFilter.value\">\n                                <mat-option value=\"\">Any</mat-option>\n                                <mat-option value=\"Y\">Yes</mat-option>\n                                <mat-option value=\"N\">No</mat-option>\n                            </mat-select>\n                        </mat-form-field>\n                    </div>\n                </th>\n                <td mat-cell *matCellDef=\"let element\"> {{element.contested}} </td>\n            </ng-container>\n\n            <ng-container matColumnDef=\"by_election_general\">\n                <th mat-header-cell *matHeaderCellDef> <span matTooltip=\"general elections happened every 4 years. click to find out more about them\" [matTooltipPosition]=\"'above'\">By/General Election </span>\n                    <div>\n                        <mat-form-field>\n\n                            <mat-select [formControl]=\"byElectionGeneralFilter\" [(value)]=\"byElectionGeneralFilter.value\">\n                                <mat-option value=\"\">Any</mat-option>\n                                <mat-option value=\"B\">By Election</mat-option>\n                                <mat-option value=\"G\">General Election</mat-option>\n                            </mat-select>\n\n                        </mat-form-field>\n                    </div>\n                </th>\n                <td mat-cell *matCellDef=\"let element\"> {{element.by_election_general}} </td>\n            </ng-container>\n\n            <ng-container matColumnDef=\"franchise_type\">\n                <th mat-header-cell *matHeaderCellDef> <span matTooltip=\"click to find out more about franchiseTypes\" [matTooltipPosition]=\"'above'\">Franchise </span>\n                    <div>\n                        <mat-form-field>\n                            <input matInput class=\"form-field\" [formControl]=\"franchiseFilter\" placeholder=\"....\">\n                        </mat-form-field>\n                    </div>\n                </th>\n                <td mat-cell *matCellDef=\"let element\"> {{element.franchise_type}} </td>\n            </ng-container>\n\n            <ng-container matColumnDef=\"pollbook_id\">\n                <th mat-header-cell *matHeaderCellDef><span matTooltip=\"poll books contain important details of voters. click to find out more\" [matTooltipPosition]=\"'above'\"> Has Poll Books? </span>\n                    <div>\n                        <mat-form-field>\n                            <mat-select [formControl]=\"pollBookCodeFilter\" [(value)]=\"pollBookCodeFilter.value\">\n                                <mat-option value=\"\">Any</mat-option>\n                                <mat-option value=\"Y\">Yes</mat-option>\n                                <mat-option value=\"N\">No</mat-option>\n                            </mat-select>\n\n                        </mat-form-field>\n                    </div>\n                </th>\n                <td mat-cell id=\"pollBookCell\" (click)=\"getBook($event, element)\" *matCellDef=\"let element\"> {{getHasPollBooks(element.pollbook_id)}}</td>\n            </ng-container>\n\n\n\n            <tr mat-header-row *matHeaderRowDef=\"displayedColumns\"></tr>\n            <tr mat-row *matRowDef=\"let row; columns: displayedColumns;\"></tr>\n        </table>\n        <mat-paginator id=\"pagin\" [pageSize]=\"10\" [pageSizeOptions]=\"[5, 10, 20, 50, 100, 500]\" showFirstLastButtons></mat-paginator>\n        <button mat-icon-button aria-label=\"download our data\" (click)=\"download()\">\n <mat-icon>cloud_download</mat-icon>\n</button>\n        <div id=\"HOPtext\" *ngIf=\"HOPtext\">\n            <!-- <pre><code> -->\n            {{HOPtext.date_range}} {{HOPtext.innerText}}\n            <!-- </code></pre> -->\n        </div>\n\n\n\n    </div>\n\n\n</div>","import { Component, OnInit } from '@angular/core';\nimport { SwaggerUIBundle, SwaggerUIStandalonePreset } from 'swagger-ui-dist';\n\n@Component({\n  selector: 'app-api',\n  templateUrl: './api.component.html',\n  styleUrls: ['./api.component.scss']\n})\nexport class ApiComponent implements OnInit {\n\n  constructor() { }\n\n  ngOnInit(): void {\n    const ui = SwaggerUIBundle({\n      dom_id: '#swagger-ui',\n      layout: 'BaseLayout',\n      presets: [\n        SwaggerUIBundle.presets.apis,\n        SwaggerUIBundle.SwaggerUIStandalonePreset\n      ],\n      url: 'https://raw.githubusercontent.com/Digital-Cultures/ECPPEC/Angular11/php/ecppec.yaml',\n      operationsSorter: 'alpha'\n    });\n  }\n\n}","<div id=\"swagger-ui\"></div>","\nimport './polyfills';\n\nimport { enableProdMode } from '@angular/core';\nimport { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\n\nimport { AppModule } from './app/app.module';\n\nplatformBrowserDynamic().bootstrapModule(AppModule).then(ref => {\n  // Ensure Angular destroys itself on hot reloads.\n  if (window['ngRef']) {\n    window['ngRef'].destroy();\n  }\n  window['ngRef'] = ref;\n\n  // Otherise, log the boot error\n}).catch(err => console.error(err));","function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncaught exception popping up in devtools\n\treturn Promise.resolve().then(function() {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t});\n}\nwebpackEmptyAsyncContext.keys = function() { return []; };\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nmodule.exports = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = \"zn8P\";"],"sourceRoot":"webpack:///"}
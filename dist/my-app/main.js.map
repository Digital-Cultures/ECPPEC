{"version":3,"sources":["./src/app/download-poll-books.service.ts","./src/app/sandpit/sandpit.component.ts","./src/app/hello.component.ts","./src/app/about/about.component.ts","./src/app/about/about.component.html","./src/app/table/table.component.ts","./src/app/table/table.component.html","./src/app/pollbook-dialogue/pollbook-dialogue.component.ts","./src/app/pollbook-dialogue/pollbook-dialogue.component.html","./src/app/dialogue/dialogue.component.ts","./src/app/dialogue/dialogue.component.html","./src/app/datasource.service.ts","./src/app/outputs/outputs.component.ts","./src/app/outputs/outputs.component.html","./src/app/get-elections.service.ts","./src/app/app.component.ts","./src/app/app.component.html","./src/app/contested-story/contested-story.component.ts","./src/app/contested-story/contested-story.component.html","./src/app/app.module.ts","./src/app/warning-dialogue/warning-dialogue.component.ts","./src/app/warning-dialogue/warning-dialogue.component.html","./src/app/map/map.component.ts","./src/app/map/map.component.html","./src/polyfills.ts","./src/app/date-pipe.pipe.ts","./src/app/elections-map/elections-map.component.ts","./src/app/elections-map/elections-map.component.html","./src/app/team/team.component.html","./src/app/team/team.component.ts","./src/app/smooth-height/smooth-height.component.ts","./src/app/mapStyles.ts","./src/app/app-routing.module.ts","./src/app/viz/viz.component.ts","./src/app/api/api.component.ts","./src/app/api/api.component.html","./src/main.ts","./$_lazy_route_resource lazy namespace object"],"names":[],"mappings":"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","file":"main.js","sourcesContent":["import { Injectable } from '@angular/core';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class DownloadPollBooksService {\n\n\tdownloadFile(data, filename='data') {\n\t\tlet csvData = this.ConvertToCSV(data, ['BookCode','PrintMS', 'Citation', 'Holdings', 'Source','ElectionCode','Notes']);\n\t\t// console.log(csvData)\n\t\tlet blob = new Blob(['\\ufeff' + csvData], { type: 'text/csv;charset=utf-8;' });\n\t\tlet dwldLink = document.createElement(\"a\");\n\t\tlet url = URL.createObjectURL(blob);\n\t\tlet isSafariBrowser = navigator.userAgent.indexOf('Safari') != -1 && navigator.userAgent.indexOf('Chrome') == -1;\n        if (isSafariBrowser) {  //if Safari open in new window to save file with random filename.\n        \tdwldLink.setAttribute(\"target\", \"_blank\");\n        }\n        dwldLink.setAttribute(\"href\", url);\n        dwldLink.setAttribute(\"download\", filename + \".csv\");\n        dwldLink.style.visibility = \"hidden\";\n        document.body.appendChild(dwldLink);\n        dwldLink.click();\n        document.body.removeChild(dwldLink);\n    }\n    ConvertToCSV(objArray, headerList) {\n    \tlet array = typeof objArray != 'object' ? JSON.parse(objArray) : objArray;\n    \tlet str = '';\n    \tlet row = 'S.No,';\n    \tfor (let index in headerList) {\n    \t\trow += headerList[index] + ',';\n    \t}\n    \trow = row.slice(0, -1);\n    \tstr += row + '\\r\\n';\n    \tfor (let i = 0; i < array.length; i++) {\n    \t\tlet line = (i+1)+'';\n    \t\tfor (let index in headerList) {\n    \t\t\tlet head = headerList[index];\n    \t\t\tline += ',' + array[i][head];\n    \t\t}\n    \t\tstr += line + '\\r\\n';\n    \t}\n    \treturn str;\n    }\n}\n","import { ElementRef, ApplicationRef, Component, Directive, OnInit, OnDestroy, Output, EventEmitter, OnChanges, ViewChild } from '@angular/core';\nimport { EChartsOption } from 'echarts';\nimport { HttpParams, HttpClient } from '@angular/common/http';\nimport { map } from 'rxjs/operators';\nimport { GetElectionsService } from '../get-elections.service';\nimport { MatTableDataSource } from '@angular/material/table';\nimport { MatFormFieldControl } from '@angular/material/form-field';\nimport { MatPaginator } from '@angular/material/paginator';\nimport { Injectable } from '@angular/core';\nimport { DatasourceService } from '../datasource.service';\n\nimport { FormControl } from '@angular/forms';\nimport * as cloneDeep from 'lodash/cloneDeep';\nimport { DoCheck, KeyValueDiffers, KeyValueChangeRecord } from '@angular/core';\n\nimport { FilterObj } from  '../viz/viz.component';\nimport { Elections } from  '../viz/viz.component';\nimport { Election } from  '../viz/viz.component';\n\nimport { TableComponent} from '../table/table.component';\nimport { of } from 'rxjs';\n\n@Component({\n  selector: 'app-sandpit',\n  templateUrl: './sandpit.component.html',\n  styleUrls: ['./sandpit.component.scss']\n})\nexport class SandpitComponent implements OnInit {\n\n  constructor(private datasourceService: DatasourceService) { }\n  @ViewChild(MatPaginator, { static: true }) paginator: MatPaginator;\n\n  electionsPerYear: any[] = [];\n  \n\t\n\tdataSource = new MatTableDataSource<Election>();\n  normalise: boolean = false;\n  chartInstance: any;\n  electionsMeta: Elections; \n  schartOption: EChartsOption;\n  updateOptions: any;\n  updatePieOptions: any;\n  years: number[] = [];\n  seriesData: any[] = [] ;\n  chartOption: EChartsOption = {\n    xAxis: {\n      type: 'category',\n      data: this.years,\n    },\n    yAxis: {\n      type: 'value',\n    },\n    series: [\n      {\n        data: this.seriesData,\n        type: 'line',\n      },\n    ],\n  };\n  theme:string = \"macarons\";\n  pieOptions = {\n    title: {\n      text: 'Franchise type',\n      subtext: '',\n      x: 'center'\n    },\n    tooltip: {\n      trigger: 'item',\n      formatter: '{a} <br/>{b} : {c} ({d}%)'\n    },\n    legend: {\n      x: 'center',\n      y: 'bottom',\n      data: ['rose1', 'rose2', 'rose3', 'rose4', 'rose5', 'rose6', 'rose7', 'rose8']\n    },\n    calculable: true,\n    series: [\n      {\n        name: 'area',\n        type: 'pie',\n        radius: [30, 110],\n        roseType: 'area',\n        data: [\n          { value: 10, name: 'rose1' },\n          { value: 5, name: 'rose2' },\n          { value: 15, name: 'rose3' },\n          { value: 25, name: 'rose4' },\n          { value: 20, name: 'rose5' },\n          { value: 35, name: 'rose6' },\n          { value: 30, name: 'rose7' },\n          { value: 40, name: 'rose8' }\n        ]\n      }\n    ]\n  };\n\n  // bSubject.subscribe(value => {\n  //   console.log(\"Subscription got\", value); // Subscription got b, \n  //                                           // ^ This would not happen \n  //                                           // for a generic observable \n  //                                           // or generic subject by default\n  // });\n  ngOnInit(): void {\n    //this.datasourceService.dataSourceService.getData();\n    // this.datasourceService.dataSourceService.ready.subscribe(() => this.gotData()\n    // );\n    this.datasourceService.ready.subscribe(value => {this.gotData(value)});\n    // this.datasourceService.onDataSubscriptionChange().subscribe(() => this.dataChange());\n   \n  }\n  gotData(value){\n    if(value){\n   console.log(\"this.datasourceService.electionsMeta\",this.datasourceService.electionsMeta, this.datasourceService.dataSource.data);\n    for(var i=this.datasourceService.electionsMeta.earliest_year;i<this.datasourceService.electionsMeta.latest_year;i++){\n    this.years.push(i);\n    }\n    if(this.normalise){\n      this.seriesData = this.getPercentageContestedPerYear(this.years);\n    }\n    else{\n      this.seriesData = this.getContestedPerYear(this.years);\n    }\n    \n    this.updateOptions = {\n      series: [{\n        data: this.seriesData\n      }]\n    }\n    this.datasourceService.constituencyFilter.valueChanges.subscribe(() => this.dataChange());\n    this.datasourceService.monthFilter.valueChanges.subscribe(() => this.dataChange());\n    this.datasourceService.yearFilter.valueChanges.subscribe(() => this.dataChange());\n    this.datasourceService.countyFilter.valueChanges.subscribe(() => this.dataChange());\n    this.datasourceService.contestedFilter.valueChanges.subscribe(() => this.dataChange());\n    this.datasourceService.byElectionGeneralFilter.valueChanges.subscribe(() => this.dataChange());\n    this.datasourceService.byElectionCauseFilter.valueChanges.subscribe(() => this.dataChange());\n    this.datasourceService.franchiseFilter.valueChanges.subscribe(() => this.dataChange());\n    this.datasourceService.pollBookCodeFilter.valueChanges.subscribe(() => this.dataChange());\n\n    //this.datasourceService.dataSource.subscribe()\n    }\n  }\n  onChartInit(e: any) {\n    this.chartInstance = e;\n    console.log('on chart init:', e);\n  }\n  getFranchiseTypes(){\n    var franchise_types = [];\n    var franchise_data = [];\n    this.datasourceService.dataSource.filteredData.forEach(element =>{\n      if(franchise_types.indexOf(element.franchise_type)==-1){\n        franchise_types.push(element.franchise_type);\n      }\n    }\n\n    )\n  }\n  toggleNormalise(){\n    this.normalise = !this.normalise;\n    this.dataChange();\n  }\n  getFranchiseData(){\n    var franchise_data = {};\n    //  franchise_types.forEach(element =>{\n    //   franchise_data[element]=0;\n    // });\n    this.datasourceService.dataSource.filteredData.forEach(element =>{\n      if (element.franchise_type in franchise_data){\n        franchise_data[element.franchise_type]++;\n      }else{\n        franchise_data[element.franchise_type]=1;\n      }\n      \n      \n    })\n    console.log(\"franchise_data\",franchise_data);\n    var clean_data = [];\n    for (var property in franchise_data) {\n      var obj = {\n        value:franchise_data[property],\n        name:property\n      }\n      clean_data.push(obj);\n    }\n    return clean_data;\n  }\n  dataChange(){\n    console.log(\"after\",this.datasourceService.dataSource.filteredData);\n    if(this.normalise){\n      this.updateOptions = {\n        series: [{\n          data: this.getPercentageContestedPerYear(this.years)\n        }]\n      }\n    }\n    else{\n      this.updateOptions = {\n        series: [{\n          data: this.getContestedPerYear(this.years)\n        }]\n      }\n    }\n \n    var names = [];\n    var franchiseData = this.getFranchiseData();\n    console.log(\"franchiseData\",franchiseData);\n    for(var i =0;i<franchiseData.length;i++){\n      names.push(franchiseData[i].name);\n    }\n    this.updatePieOptions = {\n      series: [\n        {\n          name: 'area',\n          type: 'pie',\n          radius: [30, 110],\n          roseType: 'area',\n          data: franchiseData\n        }\n      ],\n      legend: {\n        x: 'center',\n        y: 'bottom',\n        data: names\n      },\n\n    }\n    console.log(\"updatePieOptions\",this.updatePieOptions);\n\n  }\n\n numberMap (val, in_min, in_max, out_min, out_max) {\n    return (val - in_min) * (out_max - out_min) / (in_max - in_min) + out_min;\n  }\n  getMax(arr){\n    var max=0;\n    arr.forEach(element => {\n      if(element>max) max = element;\n    });\n    return max;\n  }\n  getMin(arr){\n    var min=100000000;\n    arr.forEach(element => {\n      if(element<min) min = element;\n    });\n    return min;\n  }\n  getPercentageContestedPerYear(years){\n    var cpy :number[]=[];\n    var epy :number[]=[];\n    this.years.forEach(element => {\n      cpy.push(0);\n      epy.push(0);\n    });\n    for(var i=0;i<this.datasourceService.dataSource.filteredData.length;i++){\n      var isContested= this.datasourceService.dataSource.filteredData[i].contested;\n      console.log(isContested,\"isCont\");\n      var index = parseInt(this.datasourceService.dataSource.filteredData[i].election_year)-this.datasourceService.electionsMeta.earliest_year;\n      if(isContested.trim()==\"Y\") cpy[index]++;\n\n      epy[index]++;\n    }\n    \n    for(var i=0;i<epy.length;i++){\n      epy[i] = cpy[i]/epy[i];\n    }\n    return epy;\n  }\n  getNormalisedContestedPerYear(years){\n    var cpy :number[]=[];\n    this.years.forEach(element => {\n      cpy.push(0);\n    });\n    for(var i=0;i<this.datasourceService.dataSource.filteredData.length;i++){\n      var index = parseInt(this.datasourceService.dataSource.filteredData[i].election_year)-this.datasourceService.electionsMeta.earliest_year;\n      \n      cpy[index]++;\n    }\n    var nor = [];\n    var i=0;\n    cpy.forEach(element => {\n      var mapped =  this.numberMap( element, this.getMin(cpy), this.getMax(cpy), 0, 100) ;\n      console.log(element,mapped, this.getMin(cpy))\n      nor.push(mapped );\n      i++;\n    });\n\n    return nor;\n  }\n\n  getContestedPerYear(years){\n    var cpy = [];\n    this.years.forEach(element => {\n      cpy.push(0);\n    });\n    for(var i=0;i<this.datasourceService.dataSource.filteredData.length;i++){\n      var index = parseInt(this.datasourceService.dataSource.filteredData[i].election_year)-this.datasourceService.electionsMeta.earliest_year;\n      cpy[index]++;\n    }\n    return cpy;\n  }\n  \n  \n}\n","import { Component, Input } from '@angular/core';\n\n@Component({\n  selector: 'hello',\n  template: `<h1>Hello {{name}}!</h1>`,\n  styles: [`h1 { font-family: Lato; }`]\n})\nexport class HelloComponent  {\n  @Input() name: string;\n}\n","import { Component, OnInit } from '@angular/core';\n\n@Component({\n  selector: 'app-about',\n  templateUrl: './about.component.html',\n  styleUrls: ['./about.component.scss'],\n\thost: {\n    '(window:resize)': 'onResize($event)'\n  }\n})\nexport class AboutComponent implements OnInit {\n\n  constructor() { }\nmyInnerHeight:number;\n  ngOnInit() {\n  \t\tthis.myInnerHeight = window.innerHeight;\n\t\tconsole.log(\"innerHeight\",this.myInnerHeight);\n  }\n  \tonResize(event) {\n  // event.target.innerWidth;\n  this.myInnerHeight = event.target.innerHeight;\n  console.log(this.myInnerHeight);\n\t}\n}\n","<section class=\"text-gray-400 body-font bg-gray-900\">\n    <div class=\"container px-5 py-24 mx-auto\">\n        <div class=\"flex flex-col text-center w-full mb-20\">\n            <h2 class=\"text-xs text-yellow-400 tracking-widest font-medium title-font mb-1 lg:text-xl md:text-3xl\">ABOUT THE ECPPECT PROJECT</h2>\n            <h1 class=\"sm:text-3xl text-2xl font-medium title-font mb-4 text-white \">Eighteenth-Century Political Participation and Electoral Culture</h1>\n            <p class=\"lg:w-2/3 mx-auto leading-relaxed text-base lg:text-base sm:text-2xl\"> The project aims to produce new understanding of parliamentary elections in England between 1696 and 1832. Even though few could vote, these elections were often accompanied by an explosion of print, sermons, and song; processions, assemblies,\n                and entertainments; and even new modes of dress, decoration, and behaviour. Men and women, adults and children, rich and poor, franchised and unenfranchised, all participated - as consumers, but also as active makers of these extraordinary\n                cultural and political experiences. ECPPEC will combine literary and historical study of the print, visual, musical and material culture of elections, with ‘big data’ analysis of poll books, including innovative mapping, visualisation\n                and psephological assessment of who voted, who they voted for, and how this changed over time and place. The project has sharp, contemporary relevance in an age when fewer people are voting, and when data analytics and targeted media interventions\n                are changing the way we think about electoral processes.</p>\n        </div>\n        <div class=\"flex flex-wrap\">\n            <div class=\"xl:w-1/4 lg:w-1/2 md:w-full px-8 py-6 border-l-2 border-gray-800\">\n                <h2 class=\"text-lg sm:text-3xl text-white font-medium title-font mb-2\">Maps</h2>\n                <p class=\"leading-relaxed text-base mb-4 lg:text-base sm:text-2xl\">Explore our visualisations</p>\n                <a routerLink=\"/map\" class=\"text-yellow-400 inline-flex items-center lg:text-base sm:text-2xl\">Learn More\n            <svg fill=\"none\" stroke=\"currentColor\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" class=\"w-4 h-4 ml-2\" viewBox=\"0 0 24 24\">\n              <path d=\"M5 12h14M12 5l7 7-7 7\"></path>\n            </svg>\n          </a>\n            </div>\n            <div class=\"xl:w-1/4 lg:w-1/2 md:w-full px-8 py-6 border-l-2 border-gray-800\">\n                <h2 class=\"text-lg sm:text-3xl text-white font-medium title-font mb-2\">Team</h2>\n                <p class=\"leading-relaxed text-base mb-4 lg:text-base sm:text-2xl\">Meet the researchers</p>\n                <a routerLink=\"/team\" class=\"text-yellow-400 inline-flex items-center lg:text-base sm:text-2xl\">Learn More\n            <svg fill=\"none\" stroke=\"currentColor\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" class=\"w-4 h-4 ml-2\" viewBox=\"0 0 24 24\">\n              <path d=\"M5 12h14M12 5l7 7-7 7\"></path>\n            </svg>\n          </a>\n            </div>\n            <div class=\"xl:w-1/4 lg:w-1/2 md:w-full px-8 py-6 border-l-2 border-gray-800\">\n                <h2 class=\"text-lg sm:text-3xl text-white font-medium title-font mb-2\">Stories</h2>\n                <p class=\"leading-relaxed text-base mb-4 lg:text-base sm:text-2xl\">Find out more about elections in the 18th Century</p>\n                <a class=\"text-yellow-400 inline-flex items-center lg:text-base sm:text-2xl\">Learn More\n            <svg fill=\"none\" stroke=\"currentColor\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" class=\"w-4 h-4 ml-2\" viewBox=\"0 0 24 24\">\n              <path d=\"M5 12h14M12 5l7 7-7 7\"></path>\n            </svg>\n          </a>\n            </div>\n            <div class=\"xl:w-1/4 lg:w-1/2 md:w-full px-8 py-6 border-l-2 border-gray-800\">\n                <h2 class=\"text-lg sm:text-3xl text-white font-medium title-font mb-2\">Data</h2>\n                <p class=\"leading-relaxed text-base mb-4 lg:text-base sm:text-2xl\">Access the databases through our free webservices</p>\n                <a routerLink=\"/api\" class=\"text-yellow-400 inline-flex items-center lg:text-base sm:text-2xl\">Learn More\n            <svg fill=\"none\" stroke=\"currentColor\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" class=\"w-4 h-4 ml-2\" viewBox=\"0 0 24 24\">\n              <path d=\"M5 12h14M12 5l7 7-7 7\"></path>\n            </svg>\n          </a>\n            </div>\n        </div>\n        <!-- <button class=\"flex mx-auto mt-16 text-white bg-yellow-500 border-0 py-2 px-8 focus:outline-none hover:bg-yellow-600 rounded text-lg\">Button</button> -->\n    </div>\n</section>","import { Component, OnInit, ViewChild } from '@angular/core';\nimport { DatasourceService } from '../datasource.service';\nimport { MatTableDataSource } from '@angular/material/table';\nimport { FilterObj, Elections, Election , PollBook, PollBookResponse, HOPData} from  '../viz/viz.component';\nimport { MatPaginator } from '@angular/material/paginator';\nimport { ResizeEvent } from 'angular-resizable-element';\nimport { NgxMatRangeSliderModule } from 'ngx-mat-range-slider';\nimport { Options, ChangeContext } from '@angular-slider/ngx-slider';\nimport { MAY } from '@angular/material';\n\n@Component({\n  selector: 'app-table',\n  templateUrl: './table.component.html',\n  styleUrls: ['./table.component.scss']\n})\nexport class TableComponent implements OnInit {\n\n  constructor(private datasourceService: DatasourceService) { }\n  @ViewChild(MatPaginator, { static: true }) paginator: MatPaginator;\n  style:any={};\n  dataSource = new MatTableDataSource<Election>();\n  ready: boolean = false;\n  displayedColumns: string[] = ['constituency', 'election_year', 'election_month', 'countyboroughuniv', 'by_election_general', 'by_election_cause','franchise_type', 'contested', 'pollbook_id'];\n  minYear:number = 1695;\n  maxYear: number = 1835;\n  sliderOptions: Options = {\n    floor: 1695,\n    ceil: 1835\n  };\n  ngOnInit(): void {\n    // this.datasourceService.init();\n    this.datasourceService.getData();\n    this.datasourceService.ready.subscribe(() => this.gotData()\n    );\n   \n    // this.datasourceService.onDataSubscriptionChange().subscribe(() => this.dataChange());\n    this.datasourceService.constituencyFilter.valueChanges.subscribe(() => this.dataChange(\"constituencyFilter\"));\n    this.datasourceService.monthFilter.valueChanges.subscribe(() => this.dataChange(\"monthFilter\"));\n    this.datasourceService.yearFilter.valueChanges.subscribe(() => this.dataChange(\"yearFilter\"));\n    this.datasourceService.countyFilter.valueChanges.subscribe(() => this.dataChange(\"countyFilter\"));\n    this.datasourceService.contestedFilter.valueChanges.subscribe(() => this.dataChange(\"contestedFilter\"));\n    this.datasourceService.byElectionGeneralFilter.valueChanges.subscribe(() => this.dataChange(\"byElectionGeneralFilter\"));\n    this.datasourceService.byElectionCauseFilter.valueChanges.subscribe(() => this.dataChange(\"byElectionCauseFilter\"));\n    this.datasourceService.franchiseFilter.valueChanges.subscribe(() => this.dataChange(\"franchiseFilter\"));\n    this.datasourceService.pollBookCodeFilter.valueChanges.subscribe(() => this.dataChange(\"pollBookCodeFilter\"));\n\n  }\n  dataChange(filterName){\n    //console.log(\"sub change in table\", filterName, this.datasourceService.getFilteredConstituencies());\n    //TODO i guess because this fires on the filter change rather than the data change this is why we need a timeout. is a proper fix to wathc the filtered data?\n    setTimeout(() => {\n      var maxMinYears = this.getMaxMinYears();\n\n      this.minYear = maxMinYears.minY;\n      this.maxYear = maxMinYears.maxY;\n      // console.log(maxMinYears,this.minYear,this.maxYear);\n    }, 10);\n    //get min and max years\n   \n  }\n  \n  getMaxMinYears(){\n    var minY = 4000;\n    var maxY = 0;\n    this.datasourceService.dataSource.filteredData.forEach(element => {\n      var year  = parseInt(element.election_year.trim());\n     // console.log(\"year\",year)\n      if(year>maxY) {\n        maxY = year;\n      }\n      if(year<minY) {\n        minY = year;\n      }\n    });\n    return {\n      maxY:maxY,\n      minY:minY\n    }\n  }\n  gotData(){\n    this.ready =true;\n  //  console.log(\"ready\",this.datasourceService.dataSource.data)\n    this.datasourceService.dataSource.paginator = this.paginator;\n    //this.dataSource = this.datasourceService.dataSource;\n  }\n  getHasPollBooks(pollbook_id) {\n\t\tif (pollbook_id.length > 0) return 'Y (' + pollbook_id.split(\";\").length + ')';\n\n\t\treturn 'N';\n\t}\n  onResizeEnd(event: ResizeEvent): void {\n\t\t\n\t\tthis.style = {\n\t\t\tposition: 'fixed',\n\t\t\tright: \"3%\",\n\t\t\twidth: `${event.rectangle.width}px`,\n\t\t};\n\t}\n\n\tonResizeStart(event: ResizeEvent): void {\n\t\n\n\t}\n  onValueChange(changeContext: ChangeContext): void {\n\t\n\n\t}\n\tsliderChange(changeContext: ChangeContext): void {\n\n\t\tthis.minYear = changeContext.value;\n\t\tthis.maxYear = changeContext.highValue;\n    console.log(\"reset year\");\n\n\t\tthis.datasourceService.yearFilter.setValue(changeContext.value.toString() + \"-\" + changeContext.highValue.toString());\n\t\tthis.datasourceService.dataSource.filter = JSON.stringify(this.datasourceService.filteredValues);\n\n\n\t}\n}\n","<!-- <div id=\"spacer\" style=\"height:200px\"></div> -->\n<!-- <div mwlResizable [enableGhostResize]=\"true\" (resizeEnd)=\"onResizeEnd($event)\" (resizeStart)=\"onResizeStart($event)\" [ngStyle]=\"style\" [resizeEdges]=\"{ bottom: false, right: false, top: false, left: true }\" id=\"info_window\"> -->\n\n<ngx-slider [(value)]=\"minYear\" [(highValue)]=\"maxYear\" (userChangeEnd)=\"sliderChange($event)\" style=\"color:white !important; margin-left:10%;margin-top:8%;margin-bottom:5%;width:80%;z-index:20000;\" [options]=\"sliderOptions\"></ngx-slider>\n<table *ngIf=\"ready\" mat-table [dataSource]=\"datasourceService.dataSource\" class=\"mat-elevation-z8 mytable style-3 stay_inline\">\n\n    <ng-container style=\"padding-top:100px\" matColumnDef=\"constituency\">\n        <th style=\"padding-top: 15px;\" mat-header-cell *matHeaderCellDef> <span matTooltip=\"click to find out more about consitituencies\" [matTooltipPosition]=\"'above'\">Constituency</span>\n            <div>\n                <mat-form-field>\n                    <input matInput class=\"form-field\" [formControl]=\"datasourceService.constituencyFilter\" placeholder=\"....\">\n                </mat-form-field>\n            </div>\n        </th>\n        <td mat-cell *matCellDef=\"let element\"> {{element.constituency}} </td>\n    </ng-container>\n    <ng-container matColumnDef=\"election_month\">\n        <th style=\"padding-top: 15px;\" mat-header-cell *matHeaderCellDef> <span matTooltip=\"click to find out more about months\" [matTooltipPosition]=\"'above'\">Month </span>\n            <div>\n                <mat-form-field>\n                    <input matInput class=\"form-field\" [formControl]=\"datasourceService.monthFilter\" placeholder=\"....\">\n                </mat-form-field>\n            </div>\n        </th>\n        <td mat-cell *matCellDef=\"let element\"> {{element.election_month}} </td>\n    </ng-container>\n\n    <ng-container matColumnDef=\"election_year\">\n        <th style=\"padding-top: 15px;\" mat-header-cell *matHeaderCellDef> <span matTooltip=\"click to find out more about years\" [matTooltipPosition]=\"'above'\">Year </span>\n            <div>\n                <mat-form-field>\n                    <input matInput class=\"form-field\" [formControl]=\"datasourceService.yearFilter\" placeholder=\"....\">\n                </mat-form-field>\n            </div>\n        </th>\n        <td mat-cell *matCellDef=\"let element\"> {{element.election_year}} </td>\n    </ng-container>\n\n    <ng-container matColumnDef=\"countyboroughuniv\">\n        <th style=\"padding-top: 15px;\" mat-header-cell *matHeaderCellDef> <span matTooltip=\"click to find out more about the different kinds of elections\" [matTooltipPosition]=\"'above'\">County/Borough/Univ </span>\n            <div>\n\n                <mat-select [formControl]=\"datasourceService.countyFilter\" [(value)]=\"datasourceService.countyFilter.value\">\n                    <mat-option value=\"\">Any</mat-option>\n                    <mat-option value=\"C\">C</mat-option>\n                    <mat-option value=\"B\">B</mat-option>\n                    <mat-option value=\"U\">U</mat-option>\n                </mat-select>\n            </div>\n        </th>\n        <td mat-cell *matCellDef=\"let element\"> {{element.countyboroughuniv}} </td>\n    </ng-container>\n\n    <ng-container matColumnDef=\"contested\">\n        <th style=\"padding-top: 15px;\" mat-header-cell *matHeaderCellDef> <span matTooltip=\"Not all elections were fought. click to find out more\" [matTooltipPosition]=\"'above'\">Contested?</span>\n            <div>\n                <mat-form-field>\n\n                    <mat-select [formControl]=\"datasourceService.contestedFilter\" [(value)]=\"datasourceService.contestedFilter.value\">\n                        <mat-option value=\"\">Any</mat-option>\n                        <mat-option value=\"Y\">Yes</mat-option>\n                        <mat-option value=\"N\">No</mat-option>\n                    </mat-select>\n                </mat-form-field>\n            </div>\n        </th>\n        <td mat-cell *matCellDef=\"let element\"> {{element.contested}} </td>\n    </ng-container>\n\n\n\n    <ng-container matColumnDef=\"by_election_general\">\n        <th style=\"padding-top: 15px;\" mat-header-cell *matHeaderCellDef> <span matTooltip=\"general elections happened every 4 years. click to find out more about them\" [matTooltipPosition]=\"'above'\">By/General Election </span>\n            <div>\n                <mat-form-field>\n\n                    <mat-select [formControl]=\"datasourceService.byElectionGeneralFilter\" [(value)]=\"datasourceService.byElectionGeneralFilter.value\">\n                        <mat-option value=\"\">Any</mat-option>\n                        <mat-option value=\"B\">By Election</mat-option>\n                        <mat-option value=\"G\">General Election</mat-option>\n                    </mat-select>\n\n                </mat-form-field>\n            </div>\n        </th>\n        <td mat-cell *matCellDef=\"let element\"> {{element.by_election_general}} </td>\n    </ng-container>\n\n    <ng-container matColumnDef=\"by_election_cause\">\n        <th style=\"padding-top: 15px;\" mat-header-cell *matHeaderCellDef> <span matTooltip=\"general elections happened every 4 years. click to find out more about them\" [matTooltipPosition]=\"'above'\">By Election Cause </span>\n            <div>\n                <mat-form-field>\n\n                    <input matInput class=\"form-field\" [formControl]=\"datasourceService.byElectionCauseFilter\" placeholder=\"....\">\n\n                </mat-form-field>\n            </div>\n        </th>\n        <td mat-cell *matCellDef=\"let element\"> {{element.by_election_cause}} </td>\n    </ng-container>\n\n\n    <ng-container matColumnDef=\"franchise_type\">\n        <th style=\"padding-top: 15px;\" mat-header-cell *matHeaderCellDef> <span matTooltip=\"click to find out more about franchiseTypes\" [matTooltipPosition]=\"'above'\">Franchise </span>\n            <div>\n                <mat-form-field>\n                    <input matInput class=\"form-field\" [formControl]=\"datasourceService.franchiseFilter\" placeholder=\"....\">\n                </mat-form-field>\n            </div>\n        </th>\n        <td mat-cell *matCellDef=\"let element\"> {{element.franchise_type}} </td>\n    </ng-container>\n\n    <ng-container matColumnDef=\"pollbook_id\">\n        <th style=\"padding-top: 15px;\" mat-header-cell *matHeaderCellDef><span matTooltip=\"poll books contain important details of voters. click to find out more\" [matTooltipPosition]=\"'above'\"> Has Poll Books? </span>\n            <div>\n                <mat-form-field>\n                    <mat-select [formControl]=\"datasourceService.pollBookCodeFilter\" [(value)]=\"datasourceService.pollBookCodeFilter.value\">\n                        <mat-option value=\"\">Any</mat-option>\n                        <mat-option value=\"Y\">Yes</mat-option>\n                        <mat-option value=\"N\">No</mat-option>\n                    </mat-select>\n\n                </mat-form-field>\n            </div>\n        </th>\n        <td mat-cell id=\"pollBookCell\" (click)=\"getBook($event, element)\" *matCellDef=\"let element\"> {{getHasPollBooks(element.pollbook_id)}}</td>\n    </ng-container>\n    -->\n\n\n    <tr mat-header-row *matHeaderRowDef=\"displayedColumns\"></tr>\n    <tr mat-row *matRowDef=\"let row; columns: displayedColumns;\"></tr>\n</table>\n<mat-paginator id=\"paginator\" [pageSize]=\"10\" [pageSizeOptions]=\"[5, 10, 20, 50, 100, 500]\" showFirstLastButtons></mat-paginator>\n\n<!-- <w/div> -->","import { Component, OnInit,Inject } from '@angular/core';\nimport {MAT_DIALOG_DATA} from '@angular/material/dialog';\nimport { DownloadPollBooksService } from '../download-poll-books.service';\n\n@Component({\n  selector: 'app-pollbook-dialogue',\n  // template: 'passed in {{ data.name }}',\n  templateUrl: './pollbook-dialogue.component.html',\n  styleUrls: ['./pollbook-dialogue.component.scss']\n})\nexport class PollbookDialogueComponent implements OnInit {\n\n  constructor(private downloadPollBooksService: DownloadPollBooksService, @Inject(MAT_DIALOG_DATA) public data: any) { }\n\n  ngOnInit() {\n    // console.log(\"got data in dialogue\",this.data);\n  }\n  \tdownloadPollBooks(){\n\n\t\t\tthis.downloadPollBooksService.downloadFile(this.data.poll_books, 'pollBooks');\n\t\t}\n\n}\n\n\n","\n<div *ngIf=\"data.innerText\" class=\"dialogue_background\">\n\t<div class=\"gradient\">\n\t\t<h2 mat-dialog-title>About <strong>{{data.constituency}}</strong> in the years <strong>{{data.yearRange}}</strong> from the History of Parliament website</h2>\n\t\t<div *ngIf=\"data.innerText\" [innerHTML]=\"data.innerText\"></div>\n\n\t</div>\n\t<p>You can find out more about {{data.constituency}} from the History of Parliament website, <a target=\"_blank\"  href=\"{{data.url}}\">here</a></p>\n\t<mat-dialog-actions>\n\t\t<button mat-button mat-dialog-close>Close</button>\n\t\t<button mat-button mat-dialog-close (click)=\"data.fetch=false\">Close and stop showing me these</button>\n\t</mat-dialog-actions>\n</div>\n<div id=\"my_poll_books\" *ngIf=\"data\">\n\n\t<div *ngIf=\"data.num_results\">\n\t\t<h2 mat-dialog-title>Poll Books</h2>\n\t\t<span *ngIf=\"data.num_results==1\"> There is {{data.num_results}} poll book available:<br></span>\n\t\t<span *ngIf=\"data.num_results>1\"> There are {{data.num_results}} poll books available:<br></span>\n\t\t-------------------------\n\t\t<div *ngFor=\"let pollBook of data.poll_books\">\n\t\t\t<strong class=\"poll_book_strong\">Print or Manuscript? </strong> {{ pollBook.PrintMS }}<br>\n\t\t\t<strong class=\"poll_book_strong\">Citation: </strong> <span style=\"font-style: italic;\">{{ pollBook.Citation }}</span><br>\n\t\t\t<strong class=\"poll_book_strong\">Holdings: </strong>{{ pollBook.Holdings }}<br>\n\t\t\t<strong class=\"poll_book_strong\" >Source: </strong>{{ pollBook.Source }}<br>\n\t\t\t<strong class=\"poll_book_strong\">Election Code: </strong>{{ pollBook.ElectionCode }}<br>\n\t\t\t<strong class=\"poll_book_strong\">Notes: </strong>{{ pollBook.Notes }}<br><br>-------------------------\n\t\t</div>\n\n\t\t<button mat-icon-button aria-label=\"button flavo\" (click)=\"downloadPollBooks()\">\n\t\t\t<mat-icon>cloud_download</mat-icon>\n\t\t</button>\n\t<div>\n\n\t\n\t\t\t\n\n</div>\n\n\n<mat-dialog-actions>\n\t<button mat-button mat-dialog-close>Close</button>\n\n\n</mat-dialog-actions>","import { Component, OnInit ,Inject} from '@angular/core';\nimport { MatFormFieldControl } from '@angular/material/form-field';\nimport { FormControl } from '@angular/forms';\nimport { MatAutocomplete } from \"@angular/material/autocomplete\";\nimport { MatDialogRef } from \"@angular/material/dialog\";\nimport {Observable} from 'rxjs';\nimport {map, startWith} from 'rxjs/operators';\nimport {MAT_DIALOG_DATA} from '@angular/material/dialog';\n// import { EPERM } from 'constants';\nimport { DatasourceService } from '../datasource.service';\n\n@Component({\n\tselector: 'app-dialogue',\n\ttemplateUrl: './dialogue.component.html',\n\tstyleUrls: ['./dialogue.component.scss']\n})\n\nexport class DialogueComponent implements OnInit {\n//\tconstructor(private downloadPollBooksService: DownloadPollBooksService, @Inject(MAT_DIALOG_DATA) public data: any) { }\n\n\tconstructor(private datasourceService: DatasourceService, private dialogRef: MatDialogRef<DialogueComponent>, @Inject(MAT_DIALOG_DATA) public data: any) { }\n\tfilteredValues = {\n\t\tMonth: '', Constituency: '',Year: '', CountyBoroughUniv: '', Contested: '',ByElectionGeneral:'',PollBookCode:''\n\n\t};\n\n\tconstituencyList : string []= [];\n\tconstituencyOptions : string []= [\"York\",\"Leeds\",\"Devon\"];\n\tfilteredConstituencyOptions: Observable<string[]>;\n\tmonthList : string []= [];\n\tyearList : string []= [];\n\tconstituencyFilter = new FormControl();\n\tmonthFilter = new FormControl();\n\tyearFilter = new FormControl();\n\tyearFromFilter = new FormControl({value: '', disabled: true});\n\tyearToFilter = new FormControl({value: '', disabled: true});\n\tcountyFilter = new FormControl();\n\tcontestedFilter = new FormControl();\n\tbyElectionGeneralFilter = new FormControl();\n\tpollBookCodeFilter = new FormControl();\n\tyearChooser: String = \"single\";\n\tready:boolean = false;\n\tngOnInit() {\n\t\tthis.datasourceService.ready.subscribe(value => {this.gotData(value)});\n   \n\t\n\t}\n\tgotData(value){\n\t\tif(value){\n\t\t\tthis.ready  =true;\n\t\tvar uniqueElections = this.datasourceService.returnUniqueElections();\n\t\tconsole.log(\"uniqueElections\",uniqueElections);\n\t\tthis.constituencyOptions = this.getConstituencyNames(uniqueElections).sort((a, b) => a > b ? 1 : a === b ? 0 : -1);\n\t\t\n\t\tthis.filteredConstituencyOptions = this.constituencyFilter.valueChanges\n\t\t.pipe(\n\t\t  startWith(''),\n\t\t  map(value => this._filter(value))\n\t\t);\n\n\t\tthis.countyFilter.valueChanges.subscribe((countyFilterValue) => {\n\t\t\tthis.filteredConstituencyOptions = this.constituencyFilter.valueChanges\n\t\t.pipe(\n\t\t  startWith(''),\n\t\t  map(value => this._filter(value))\n\t\t);\n\t\t\t\n\t\t\tthis.constituencyOptions = this.getFilteredConstituencyNames(this.datasourceService.returnUniqueElections(),countyFilterValue.substring(0,1)).sort((a, b) => a > b ? 1 : a === b ? 0 : -1);\n\t\t\t\n\n\t\t});\n\t}\n\t}\n\tconsituencyFieldClicked(){\n\t\t// console.log(\"clicked con\");\n\t\t// this.constituencyOptions = this.getFilteredConstituencyNames(this.data, this.countyFilter.value.substring(0,1)).sort((a, b) => a > b ? 1 : a === b ? 0 : -1);\n\n\t}\n\t// sortBy() {\n\t// \treturn this.constituencyOptions.sort((a, b) => a > b ? 1 : a === b ? 0 : -1);\n\t//   }\n\tgetConstituencyNames(elections){\n\t\tvar names= [];\n\t\t\n\t\telections.forEach(element => {\n\t\t\t\n\t\t\tnames.push(element.constituency);\n\t\t});\n\t\treturn names;\n\t}\n\tgetFilteredConstituencyNames(elections, type){\n\t\tvar names= [];\n\t\t\n\t\telections.forEach(element => {\n\t\t\tif(element.countyboroughuniv==type)\tnames.push(element.constituency);\n\t\t});\n\t\treturn names;\n\t}\n\tarrToCommaSeparatedString(list, value){\n\t\tvar listString = \"\";\n\t\tif(value!=null){\n\t\t\tif(value.length>0){\n\t\t\t\tlistString = value;\n\t\t\t}\n\t\t\telse{\n\t\t\t\tfor (var i = 0; i < list.length; i++) {\n\t\t\t\t\tlistString+=list[i]+\",\";\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn listString.slice(0, -1);\n\n\t}\n\tprivate _filter(value: string): string[] {\n\t\tconst filterValue = value.toLowerCase();\n\t\n\t\treturn this.constituencyOptions.filter(option => option.toLowerCase().includes(filterValue));\n\t  }\n\tcloseWithRandomSearch(){\n\t\tvar obj = {\n\t\t\ttriggerRandomSearch: true,\n\t\t\tupdateSearch:false,\n\t\t\tconstituency:\"\",\n\t\t\tmonth:\"\"  ,\n\t\t\tyear:\"\",\n\t\t\tcountry:\"\",\n\t\t\tcontested:\"\",\n\t\t\tbyElectionGeneral:\"\",\n\t\t\tpollBookCode:\"\"\n\t\t}\n\t\tthis.dialogRef.close(obj);\n\n\t}\n\n\tsave() {\n\t\t\n\t\tvar yearVal = \"\";\n\n\t\tif(this.yearChooser==\"single\"){\n\t\t\tif(this.yearFilter.value!=null){\n\t\t\t\tif(this.yearFilter.value.length>=4){\n\t\t\t\t\tyearVal = this.yearFilter.value;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\telse if(this.yearChooser==\"list\"){\n\t\t\tif(this.yearList.length>0){\n\t\t\t\tyearVal = this.arrToCommaSeparatedString(this.yearList, this.yearFilter.value);\n\t\t\t}\n\t\t}\n\t\t// if(this.yearFilter.value!=null){\n\t\t// \tif(this.yearFilter.value.length>=4){\n\n\t\t// \t}\n\n\t\t// }\n\n\t\tif(this.yearFromFilter.value!=null && this.yearToFilter.value!=null){\n\t\t\tif(this.yearFromFilter.value.length==4 && this.yearToFilter.value.length==4){\n\t\t\t\tyearVal = this.yearFromFilter.value +\"-\"+this.yearToFilter.value;\n\t\t\t}\n\n\t\t}\n\n\n\t\tvar obj = {\n\t\t\tupdateSearch:true,\n\t\t\tconstituency:this.arrToCommaSeparatedString(this.constituencyList, this.constituencyFilter.value),\n\t\t\tmonth:this.arrToCommaSeparatedString(this.monthList, this.monthFilter.value)  ,\n\t\t\tyear:yearVal,\n\t\t\tcounty:this.countyFilter.value,\n\t\t\tcontested:this.contestedFilter.value,\n\t\t\tbyElectionGeneral:this.byElectionGeneralFilter.value,\n\t\t\tpollBookCode:this.pollBookCodeFilter.value\n\t\t}\n\t\tthis.dialogRef.close(obj);\n\t}\n\n\tclose() {\n\t\tconsole.log(\"closed\");\n\t\tvar obj = {\n\t\t\tupdateSearch:false,\n\t\t\tconstituency:\"\",\n\t\t\tmonth:\"\"  ,\n\t\t\tyear:\"\",\n\t\t\tcountry:\"\",\n\t\t\tcontested:\"\",\n\t\t\tbyElectionGeneral:\"\",\n\t\t\tpollBookCode:\"\"\n\t\t}\n\t\tthis.dialogRef.close(obj);\n\t}\n\tgetConstituencies(){\n\t\treturn this.constituencyList;\n    \t// if(this.constituencyFilter.value!=null){\n    \t// \treturn this.constituencyFilter.value.split(\",\");\n    \t// }\n\n    }\n    keyDownFunction(event) {\n    \tif (event.keyCode === 13) {\n    \t\tthis.constituencyList.push(this.constituencyFilter.value);\n    \t\tthis.constituencyFilter.setValue(\"\");\n    \t}\n    }\n\n    yearKeyDownFunction(event) {\n    \tif (event.keyCode === 13) {\n    \t\tif(this.yearChooser == \"list\"){\n    \t\t\tthis.yearList.push(this.yearFilter.value);\n    \t\t\tthis.yearFilter.setValue(\"\");\n    \t\t}\n    \t}\n    \t// else if(this.yearChooser == \"single\"){\n    \t// \tthis.yearList.push(this.yearFilter.value);\n    \t// }\n\n    }\n\n// yearKeyDownFromFunction(event) {\n// \tif (event.keyCode === 13) {\n// \t\tif(this.yearChooser == \"range\"){}\n// \t\t//\tthis.yearList.push(this.yearFromFilter.value);\n// \t\tthis.yearFilter.setValue(this.yearFromFilter.value);\n// \t}\n// }\n// yearKeyDownToFunction(event) {\n// \tif (event.keyCode === 13) {\n// \t\tif(this.yearChooser == \"range\"){}\n// \t\t//\tthis.yearList.push(this.yearFromFilter.value);\n// \t\tthis.yearFilter.setValue(this.yearFilter.value+\"-\"+this.yearToFilter.value);\n// \t}\n// }\n\n\nyearButtonChange(val){\n\tconsole.log(\"button\",val);\n\tthis.yearChooser = val;\n\tif(val==\"single\" || val==\"list\"){\n\t\tthis.yearToFilter.setValue(\"\");\n\t\tthis.yearFromFilter.setValue(\"\");\n\n\n\t\tthis.yearFilter.enable();\n\n\t\tthis.yearFromFilter.disable();\n\t\tthis.yearToFilter.disable();\n\t}\n\telse if(val==\"range\"){\n\t\tthis.yearFilter.setValue(\"\");\n\t\tthis.yearFilter.disable();\n\n\t\tthis.yearFromFilter.enable();\n\t\tthis.yearToFilter.enable();\n\t}\n\n}\nnumberOnly(event): boolean {\n\tconst charCode = (event.which) ? event.which : event.keyCode;\n\tif (charCode > 31 && (charCode < 48 || charCode > 57)) {\n\t\treturn false;\n\t}\n\treturn true;\n\n}\nmonthChange(event) {\n    \t// if (event.keyCode === 13) {\n    \t\tif(this.monthList.includes(this.monthFilter.value)){\n    \t\t\talert(\"You already have that month in your list!\");\n    \t\t\tthis.monthFilter.setValue(\"\");\n    \t\t}\n    \t\telse{\n    \t\t\tthis.monthList.push(this.monthFilter.value);\n    \t\t\tthis.monthFilter.setValue(\"\");\n    \t\t}\n    \t\t\n    \t// }\n    }\n    constituencyClick(constituency){\n    \tthis.constituencyList = this.constituencyList.filter(e => e !== constituency);\n    }\n    monthClick(month){\n    \tthis.monthList = this.monthList.filter(e => e !== month);\n    }\n    yearClick(year){\n    \tthis.yearList = this.yearList.filter(e => e !== year);\n    }\n}\n","<mat-dialog-content>\n    <div *ngIf=\"!ready\">\n        loading elections data...\n    </div>\n    <div *ngIf=\"ready\">\n        <div id=\"dialogue_form_info\">\n            Use this box to search the database of elections. You can add more than one filter at a time, for instance by entering a constituency and a year. You'll see the search results both in the table and on the map.\n\n            <br><br>If you're not sure what to look for, try a <span style=\"color:#673ab7 !important; cursor:pointer\" (click)=\"closeWithRandomSearch()\">random search </span> to explore the data.\n\n        </div>\n\n\n        <mat-form-field (keydown)=\"keyDownFunction($event)\" class=\"dialogue_form\">\n            <mat-label>Constituency</mat-label>\n            <input (click)=\"consituencyFieldClicked()\" type=\"text\" placeholder=\"....\" aria-label=\"Constituency\" matInput [formControl]=\"constituencyFilter\" [matAutocomplete]=\"auto\">\n            <mat-autocomplete #auto=\"matAutocomplete\">\n                <mat-option *ngFor=\"let option of filteredConstituencyOptions | async\" [value]=\"option\">\n                    {{option}}\n                </mat-option>\n            </mat-autocomplete>\n            <mat-hint align=\"end\">Press enter to add more than one</mat-hint>\n        </mat-form-field>\n\n        <mat-form-field class=\"dialogue_form\" appearance=\"fill\">\n            <mat-label>County/Borough/Univ</mat-label>\n            <mat-select [formControl]=\"countyFilter\" [value]=\"countyFilter.value\">\n                <mat-option value=\"\">Any</mat-option>\n                <mat-option value=\"C\">County</mat-option>\n                <mat-option value=\"B\">Borough</mat-option>\n                <mat-option value=\"U\">University</mat-option>\n            </mat-select>\n        </mat-form-field>\n\n\n        <span class=\"input_list\" style=\"margin:5px;background-color: lightGrey; border-radius: 3px; padding-left:5px;padding-right:5px; padding-top:3px;padding-bottom:3px\" *ngFor=\"let constituency of getConstituencies()\">{{constituency}} <span (click)=\"constituencyClick(constituency)\" style=\"color:white; cursor:pointer\">x</span></span><br>\n\n\n        <p style=\"font-family: Catamaran\">Use a single year, a list of years or a range:\n            <mat-button-toggle-group value=\"single\" (selectionChange)=\"yearButtonChange($event)\" name=\"fontStyle\" aria-label=\"Font Style\">\n                <mat-button-toggle (click)=\"yearButtonChange('single')\" value=\"single\">Single</mat-button-toggle>\n                <mat-button-toggle (click)=\"yearButtonChange('list')\" value=\"list\">List</mat-button-toggle>\n                <mat-button-toggle (click)=\"yearButtonChange('range')\" value=\"range\">Range</mat-button-toggle>\n\n            </mat-button-toggle-group>\n        </p>\n\n\n        <mat-form-field (keydown)=\"yearKeyDownFunction($event)\" class=\"dialogue_form\" appearance=\"fill\">\n            <mat-label>Year</mat-label>\n            <input (keypress)=\"numberOnly($event)\" maxlength=\"4\" matInput class=\"form-field\" [formControl]=\"yearFilter\" placeholder=\"....\">\n            <mat-hint [hidden]=\"yearChooser!='list'\" align=\"end\">Press enter to add more than one</mat-hint>\n\n        </mat-form-field>\n        <mat-form-field class=\"dialogue_form\" appearance=\"fill\">\n            <mat-label>Month</mat-label>\n            <mat-select (selectionChange)=\"monthChange($event)\" [formControl]=\"monthFilter\" [value]=\"monthFilter.value\">\n                <mat-option value=\"Jan\">January</mat-option>\n                <mat-option value=\"Feb\">February</mat-option>\n                <mat-option value=\"Mar\">March</mat-option>\n                <mat-option value=\"Apr\">April</mat-option>\n                <mat-option value=\"May\">May</mat-option>\n                <mat-option value=\"Jun\">June</mat-option>\n                <mat-option value=\"Jul\">July</mat-option>\n                <mat-option value=\"Aug\">August</mat-option>\n                <mat-option value=\"Sep\">September</mat-option>\n                <mat-option value=\"Oct\">October</mat-option>\n                <mat-option value=\"Nov\">November</mat-option>\n                <mat-option value=\"Dec\">December</mat-option>\n            </mat-select>\n\n\n            <mat-hint align=\"end\">You can add more than one</mat-hint>\n        </mat-form-field>\n\n        <span class=\"input_list\" style=\"margin:5px;background-color: lightGrey; border-radius: 3px; padding-left:5px;padding-right:5px; padding-top:3px;padding-bottom:3px\" *ngFor=\"let year of yearList\">{{year}} <span (click)=\"yearClick(year)\" style=\"color:white; cursor:pointer\">x</span></span>\n\n        <span class=\"input_list\" style=\"margin:5px;background-color: lightGrey; border-radius: 3px; padding-left:5px;padding-right:5px; padding-top:3px;padding-bottom:3px\" *ngFor=\"let month of monthList\">{{month}} <span (click)=\"monthClick(month)\" style=\"color:white; cursor:pointer\">x</span></span><br>\n\n\n        <mat-form-field class=\"dialogue_form\" appearance=\"fill\">\n            <mat-label>From Year</mat-label>\n            <input (keypress)=\"numberOnly($event)\" maxlength=\"4\" matInput class=\"form-field\" [formControl]=\"yearFromFilter\" placeholder=\"....\">\n\n        </mat-form-field>\n\n        <mat-form-field class=\"dialogue_form\" appearance=\"fill\">\n            <mat-label>To Year</mat-label>\n            <input (keypress)=\"numberOnly($event)\" maxlength=\"4\" matInput class=\"form-field\" [formControl]=\"yearToFilter\" placeholder=\"....\">\n\n        </mat-form-field><br>\n\n\n\n        <mat-form-field class=\"dialogue_form\" appearance=\"fill\">\n            <mat-label>Contested?</mat-label>\n            <mat-select [formControl]=\"contestedFilter\" [value]=\"contestedFilter.value\">\n                <mat-option value=\"\">Any</mat-option>\n                <mat-option value=\"Y\">Yes</mat-option>\n                <mat-option value=\"N\">No</mat-option>\n            </mat-select>\n        </mat-form-field>\n\n        <mat-form-field class=\"dialogue_form\" appearance=\"fill\">\n            <mat-label>By/General Election </mat-label>\n            <mat-select [formControl]=\"byElectionGeneralFilter\" [value]=\"byElectionGeneralFilter.value\">\n                <mat-option value=\"\">Any</mat-option>\n                <mat-option value=\"B\">By Election</mat-option>\n                <mat-option value=\"G\">General Election</mat-option>\n            </mat-select>\n\n        </mat-form-field>\n\n        <mat-form-field class=\"dialogue_form\" appearance=\"fill\">\n            <mat-label>Has Poll Books? </mat-label>\n            <mat-select [formControl]=\"pollBookCodeFilter\" [value]=\"pollBookCodeFilter.value\">\n                <mat-option value=\"\">Any</mat-option>\n                <mat-option value=\"Y\">Yes</mat-option>\n                <mat-option value=\"N\">No</mat-option>\n            </mat-select>\n        </mat-form-field>\n    </div>\n</mat-dialog-content>\n<mat-dialog-actions>\n    <button matDialogClose style=\"margin-right: 1%;\" class=\"mat-raised-button\" (click)=\"close()\">Dismiss</button>\n    <button matDialogClose class=\"mat-raised-button mat-primary\" (click)=\"save()\">Search the database</button>\n</mat-dialog-actions>","import { EventEmitter, Injectable, Output, Input, OnChanges, OnInit, ApplicationRef } from '@angular/core';\nimport { DoCheck, KeyValueDiffers, KeyValueChangeRecord } from '@angular/core';\n\nimport { MatPaginator } from '@angular/material/paginator';\nimport { MatTableDataSource } from '@angular/material/table';\nimport { MatFormFieldControl } from '@angular/material/form-field';\nimport { FormControl } from '@angular/forms';\nimport * as cloneDeep from 'lodash/cloneDeep';\nimport { FilterObj, Elections, Election , PollBook, PollBookResponse, HOPData} from  './viz/viz.component';\nimport { HttpParams, HttpClient } from '@angular/common/http';\nimport { GetElectionsService } from './get-elections.service';\nimport { BehaviorSubject, Observable, of, Subscription } from 'rxjs';\nimport { switchMap ,delay, timeout, map} from 'rxjs/operators';\nimport express, {Request, Response} from 'express';\n\n@Injectable({\n  providedIn: 'root'\n})\n\nexport class DatasourceService implements OnChanges {\n\tprivate _differ: any;\n  constructor(private _differs: KeyValueDiffers, private http: HttpClient, private getElectionsService: GetElectionsService, private appRef: ApplicationRef) { \n\t this._differ = _differs.find({}).create();\n  }\n  private dataChanged: BehaviorSubject<boolean> = new BehaviorSubject(false);\n  \n  \tfilteredValues = {\n\t\telection_month: '', constituency: '', election_year: '', countyboroughuniv: '', contested: '', by_election_general: '', by_election_cause: '' ,franchise_type: '',pollbook_id: ''\n\n\t};\n\tuniqueElections: Election []=[];\n\telectionsPerYear: any[] = [];\n\n\tdataReady: Observable<any>;\n\t\n\tdataReadySubscription: Subscription;\n\tpollBooksMeta: PollBookResponse;\n\telectionsMeta: Elections;\n\t\tpollBooks: PollBookResponse;\n\n\tconstituencyFilter = new FormControl();\n\tmonthFilter = new FormControl();\n\tyearFilter = new FormControl();\n\tcountyFilter = new FormControl();\n\tcontestedFilter = new FormControl();\n\tbyElectionGeneralFilter = new FormControl();\n\tbyElectionCauseFilter = new FormControl();\n\tfranchiseFilter = new FormControl();\n\tpollBookCodeFilter = new FormControl();\n\tglobalFilter = '';\n\t@Input() public dataSource = new MatTableDataSource<Election>();\n\t\n\tpublic ready= new BehaviorSubject(false);\n\tpublic dataUpdate = new BehaviorSubject(false);\n\tngOnInit() {\n\n// \t}\n//   init(){\n\t\n  }\n  ngDoCheck() {\n\tvar datObj = {};\n\tif (this.dataSource.filter.length > 0) {\n\n\t\tdatObj = JSON.parse(this.dataSource.filter);\n\t}\n\tconst change = this._differ.diff(datObj);\n\t\n\tif (change) {\n\t\tconsole.log(\"data change.///////////////////////////////////////////\");\n\t}\n}\n  ngOnChanges(changes) {\n\t\n\t\n}\n\n  onDataSubscriptionChange(){\n\t//   console.log(\"getting filtered consitituenceies in datasource\",this.getFilteredConstituencies());\n\t// \t;\n  }\n//   onDataSubscriptionChange(): Observable<any> {\n// \treturn of({id:1,data:\"hello word\"});\n//   }\n  customFilterPredicate() {\n\tthis.pollBooks = null;\n\tconst myFilterPredicate = (data: Election, filter: string): boolean => {\n\t\tvar globalMatch = !this.globalFilter;\n\t\tif (this.globalFilter) {\n\t\t\t\n\t\t\tglobalMatch = data.election_month.toString().trim().toLowerCase().indexOf(this.globalFilter.toLowerCase()) !== -1\n\t\t\t|| data.constituency.toString().trim().toLowerCase().indexOf(this.globalFilter.toLowerCase()) !== -1\n\t\t\t|| data.countyboroughuniv.toString().trim().toLowerCase().indexOf(this.globalFilter.toLowerCase()) !== -1\n\t\t\t|| data.franchise_type.toString().trim().toLowerCase().indexOf(this.globalFilter.toLowerCase()) !== -1\n\t\t\t|| data.by_election_general.toString().trim().toLowerCase().indexOf(this.globalFilter.toLowerCase()) !== -1;\n\t\t}else{\n\t\t}\n\n\t\tif (!globalMatch) {\n\t\t\treturn;\n\t\t}\n\n\t\tlet searchString = JSON.parse(filter);\n\t\treturn this.hasConstituencies(data, searchString)\n\t\t&& this.hasMonths(data, searchString)\n\t\t&& this.hasYears(data, searchString)\n\t\n\t\t&& data.countyboroughuniv.toString().trim().toLowerCase().indexOf(searchString.countyboroughuniv.toLowerCase()) !== -1\n\t\t&& data.contested.toString().trim().toLowerCase().indexOf(searchString.contested.toLowerCase()) !== -1\n\t\t&& data.by_election_general.toString().trim().toLowerCase().indexOf(searchString.by_election_general.toLowerCase()) !== -1\n\t\t&& data.by_election_cause.toString().trim().toLowerCase().indexOf(searchString.by_election_cause.toLowerCase()) !== -1\n\t\t&& data.contested.toString().trim().toLowerCase().indexOf(searchString.contested.toLowerCase()) !== -1\n\t\t&& data.franchise_type.toString().trim().toLowerCase().indexOf(searchString.franchise_type.toLowerCase()) !== -1\n\t\t&& this.getHasPollBooksFilter(data.pollbook_id.toString().trim().toLowerCase(), searchString.pollbook_id.toLowerCase()) !== -1\n\n\t\t;\n\n\t}\n\n\treturn myFilterPredicate;\n}\ngetRandomConstituenciesString(numRandomConsituencies) {\n\tvar filteredConstituencies = [];\n\n\n\tfor (var i = 0; i < this.dataSource.data.length; i++) {\n\t\tif (!filteredConstituencies.includes(this.dataSource.data[i].constituency)) {\n\t\t\tfilteredConstituencies.push(this.dataSource.data[i].constituency);\n\t\t}\n\t}\n\tvar indices = [];\n\tvar randomConsituencies = \"\";\n\n\tvar isFirst = true;\n\tfor (var i = 0; i < numRandomConsituencies; i++) {\n\t\tvar randomIndex = Math.floor(Math.random() * filteredConstituencies.length - 1);\n\t\t// if(!in_array())\n\n\t\tif (!indices.includes(randomIndex)) {\n\t\t\tindices.push(randomIndex);\n\t\t\tif (isFirst) {\n\t\t\t\trandomConsituencies = filteredConstituencies[randomIndex];\n\t\t\t\tisFirst = false;\n\t\t\t}\n\t\t\telse {\n\t\t\t\trandomConsituencies += \",\" + filteredConstituencies[randomIndex];\n\t\t\t}\n\n\t\t}\n\t}\n\n\n\n\treturn randomConsituencies;\n\n}\ngenerateRandomSearch() {\n\tvar spread = Math.floor(Math.random() * 8) + 2;\n\tvar fullRange = 1832 - (1695 + spread);\n\tvar start = Math.floor(Math.random() * fullRange) + 1696;\n\tvar minYear = start;\n\tvar maxYear = spread + start;\n\t// var y = 1777;\n\t//TODO add some other filters here like by election cause\n\tthis.yearFilter.setValue(minYear.toString() + \"-\" + maxYear.toString());\n\tvar rands = this.getRandomConstituenciesString(20);\n\tthis.constituencyFilter.setValue(rands);\n\tthis.dataSource.filter = JSON.stringify(this.filteredValues);\n}\n\nhasConstituencies(data, searchString) {\n\t\n\tif (searchString.constituency.includes(\",\")) {\n\n\t\tvar constituencyList = searchString.constituency.split(\",\");\n\t\tfor (var i = 0; i < constituencyList.length; i++) {\n\t\t\tif (constituencyList[i].trim().toLowerCase() === data.constituency.toString().trim().toLowerCase()) {\n\t\t\t\treturn 1;\n\t\t\t}\n\t\t}\n\t\treturn 0;\n\n\n\t}\n\telse {\n\t\t// console.log(\"data, searchString\",data.constituency.toString(), searchString.constituency,data.constituency.toString().trim().toLowerCase().indexOf(searchString.constituency.toLowerCase()) !== -1);\n\t\treturn data.constituency.toString().trim().toLowerCase().indexOf(searchString.constituency.toLowerCase()) !== -1;\n\t}\n\treturn 0;\n}\nhasMonths(data, searchString) {\n\tif (searchString.election_month.includes(\",\")) {\n\n\t\tvar monthList = searchString.election_month.split(\",\");\n\t\tfor (var i = 0; i < monthList.length; i++) {\n\t\t\tif (monthList[i].trim() === data.election_month.toString().trim()) {\n\t\t\t\treturn 1;\n\t\t\t}\n\t\t}\n\t\treturn 0;\n\n\n\t}\n\telse {\n\t\treturn data.election_month.toString().trim().indexOf(searchString.election_month) !== -1;\n\t}\n\treturn 0;\n}\ngetFilteredConstituencies() {\n\t\n\tvar filteredConstituencies = this.dataSource.filteredData.map(item => item.constituency).filter((value, index, self) => self.indexOf(value) === index);\n\t//  console.log(\"filteredConstituencies\",filteredConstituencies);\n\treturn filteredConstituencies;\n}\ngetElectionsPerYear() {\n\tthis.electionsPerYear.forEach(element => {\n\t\telement.numElections = 0;\n\t\telement.numContested = 0;\n\t});\n\n\n\tfor (var i = 0; i < this.dataSource.filteredData.length; i++) {\n\t\tvar index = parseInt(this.dataSource.filteredData[i]['election_year']) - 1695;\n\t\tif (index >= 0 && index < this.electionsPerYear.length) {\n\n\n\t\t\tthis.electionsPerYear[index]['numElections']++;\n\t\t\tif (this.dataSource.filteredData[i]['contested'] == 'Y') {\n\t\t\t\tthis.electionsPerYear[index]['numContested']++;\n\t\t\t}\n\t\t}\n\n\t}\n\treturn this.electionsPerYear;\n}\nhasYears(data, searchString) {\n\tif (searchString.election_year.includes(\",\")) {\n\n\t\tvar yearList = searchString.election_year.split(\",\");\n\t\tfor (var i = 0; i < yearList.length; i++) {\n\t\t\tif (yearList[i].trim() === data.election_year.toString().trim()) {\n\t\t\t\treturn 1;\n\t\t\t}\n\t\t}\n\t\treturn 0;\n\n\n\t}\n\telse if (searchString.election_year.includes(\"-\") && searchString.election_year.length==9) {\n\t\tvar yearRange = searchString.election_year.split(\"-\");\n\t\tif (yearRange.length == 2) {\n\t\t\tvar lowRange = parseInt(yearRange[0].trim());\n\t\t\tvar highRange = parseInt(yearRange[1].trim());\n\t\t\tvar thisYear = parseInt(data.election_year.toString().trim());\n\n\t\t\tif (thisYear >= lowRange && thisYear <= highRange) return 1;\n\t\t}\n\n\n\t}\n\telse if (searchString.election_year.length==4) {\n\t\treturn data.election_year.toString().trim().indexOf(searchString.election_year) !== -1;\n\t}\n\telse if (searchString.election_year.length>0 &&  searchString.election_year.length<4) {\n\t\treturn 0;\n\t}\n\telse if (searchString.election_year.length==0) {\n\t\treturn 1;\n\t}\n\treturn 0;\n}\n\nyearInRange(data, searchString, year) {\n\t//for some reson the search term isn't coming throuhg\n\tif (this.yearFilter.value.length == 0) return 0;\n\n\t//if this is a year range separated by a hyphen\n\tif (this.yearFilter.value.indexOf(\"-\") != -1) {\n\t\tvar yearRange = this.yearFilter.value.split(\"-\");\n\t\tif (yearRange.length == 2) {\n\t\t\tif (yearRange[0].trim().length == 4 && yearRange[1].trim().length == 4) {\n\t\t\t\tif (year >= parseInt(yearRange[0].trim()) && year <= parseInt(yearRange[1].trim())) return 0;\n\t\t\t} else if (yearRange[0].trim().length == 4 && yearRange[1].trim().length != 4) {\n\t\t\t\tif (year == parseInt(yearRange[0].trim())) return 0;\n\t\t\t}\n\n\n\t\t}\n\t}\n\t//otherwise assume it's a list\n\telse {\n\n\t\tif (this.yearFilter.value.includes(\",\")) {\n\n\t\t\tvar yearList = this.yearFilter.value.split(\",\");\n\t\t\tfor (var i = 0; i < yearList.length; i++) {\n\t\t\t\tif (yearList[i].trim() === year.trim()) {\n\t\t\t\t\treturn 1;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn 0;\n\n\n\t\t}\n\t\telse {\n\t\t\treturn this.yearFilter.value.toString().trim().indexOf(year) !== -1;\n\t\t}\n\t}\n\n\treturn -1;\n\n}\ngetUniqueElections(){\n \n    this.uniqueElections = this.dataSource.data.filter((value, index, self) => self.map(x => x.constituency).indexOf(value.constituency) == index);\n    }\n\treturnUniqueElections(){\n \n\t\tthis.uniqueElections = this.dataSource.data.filter((value, index, self) => self.map(x => x.constituency).indexOf(value.constituency) == index);\n\t\treturn this.uniqueElections\n\t\t}\ngetHasPollBooksFilter(pollbook_id, searchTerm) {\n\tif (searchTerm == 'y') {\n\t\tif (pollbook_id.length > 1) {\n\t\t\treturn 0;\n\t\t} else {\n\t\t\treturn -1;\n\t\t}\n\n\n\t}\n\telse if (searchTerm == 'n') {\n\t\tif (pollbook_id.length == 0) {\n\t\t\treturn 0;\n\t\t} else {\n\t\t\treturn -1;\n\t\t}\n\t}\n\treturn 0;\n\n}\n  getData(){\n\n\n\t\tthis.getElectionsService.getData().subscribe(\n\t\t\t(data: Elections) => this.electionsMeta = {\n\t\t\t\tnum_results: data['num_results'],\n\t\t\t\tearliest_year: data['earliest_year'],\n\t\t\t\tlatest_year: data['latest_year'],\n\t\t\t\telections: data['elections']\n\t\t\t}, err => console.error(err), () => this.gotData()  );\n\n  }\n//   obsTest(service: any, object: any, data: any): Observable<any> {\n// \treturn service.obsTest().pipe(\n// \t\tmap((result)=>{\n// \t\t\t//data.splice(index,1);\n// \t\t\treturn data;\n// \t\t}))\n//   }\n  \n  gotData(){\n\tthis.dataSource = new MatTableDataSource<Election>(this.electionsMeta.elections);\n\t  \tthis.dataSource.connect().subscribe((value) => {\n\t\t\t  this.dataUpdate.next(true);\n\t\t  });\n\t\t  this.getUniqueElections();\n\t\t  //this.dataSource.filteredData.\n\t\t\tthis.constituencyFilter.valueChanges.pipe(\n\n\t\t\t);\n\n\t\t  this.constituencyFilter.valueChanges.subscribe((constituencyFilterValue) => {\n\t\t\t\tthis.filteredValues['constituency'] = constituencyFilterValue;\n\t\t\t\tthis.dataSource.filter = JSON.stringify(this.filteredValues);\n\t\t\t\tthis.onDataSubscriptionChange();\n\t\t\t\t\n\t\t\t\t\n\t\n\t\t\t});\n\t\n\t\t\tthis.monthFilter.valueChanges.subscribe((monthFilterValue) => {\n\t\t\t\tthis.filteredValues['election_month'] = monthFilterValue;\n\t\t\t\tthis.dataSource.filter = JSON.stringify(this.filteredValues);\n\t\t\t\tthis.onDataSubscriptionChange();\n\t\n\t\t\t});\n\t\n\t\t\tthis.yearFilter.valueChanges.subscribe((yearFilterValue) => {\n\t\n\t\t\t\tvar yearRange = yearFilterValue.split(\",\");\n\t\t\n\t\n\t\t\t\tthis.filteredValues['election_year'] = yearFilterValue;\n\t\t\t\tthis.dataSource.filter = JSON.stringify(this.filteredValues);\n\t\t\t\tthis.onDataSubscriptionChange();\n\t\t\t\n\t\t\t});\n\t\n\t\n\t\t\tthis.countyFilter.valueChanges.subscribe((countyFilterValue) => {\n\t\t\t\tthis.filteredValues['countyboroughuniv'] = countyFilterValue;\n\t\t\t\tthis.dataSource.filter = JSON.stringify(this.filteredValues);\n\t\t\t\tthis.onDataSubscriptionChange();\n\t\t\t});\n\t\n\t\t\tthis.contestedFilter.valueChanges.subscribe((contestedFilterValue) => {\n\t\t\t\tthis.filteredValues['contested'] = contestedFilterValue;\n\t\t\t\tthis.dataSource.filter = JSON.stringify(this.filteredValues);\n\t\t\t\tthis.onDataSubscriptionChange();\n\t\t\t});\n\t\n\t\t\tthis.byElectionGeneralFilter.valueChanges.subscribe((byElectionGeneralFilterValue) => {\n\t\t\t\tthis.filteredValues['by_election_general'] = byElectionGeneralFilterValue;\n\t\t\t\tthis.dataSource.filter = JSON.stringify(this.filteredValues);\n\t\t\t\tthis.onDataSubscriptionChange();\n\t\n\t\t\t});\n\t\t\t\n\t\t\tthis.byElectionCauseFilter.valueChanges.subscribe((byElectionCauseFilterValue) => {\n\t\t\t\tthis.filteredValues['by_election_cause'] = byElectionCauseFilterValue;\n\t\t\t\tthis.dataSource.filter = JSON.stringify(this.filteredValues);\n\t\t\t\tthis.onDataSubscriptionChange();\n\t\n\t\t\t});\n\t\t\tthis.franchiseFilter.valueChanges.subscribe((franchiseFilterValue) => {\n\t\t\t\tthis.filteredValues['franchise_type'] = franchiseFilterValue;\n\t\t\t\tthis.dataSource.filter = JSON.stringify(this.filteredValues);\n\t\t\t\tthis.onDataSubscriptionChange();\n\t\n\t\t\t});\n\t\t\tthis.pollBookCodeFilter.valueChanges.subscribe((pollBookCodeFilterValue) => {\t\t\t\n\t\t\t\tthis.filteredValues['pollbook_id'] = pollBookCodeFilterValue;\n\t\t\t\tthis.dataSource.filter = JSON.stringify(this.filteredValues);\n\t\t\t\tthis.onDataSubscriptionChange();\n\t\n\t\t\t});\n\t\n\t\t\tthis.dataSource.filterPredicate = this.customFilterPredicate();\n\t\t//  this.generateRandomSearch();\n\t\tthis.ready.next(true);\n\t\t\n\t\t// setTimeout(() => {\n\t\t// \tthis.generateRandomSearch();\n\t\t// }, 5000);\n\n  }\n  setSearchFromDialogue(data) {\n\n\t\tif (data != undefined) {\n\t\t\t//theres a make a random search button in the modal search dialogu\n\t\t\tif (data.triggerRandomSearch) {\n\t\t\t\tthis.generateRandomSearch()\n\t\t\t}\n\t\t\t//otherwise lets actuallyupdate all the filters\n\t\t\tif (data.updateSearch) {\n\t\t\t\tif (data.constituency != null) {\n\t\t\t\t\tthis.constituencyFilter.setValue(data.constituency);\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tthis.constituencyFilter.setValue(\"\");\n\t\t\t\t}\n\n\t\t\t\tif (data.year != null) {\n\t\t\t\t\tthis.yearFilter.setValue(data.year);\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tthis.yearFilter.setValue(\"\");\n\t\t\t\t}\n\n\t\t\t\tif (data.month != null) {\n\t\t\t\t\tthis.monthFilter.setValue(data.month);\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tthis.monthFilter.setValue(\"\");\n\t\t\t\t}\n\n\n\t\t\t\tif (data.county != null) {\n\t\t\t\t\tthis.countyFilter.setValue(data.county);\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tthis.countyFilter.setValue(\"\");\n\t\t\t\t}\n\n\n\t\t\t\tif (data.contested != null) {\n\t\t\t\t\tthis.contestedFilter.setValue(data.contested);\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tthis.contestedFilter.setValue(\"\");\n\t\t\t\t}\n\n\t\t\t\tif (data.byElectionGeneral != null) {\n\t\t\t\t\tthis.byElectionGeneralFilter.setValue(data.byElectionGeneral);\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tthis.byElectionGeneralFilter.setValue(\"\");\n\t\t\t\t}\n\n\t\t\t\tif (data.pollBookCode != null) {\n\t\t\t\t\tthis.pollBookCodeFilter.setValue(data.pollBookCode);\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tthis.pollBookCodeFilter.setValue(\"\");\n\t\t\t\t}\n\n\n\n\n\t\t\t\tthis.dataSource.filter = JSON.stringify(this.filteredValues);\n\t\t\t}\n\t\t}\n\t}\n\n}","import { Component, OnInit } from '@angular/core';\n\n@Component({\n  selector: 'app-outputs',\n  templateUrl: './outputs.component.html',\n  styleUrls: ['./outputs.component.scss']\n})\nexport class OutputsComponent implements OnInit {\n\n  constructor() { }\n\n  ngOnInit() {\n  }\n\n}\n","<p>outputs works!</p>\n","import { Injectable } from '@angular/core';\nimport { HttpClient } from '@angular/common/http';\n@Injectable({\n\tprovidedIn: 'root'\n})\nexport class GetElectionsService {\n\n\tconstructor(private http: HttpClient) { }\n\t\n\tdataUrl='https://ecppec.ncl.ac.uk/php/getElections.php';\n\n\tgetData() {\n\t\treturn this.http.get(this.dataUrl);\n\t}\n}\n","import { Component ,OnInit, SimpleChanges, OnChanges, ViewChild} from '@angular/core';\n\n// import { GeojsonServiceService } from './geojson-service.service';\n// // import {MatTableDataSource} from '@angular/material/table';\n\n// // import {MatPaginator} from '@angular/material/paginator';\n// import {DataSource} from '@angular/cdk/collections';\n\n// // import { GetElectionsService } from './get-locations.service';\n\n// import { GetPollBooksService } from './get-poll-books.service';\n// import { HOPService } from './hop.service';\n\nimport {TooltipPosition} from '@angular/material/tooltip';\n\n// import { DownloadService } from './download.service';\n// import { DownloadPollBooksService } from './download-poll-books.service';\n\n\n// import { GetLatLonService } from './get-lat-lon.service';\n\nimport { HttpParams, HttpClient } from '@angular/common/http';\n// import 'rxjs/add/operator/map';\n\n// import {MatPaginator} from '@angular/material';\n// import {MatTableDataSource} from '@angular/material/table';\n\n// import { Location } from './location';\n\nimport { MatFormFieldControl } from '@angular/material/form-field';\nimport { FormControl } from '@angular/forms';\n\nimport {MatDialog} from '@angular/material/dialog';\nimport { DialogueComponent } from './dialogue/dialogue.component';\n\n// \n// @Component({\n//   selector: 'dialog-elements-example-dialog',\n//   templateUrl: './dialog-elements-example-dialog.html',\n// })\n// export class DialogElementsExampleDialog {}\n\n@Component({\n  selector: 'my-app',\n  templateUrl: './app.component.html',\n  styleUrls: [ './app.component.scss' ],\n  host: {\n    '(window:resize)': 'onResize($event)'\n  }\n})\n\n\n\n\nexport class AppComponent implements OnInit, OnChanges {\n  \n  constructor( public dialog: MatDialog) { }\n\n  // \n    //zoom: number = 7;\n    navSwitch: string = \"switch_right\";\n    isShowing: boolean;\n    myInnerHeight: number;\n    sideBarWidth: number;\n    sideBarContentHeight: number;\n  // @ViewChild(MatPaginator, {static: true}) paginator: MatPaginator;\n\n  openDialog() {\n    \n  }\n  ngOnChanges(changes: SimpleChanges) {\n    // changes.prop contains the old and the new value...\n  }\n  ngOnInit(){\n    // this.dialog.open(DialogueComponent);\n    this.myInnerHeight = window.innerHeight;\n    this.sideBarContentHeight = this.myInnerHeight *0.5;\n    this.sideBarWidth= window.innerWidth *0.15;\n    console.log(\"innerHeight\",this.myInnerHeight);\n\n    setTimeout(()=>{\n      \n      this.isShowing =true;\n\n\n\n\n    },1000);\n\n  }\n  toggleSidenav() {\n   this.isShowing = !this.isShowing;\n   if(this.isShowing){\n    this.navSwitch = \"switch_right\";\n  }\n  else{\n    this.navSwitch = \"switch_left\";\n  }\n}\nonResize(event) {\n  // event.target.innerWidth;\n  this.myInnerHeight = event.target.innerHeight;\n  console.log(this.myInnerHeight);\n}\n}\n\n","<header class=\"text-gray-400 bg-gray-900 body-font \">\n    <div class=\"container mx-auto flex flex-wrap p-5 flex-col md:flex-row items-center\">\n        <a class=\"flex title-font font-medium items-center text-white mb-4 md:mb-0\">\n            <svg id=\"Layer_1\" data-name=\"Layer 1\" class=\"w-10 h-10 text-white p-2 \" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 134 134\"><defs><style>.cls-1,.cls-2{fill:#f39200;stroke:#f39200;stroke-miterlimit:10;}.cls-2{stroke-width:4px;}</style></defs><path class=\"cls-1\" d=\"M38.7744,33.7456h1.6641l-1.0054,14.63H.501V46.7808h.9707q3.501,0,4.5239-.9361a4.2073,4.2073,0,0,0,1.3-2.3745,55.0134,55.0134,0,0,0,.2773-7.3325V13.0835a52.4546,52.4546,0,0,0-.2944-7.0723,3.3183,3.3183,0,0,0-1.3525-2.375Q4.8686,2.9609,1.4717,2.96V1.3657H35.0649l1.1094,11.7178H34.5449q-1.11-4.9226-2.7212-6.9854a6.8849,6.8849,0,0,0-3.831-2.6A33.6427,33.6427,0,0,0,20.8511,2.96H14.3335V22.6865h4.9922a13.5234,13.5234,0,0,0,4.8017-.5893A3.0871,3.0871,0,0,0,25.93,20.312a16.2349,16.2349,0,0,0,.4331-4.6631h1.6294v16.086H26.3633a13.7182,13.7182,0,0,0-.6587-5.252A3.18,3.18,0,0,0,23.7808,24.75a15.9667,15.9667,0,0,0-4.2818-.3989H14.3335V35.479q0,8.3555,1.0747,9.8281,1.0744,1.4744,5.79,1.4737h3.5014a16.6466,16.6466,0,0,0,6.1016-.9532A10.9228,10.9228,0,0,0,35.36,41.91,22.9061,22.9061,0,0,0,38.7744,33.7456Z\" transform=\"translate(-0.001 0.001)\"/><path class=\"cls-1\" d=\"M88.2637,30.73h1.4907V47.1968H88.2637A12.6335,12.6335,0,0,0,86.01,42.2393,20.2248,20.2248,0,0,1,70.167,49.2422q-10.1923,0-16.6582-6.4483T47.0435,25.7373a29.7026,29.7026,0,0,1,2.9814-13.1216,20.1447,20.1447,0,0,1,8.32-9.1352A23.6291,23.6291,0,0,1,70.063.499a20.8606,20.8606,0,0,1,9.5513,2.1665A19.1621,19.1621,0,0,1,86.01,7.4673,17.1659,17.1659,0,0,0,87.813,1.3657h1.5254l.416,17.8194H88.2637q-1.56-9.4989-6.3614-13.2085a17.2686,17.2686,0,0,0-10.8339-3.71A13.7622,13.7622,0,0,0,59.333,8.2646q-4.3506,5.9979-4.3506,17.1607,0,10.574,4.75,16.207a14.8481,14.8481,0,0,0,11.8218,5.6338,18.2586,18.2586,0,0,0,7.731-1.8374,13.4722,13.4722,0,0,0,6.2573-6.2231A23.3443,23.3443,0,0,0,88.2637,30.73Z\" transform=\"translate(-0.001 0.001)\"/><path class=\"cls-1\" d=\"M111.5444,26.2573v9.88a61.88,61.88,0,0,0,.26,7.2632,3.6609,3.6609,0,0,0,1.4038,2.5478q1.144.832,4.2988.8321h1.56v1.5947H97.5386V46.7808h1.248a8.136,8.136,0,0,0,4.1773-.7627,3.4767,3.4767,0,0,0,1.4736-2.375,53.0538,53.0538,0,0,0,.312-7.5054V13.0835a50.4172,50.4172,0,0,0-.312-7.2456,3.1035,3.1035,0,0,0-1.3867-2.2534q-1.0752-.624-4.6455-.6241h-.8667V1.3657l5.8935-.208Q110.5045.9153,114.4565.915a42.3264,42.3264,0,0,1,11.2154,1.1441,13.1644,13.1644,0,0,1,6.4487,4.0561,10.8572,10.8572,0,0,1,2.5137,7.35,13.2494,13.2494,0,0,1-1.7168,6.795,11.0226,11.0226,0,0,1-4.9234,4.4721q-3.2066,1.5256-11.2841,1.5254Zm0-1.7334h3.3628A21.6523,21.6523,0,0,0,121.46,23.71a7.815,7.815,0,0,0,4.16-3.4151,11.6631,11.6631,0,0,0,1.6641-6.4135q0-5.8244-2.86-8.5455T115.15,2.6138a35.1817,35.1817,0,0,0-3.6055.1386Z\" transform=\"translate(-0.001 0.001)\"/><path class=\"cls-1\" d=\"M14.5762,111.2573v9.88a61.8881,61.8881,0,0,0,.26,7.2632,3.6613,3.6613,0,0,0,1.4038,2.5478q1.1441.8321,4.2989.8321h1.56v1.5947H.57v-1.5947H1.8184a8.1358,8.1358,0,0,0,4.1772-.7627,3.4767,3.4767,0,0,0,1.4736-2.375,53.0538,53.0538,0,0,0,.312-7.5054V98.0835a50.4172,50.4172,0,0,0-.312-7.2456,3.1035,3.1035,0,0,0-1.3867-2.2534q-1.0752-.624-4.6455-.6241H.57V86.3657l5.8936-.208q7.0722-.2424,11.0244-.2427a42.3256,42.3256,0,0,1,11.2153,1.1441,13.16,13.16,0,0,1,6.4483,4.0561,10.85,10.85,0,0,1,2.5131,7.35,13.2481,13.2481,0,0,1-1.7163,6.795,11.0154,11.0154,0,0,1-4.9228,4.4721q-3.2065,1.5256-11.2842,1.5254Zm0-1.7334H17.939a21.6516,21.6516,0,0,0,6.5522-.8144,7.8152,7.8152,0,0,0,4.16-3.4151,11.664,11.664,0,0,0,1.664-6.4135q0-5.8243-2.86-8.5455t-9.274-2.7216a35.1794,35.1794,0,0,0-3.6054.1386Z\" transform=\"translate(-0.001 0.001)\"/><path class=\"cls-1\" d=\"M79.4927,118.7456h1.664l-1.0053,14.63H41.2192v-1.5947H42.19q3.501,0,4.524-.9361a4.2073,4.2073,0,0,0,1.3-2.3745,55.0319,55.0319,0,0,0,.2773-7.3325V98.0835a52.4546,52.4546,0,0,0-.2944-7.0723,3.3181,3.3181,0,0,0-1.3526-2.375Q45.587,87.9609,42.19,87.96V86.3657H75.7832l1.1094,11.7178H75.2632q-1.11-4.9226-2.7212-6.9854a6.8852,6.8852,0,0,0-3.8311-2.6,33.6421,33.6421,0,0,0-7.1416-.5372H55.0518v19.7261h4.9921a13.5244,13.5244,0,0,0,4.8018-.5893,3.0866,3.0866,0,0,0,1.8027-1.7852,16.2349,16.2349,0,0,0,.4331-4.6631h1.6294v16.086H67.0815a13.7208,13.7208,0,0,0-.6586-5.252A3.18,3.18,0,0,0,64.499,109.75a15.9658,15.9658,0,0,0-4.2817-.3989H55.0518V120.479q0,8.3555,1.0747,9.8281,1.0744,1.4744,5.7895,1.4737h3.5015a16.6464,16.6464,0,0,0,6.1015-.9532,10.9216,10.9216,0,0,0,4.5591-3.9179A22.9061,22.9061,0,0,0,79.4927,118.7456Z\" transform=\"translate(-0.001 0.001)\"/><path class=\"cls-1\" d=\"M128.9824,115.73h1.4907v16.4673h-1.4907a12.6335,12.6335,0,0,0-2.2534-4.9575,20.2246,20.2246,0,0,1-15.8433,7.0029q-10.1923,0-16.6582-6.4483t-6.4653-17.0566a29.7027,29.7027,0,0,1,2.9815-13.1216,20.1447,20.1447,0,0,1,8.32-9.1352,23.6284,23.6284,0,0,1,11.7177-2.9815,20.8606,20.8606,0,0,1,9.5513,2.1665,19.1621,19.1621,0,0,1,6.396,4.8018,17.1639,17.1639,0,0,0,1.8027-6.1016h1.5254l.416,17.8194h-1.4907q-1.56-9.4989-6.3613-13.2085a17.2688,17.2688,0,0,0-10.834-3.71,13.762,13.762,0,0,0-11.7353,5.9975q-4.3506,5.9979-4.3506,17.1607,0,10.5739,4.7495,16.207a14.848,14.848,0,0,0,11.8218,5.6338,18.2582,18.2582,0,0,0,7.7309-1.8374,13.4717,13.4717,0,0,0,6.2573-6.2231A23.34,23.34,0,0,0,128.9824,115.73Z\" transform=\"translate(-0.001 0.001)\"/><line class=\"cls-2\" x1=\"0.499\" y1=\"67.5671\" x2=\"134.6313\" y2=\"67.5671\"/></svg>\n            <!-- <svg xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" stroke=\"currentColor\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" class=\"w-10 h-10 text-white p-2 bg-yellow-500 rounded-full\" viewBox=\"0 0 24 24\"> -->\n            <!-- <path d=\"M12 2L2 7l10 5 10-5-10-5zM2 17l10 5 10-5M2 12l10 5 10-5\"></path>\n            </svg> -->\n            <span class=\"ml-3 text-xl lg:text-xl md:text-3xl\">Eighteenth-Century Political Participation and Electoral Culture</span>\n        </a>\n        <nav class=\"md:ml-auto md:mr-auto flex flex-wrap items-center text-base justify-center lg:text-xl md:text-3xl\">\n            <a routerLink=\"/map\" class=\"mr-5 hover:text-white\">Map</a>\n            <a routerLink=\"/about\" class=\"mr-5 hover:text-white\">About</a>\n            <a routerLink=\"/api\" class=\"mr-5 hover:text-white\">Data</a>\n            <a routerLink=\"/team\" class=\"mr-5 hover:text-white\">Team</a>\n        </nav>\n        <!-- <button class=\"inline-flex items-center bg-gray-800 border-0 py-1 px-3 focus:outline-none hover:bg-gray-700 rounded text-base mt-4 md:mt-0\">Button\n        <svg fill=\"none\" stroke=\"currentColor\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" class=\"w-4 h-4 ml-1\" viewBox=\"0 0 24 24\">\n          <path d=\"M5 12h14M12 5l7 7-7 7\"></path>\n        </svg>\n      </button> -->\n    </div>\n</header>\n<router-outlet style=\"position: relative;\"></router-outlet>\n\n<footer style=\"z-index: 4000; position: fixed; bottom: 0px;\">\n    <div class=\"flex items-center justify-between p-6 container mx-auto\">\n        <img style=\"width:200px;  margin-right: 2%;\" src=\"./assets/images/logos/newcastle.png\" alt=\"newcastle university logo\" />\n        <img style=\"width:200px;  margin-right: 2%;\" src=\"./assets/images/logos/liverpool.png\" alt=\"liverpool university logo\" />\n        <img style=\"width:200px;  margin-right: 2%;\" src=\"./assets/images/logos/ahrc.png\" alt=\"arts and humanities research council logo\" />\n    </div>\n</footer>\n\n<!-- </div> -->","import { Component, OnInit } from '@angular/core';\nimport { EChartsOption } from 'echarts';\nimport { DatasourceService } from '../datasource.service';\nimport { TableComponent} from '../table/table.component';\n\n@Component({\n  selector: 'app-contested-story',\n  templateUrl: './contested-story.component.html',\n  styleUrls: ['./contested-story.component.scss']\n})\nexport class ContestedStoryComponent implements OnInit {\n  // chartOptions: any = {};\n  // pieOptions: any = {};\n  normalise: boolean = true;\n\n  electionsPerYear: any[] = [];\n  theme:string = \"macarons\";\n  chartInstance: any;\n  seriesData: any[] = [] ;\n  allElectionsSeriesData: any[] = [] ;\n  years: number[] = [];\n  updateOptions: any;\n  updateElectionOptions: any;\n  updatePieOptions: any;\n  constructor(private datasourceService: DatasourceService) { }\n  chartOptions = {\n    visualMap: [{\n      show: false,\n      type: 'continuous',\n      seriesIndex: 0,\n      min: 0,\n      max: 1\n  }],\n    title: {\n      text: '% contested elections by year',\n      subtext: '',\n      x: 'center',\n      padding:1\n    },\n    xAxis: {\n      type: 'category',\n      data: this.years,\n    },\n    yAxis: {\n      type: 'value',\n    },\n    series: [\n      {\n        data: this.seriesData,\n        type: 'line',\n      },\n    ],\n  };\n  electionOptions = {\n    title: {\n      text: 'All elections by year',\n      subtext: '',\n      x: 'center'\n    },\n    xAxis: {\n      type: 'category',\n      data: this.years,\n    },\n    yAxis: {\n      type: 'value',\n    },\n    series: [\n      {\n        data: this.seriesData,\n        type: 'line',\n      },\n    ],\n  };\n  // chartOptions: EChartsOption = {\n  //   xAxis: {\n  //     type: 'category',\n  //     boundaryGap: false,\n  //     data: ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec']\n  //   },\n  //   yAxis: {\n  //     type: 'value'\n  //   },\n  //   series: [{\n  //     data: [820, 932, 901, 934, 1290, 1430, 1550, 1200, 1650.1450, 1680.1890],\n  //     type: 'line',\n  //     areaStyle: {}\n  //   }]\n  // }\n  pieOptions = {\n    title: {\n      text: 'Franchise type',\n      subtext: '',\n      x: 'center'\n    },\n    tooltip: {\n      trigger: 'item',\n      formatter: '{a} <br/>{b} : {c} ({d}%)'\n    },\n    legend: {\n      x: 'center',\n      y: 'bottom',\n      data: []\n    },\n    calculable: true,\n    series: [\n      {\n        name: 'area',\n        type: 'pie',\n        radius: [30, 110],\n        roseType: 'area',\n        data: [ ]\n      }\n    ]\n  };\n  ngOnInit(): void {\n    this.datasourceService.ready.subscribe(value => {this.gotData(value)});\n  }\n\nnumberMap (val, in_min, in_max, out_min, out_max) {\nreturn (val - in_min) * (out_max - out_min) / (in_max - in_min) + out_min;\n}\ngetContestedPerYear(years){\n  var cpy = [];\n  \n  this.years.forEach(element => {\n    cpy.push(0);\n  });\n  for(var i=0;i<this.datasourceService.dataSource.filteredData.length;i++){\n    var index = parseInt(this.datasourceService.dataSource.filteredData[i].election_year)-this.datasourceService.electionsMeta.earliest_year;\n    if(this.datasourceService.dataSource.filteredData[i].contested=='Y'){\n      cpy[index]++;\n    }\n    \n  }\n  return cpy;\n}\ngetStartEndYears(){\n  var startYear = this.datasourceService.electionsMeta.earliest_year;\n  var endYear = this.datasourceService.electionsMeta.latest_year ;\n  if(this.datasourceService.yearFilter.value!=null){\n    if(this.datasourceService.yearFilter.value.indexOf(\"-\")==-1) {\n      startYear = parseInt(this.datasourceService.yearFilter.value);\n      endYear = parseInt(this.datasourceService.yearFilter.value);\n    }\n    else{\n      var exploded = this.datasourceService.yearFilter.value.split(\"-\");\n      if (exploded.length == 2){\n        startYear = parseInt(exploded[0].trim());\n        endYear = parseInt(exploded[1].trim());\n      }\n    }\n  }\n  return { startYear: startYear, endYear: endYear}\n}\ngetNormalisedContestedPerYear(years){\n  \n  var startYear = this.datasourceService.electionsMeta.earliest_year;\n  var endYear = this.datasourceService.electionsMeta.latest_year ;\n  var startEndYears = this.getStartEndYears();\n  startYear = startEndYears.startYear;\n  endYear = startEndYears.endYear;\n \n\n  var cpy = [];\n  var epy = [];\n  this.years.forEach(element => {\n  cpy.push(0);\n  epy.push(0);\n\n  });\n  for(var i=0;i<this.datasourceService.dataSource.filteredData.length;i++){\n    var index = parseInt(this.datasourceService.dataSource.filteredData[i].election_year)-this.datasourceService.electionsMeta.earliest_year;\n   \n    if(this.datasourceService.dataSource.filteredData[i].contested=='Y'){\n      cpy[index]++;\n    }\n    epy[index]++;\n  }\n  \n  var nor = [];\n  var i=0;\n  cpy.forEach(element => {\n    nor.push( element / epy[i] );\n    i++;\n  });\n\n  var startIndex = startYear-this.datasourceService.electionsMeta.earliest_year;\n  var yearRange = endYear- startYear;\n  var endIndex = startIndex + yearRange\n  var sp = [];//nor.splice(startIndex, endIndex);\n\n  for(var i=startIndex;i<=endIndex ;i++){\n    sp.push(nor[i]);\n  }\n  // console.log(\"spliced\",\"length\",sp.length,\"yearRange\", yearRange, \"startYear\", startYear, \"endYear\",endYear, \"strartIndex\",startIndex, \"endIndex\",endIndex);\n  return sp;\n}\ntopAndTail(array){\n  var arr;\n  array.forEach(element => {\n  //  if(element>0)\n  });\n}\n\ngetElectionsPerYear(years){\n  var startYear = this.datasourceService.electionsMeta.earliest_year;\n  var endYear = this.datasourceService.electionsMeta.latest_year ;\n  var startEndYears = this.getStartEndYears();\n  startYear = startEndYears.startYear;\n  endYear = startEndYears.endYear;\n  var cpy = [];\n  this.years.forEach(element => {\n    cpy.push(0);\n  });\n  for(var i=0;i<this.datasourceService.dataSource.filteredData.length;i++){\n    var index = parseInt(this.datasourceService.dataSource.filteredData[i].election_year)-this.datasourceService.electionsMeta.earliest_year;\n    cpy[index]++;\n  }\n  \n  var startIndex = startYear-this.datasourceService.electionsMeta.earliest_year;\n  var yearRange = endYear- startYear;\n  var endIndex = startIndex + yearRange\n  var sp = [];//nor.splice(startIndex, endIndex);\n\n  for(var i=startIndex;i<=endIndex ;i++){\n    sp.push(cpy[i]);\n  }\n  // console.log(\"spliced\",\"length\",sp.length,\"yearRange\", yearRange, \"startYear\", startYear, \"endYear\",endYear, \"strartIndex\",startIndex, \"endIndex\",endIndex);\n  return sp;\n}\ngetMax(arr){\n  var max = 0;\n  arr.forEach(element => {\n    if(element>max) max = element;\n  });\n  return max;\n}\ngetMin(arr){\n  var min = 11111110;\n  arr.forEach(element => {\n    if(element<min) min = element;\n  });\n  return min;\n}\n\n\n\n\ngotData(value) {\n    if(value){\n      this.datasourceService.dataUpdate.subscribe(() => this.onDataSubscriptionChange()\n      );\n      for(var i=this.datasourceService.electionsMeta.earliest_year;i<this.datasourceService.electionsMeta.latest_year;i++){\n        this.years.push(i);\n        }\n        if(this.normalise){\n          \n        }\n        else{\n          \n        }\n        this.seriesData = this.getNormalisedContestedPerYear(this.years);\n        this.allElectionsSeriesData = this.getElectionsPerYear(this.years);\n        this.updateOptions = {\n          series: [{\n            data: this.seriesData\n          }]\n        }\n    }\n  }\n  // updateOptions(){\n\n  // }\n  // updatePieOptions(){\n\n  // }\n  onChartInit(e: any) {\n    this.chartInstance = e;\n    \n  }\n  getFranchiseTypes(){\n    var franchise_types = [];\n    var franchise_data = [];\n    this.datasourceService.dataSource.filteredData.forEach(element =>{\n      if(franchise_types.indexOf(element.franchise_type)==-1){\n        franchise_types.push(element.franchise_type);\n      }\n    }\n    )\n  }\n  getFranchiseData(){\n    var franchise_data = {};\n    //  franchise_types.forEach(element =>{\n    //   franchise_data[element]=0;\n    // });\n    this.datasourceService.dataSource.filteredData.forEach(element =>{\n      if (element.franchise_type in franchise_data){\n        franchise_data[element.franchise_type]++;\n      }else{\n        franchise_data[element.franchise_type]=1;\n      }\n      \n      \n    })\n    var clean_data = [];\n    for (var property in franchise_data) {\n      var obj = {\n        value:franchise_data[property],\n        name:property\n      }\n      clean_data.push(obj);\n    }\n    return clean_data;\n  }\n  onDataSubscriptionChange(){\n    // console.log(\"after\",this.datasourceService.dataSource.filteredData);\n    \n      this.updateOptions = {\n        series: [{\n          data: this.getNormalisedContestedPerYear(this.years)\n        }]\n      }\n    \n   \n      // this.updateOptions = {\n      //   series: [{\n      //     data: this.getContestedPerYear(this.years)\n      //   }]\n      // }\n    \n    this.updateElectionOptions = {\n      series: [{\n        data: this.getElectionsPerYear(this.years)\n      }]\n    }\n  \n\n    \n    var names = [];\n    var franchiseData = this.getFranchiseData();\n  \n    for(var i =0;i<franchiseData.length;i++){\n      names.push(franchiseData[i].name);\n    }\n    this.updatePieOptions = {\n      series: [\n        {\n          name: 'area',\n          type: 'pie',\n          radius: [30, 110],\n          roseType: 'area',\n          data: franchiseData\n        }\n      ],\n      legend: {\n        x: 'center',\n        y: 'bottom',\n        data: names\n      },\n    }\n   \n  }\n\n  getHasPollBooksFilter(pollbook_id, searchTerm) {\n\t\tif (searchTerm == 'y') {\n\t\t\tif (pollbook_id.length > 1) {\n\t\t\t\treturn 0;\n\t\t\t} else {\n\t\t\t\treturn -1;\n\t\t\t}\n\t\t}\n\t\telse if (searchTerm == 'n') {\n\t\t\tif (pollbook_id.length == 0) {\n\t\t\t\treturn 0;\n\t\t\t} else {\n\t\t\t\treturn -1;\n\t\t\t}\n\t\t}\n\t\treturn 0;\n\t}\n}\n","<section class=\"text-gray-400 bg-gray-900 body-font relative\">\n\n    <div [ngStyle]=\"{ 'width' : '100vw'}\" class=\"h-5/6 overflow-scroll container px-5 py-4 mx-auto flex sm:flex-nowrap flex-wrap relative\">\n\n        <div class=\"h-full  lg:w-2/3 md:w-1/2 bg-gray-900 rounded-lg overflow-hidden sm:mr-10 p-10 flex items-end justify-start relative\">\n            <!-- <iframe width=\"100%\" height=\"100%\" title=\"map\" class=\"absolute inset-0\" frameborder=\"0\" marginheight=\"0\" marginwidth=\"0\" scrolling=\"no\" src=\"https://maps.google.com/maps?width=100%&amp;height=600&amp;hl=en&amp;q=%C4%B0zmir+(My%20Business%20Name)&amp;ie=UTF8&amp;t=&amp;z=14&amp;iwloc=B&amp;output=embed\"\n                style=\"filter: grayscale(1) contrast(1.2) opacity(0.16);\"></iframe> -->\n            <div class=\"w-full h-full bg-gray-100 relative flex flex-wrap py-6 rounded shadow-md\">\n                <!-- <div class=\"w-full px-6\"> -->\n                <div [ngStyle]=\"{'height': '20vh'}\" echarts (chartInit)=\"onChartInit($event)\" [merge]=\"updateOptions\" [options]=\"chartOptions\" class=\"demo-chart w-full h-2\"></div>\n\n                <div [ngStyle]=\"{'height': '20vh'}\" echarts (chartInit)=\"onChartInit($event)\" [merge]=\"updateElectionOptions\" [options]=\"electionOptions\" class=\"demo-chart w-full h-2\"></div>\n\n                <div [ngStyle]=\"{'height': '40vh'}\" echarts [options]=\"pieOptions\" [theme]=\"theme\" [merge]=\"updatePieOptions\" class=\"w-full demo-chart1\"></div>\n\n                <!-- </div> -->\n\n            </div>\n\n        </div>\n        <div class=\"h-2/3  lg:w-1/3 md:w-1/2 overflow-scroll flex flex-col md:ml-auto w-full md:py-8 mt-8 md:mt-0\">\n            <app-table class=\"rounded-lg\">\n\n            </app-table>\n        </div>\n    </div>\n</section>\nGitHub","import { NgModule } from '@angular/core';\nimport { BrowserModule, HammerModule} from '@angular/platform-browser';\nimport { GestureConfig } from '@angular/material';\n\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\nimport { NgxSliderModule } from '@angular-slider/ngx-slider';\nimport { AppComponent } from './app.component';\nimport { HelloComponent } from './hello.component';\nimport * as Hammer from 'hammerjs';\n\nimport { HttpClientModule } from '@angular/common/http';\nimport { ActivatedRoute } from '@angular/router';\nimport { AngularDraggableModule } from 'ngx-draggable-resize';\n\nimport { RouterModule, Routes } from '@angular/router';\nimport { BrowserAnimationsModule } from '@angular/platform-browser/animations';\n// import { MatSliderModule } from '@angular/material/slider';\nimport {MatPaginatorModule} from '@angular/material/paginator';\n// import {MatFormFieldModule} from '@angular/material/form-field';\n// import {MatTableDataSource} from '@angular/material/table';\nimport { MatAutocompleteModule } from '@angular/material/autocomplete';\nimport { MatButtonModule } from '@angular/material/button';\nimport { MatCardModule } from '@angular/material/card';\nimport { MatIconModule } from '@angular/material/icon';\nimport { MatMenuModule } from '@angular/material/menu';\nimport { MatTableModule } from '@angular/material/table';\nimport { MatToolbarModule } from '@angular/material/toolbar';\nimport {MatRadioModule} from '@angular/material/radio';\n// import {MatDialogModule} from '@angular/material/dialog';\nimport {MatDialogModule, MatDialog, MatDialogRef, MAT_DIALOG_DATA} from '@angular/material/dialog';\n\nimport {MatSliderModule} from '@angular/material/slider';\n// import { MatSlideToggleModule } from '@angular/material/slide-toggle';\n\nimport { MatSidenavModule } from '@angular/material/sidenav';\n\n\nimport { DatePipePipe } from './date-pipe.pipe';\n\nimport { MatSelectModule } from \"@angular/material/select\";\n// import { MatIconModule } from \"@angular/material/icon\";\nimport { MatInputModule } from \"@angular/material/input\";\nimport { AboutComponent } from './about/about.component';\nimport { AppRoutingModule } from './app-routing.module';\nimport { VizComponent } from './viz/viz.component';\nimport { TeamComponent } from './team/team.component';\nimport { OutputsComponent } from './outputs/outputs.component';\nimport { DialogueComponent } from './dialogue/dialogue.component';\nimport { ApiComponent } from './api/api.component';\nimport { PollbookDialogueComponent } from './pollbook-dialogue/pollbook-dialogue.component';\nimport { MatTooltipModule } from '@angular/material/tooltip';\nimport { ResizableModule } from 'angular-resizable-element';\nimport { WalkthroughModule } from 'ngx-walkthrough';\nimport { MatButtonToggleModule } from '@angular/material/button-toggle';\nimport { WarningDialogueComponent } from './warning-dialogue/warning-dialogue.component';\n\nimport { GoogleMapsModule } from '@angular/google-maps'\nimport { NgxEchartsModule } from 'ngx-echarts';\nimport { SandpitComponent } from './sandpit/sandpit.component';\nimport { TableComponent } from './table/table.component';\nimport { ElectionsMapComponent } from './elections-map/elections-map.component';\nimport { NgxMatRangeSliderModule } from 'ngx-mat-range-slider';\nimport { MapComponent } from './map/map.component';\nimport { SmoothHeightComponent } from './smooth-height/smooth-height.component';\nimport { ContestedStoryComponent } from './contested-story/contested-story.component';\n\n\n// import { DialogElementsExampleDialog } from './app.component';\n\n// import {FormsModule, ReactiveFormsModule} from '@angular/forms';\n\n\n@NgModule({\n\timports: [\n\n\t\tNgxMatRangeSliderModule,\n\t\tFormsModule,\n\t    ReactiveFormsModule,\n\t\tBrowserModule,\n\t\tHttpClientModule,\n\t\tMatRadioModule,\n\t\tMatSidenavModule,\n\t\tFormsModule,\n\t\tMatDialogModule,\n\t\tMatTooltipModule,\n\t\tMatPaginatorModule,\n\t\tMatButtonModule,\n\t\t// MatSlideToggleModule,\n\t\tMatMenuModule,\n\t\tMatToolbarModule,\n\t\tMatAutocompleteModule,\n\t\tMatIconModule,\n\t\tMatCardModule,\n\t\tMatTableModule,\n\t\tMatSelectModule,\n\t\tMatSliderModule,\n\t\tMatInputModule,\n\t\tAppRoutingModule,\n\t\tAngularDraggableModule,\n\t\tResizableModule,\n\t\tWalkthroughModule,\n\t\tMatButtonToggleModule,\n\t\tGoogleMapsModule,\n\t\tBrowserAnimationsModule,\n\t\tAppRoutingModule,\n\t\tHammerModule,\n\t\tNgxSliderModule,\n\t\tNgxEchartsModule.forRoot({\n\t\t\t/**\n\t\t\t * This will import all modules from echarts.\n\t\t\t * If you only need custom modules,\n\t\t\t * please refer to [Custom Build] section.\n\t\t\t */\n\t\t\techarts: () => import('echarts'), // or import('./path-to-my-custom-echarts')\n\t\t  })\n\t],\n\tdeclarations: [\n\t\tAppComponent, \n\t\tHelloComponent, \n\t\tDatePipePipe, \n\t\tAboutComponent, \n\t\tVizComponent, \n\t\tTeamComponent, \n\t\tOutputsComponent, \n\t\tDialogueComponent, \n\t\tApiComponent, \n\t\tPollbookDialogueComponent, \n\t\tWarningDialogueComponent, SandpitComponent, TableComponent, ElectionsMapComponent, MapComponent, SmoothHeightComponent, ContestedStoryComponent\n\t],\n\tproviders: [  \n\t\t{ provide: MAT_DIALOG_DATA, useValue: {} },\n\t\t{ provide: MatDialogRef, useValue: {} }\n    ],\n\tentryComponents: [\n\t\tAppComponent, \n\t\tDialogueComponent,\n\t\tPollbookDialogueComponent,\n\t\tWarningDialogueComponent\n\t],\n\tbootstrap: [AppComponent]\n})\nexport class AppModule {\n}","import { Component, OnInit,Inject } from '@angular/core';\n// import {MAT_DIALOG_DATA} from '@angular/material/dialog';\nimport { MAT_DIALOG_DATA, MatDialogRef } from \"@angular/material/dialog\";\n\n@Component({\n  selector: 'app-warning-dialogue',\n  templateUrl: './warning-dialogue.component.html',\n  styleUrls: ['./warning-dialogue.component.scss']\n})\nexport class WarningDialogueComponent implements OnInit {\n\n  constructor(private dialogRef: MatDialogRef<WarningDialogueComponent>, @Inject(MAT_DIALOG_DATA) public data: any) { }\n\n  ngOnInit() {\n  }\n  \tcloseAndStopUnlinking(){\n\t\tvar obj = {\n\t\t\tstopUnlinking: true\n\t\t}\n\t\tthis.dialogRef.close(obj);\n \n\t}\n\n}\n","<p>Your search has returned {{data.numConstituenciesInSearch}} constituencies. Showing it on the map would be rather slow so we've unlinked the map. You can turn it back on by clicking the 'link map' button.</p>\n\n\n<mat-dialog-actions>\n\t<button mat-button mat-dialog-close>Close</button>\n\t<button mat-button mat-dialog-close (click)=\"closeAndStopUnlinking()\">Close and stop unlinking the map!</button>\n\n</mat-dialog-actions>","\nimport { Component, OnInit, ViewChild, ApplicationRef} from '@angular/core';\nimport { GoogleMapsModule,GoogleMap } from '@angular/google-maps'\nimport { DatasourceService } from '../datasource.service';\nimport { TableComponent} from '../table/table.component';\nimport {mapStyles} from '../mapStyles';// import { FormControl } from '@angular/forms';\n\n@Component({\n  selector: 'app-map',\n  templateUrl: './map.component.html',\n  styleUrls: ['./map.component.scss']\n})\nexport class MapComponent implements OnInit {\n\n  constructor(private datasourceService: DatasourceService, private appRef: ApplicationRef) { }\n  @ViewChild(GoogleMap, { static: false }) map: GoogleMap;\n  clicked:boolean=false;\n  zoom: number = 7;\n  mapIsReady:boolean = false;\n  center: google.maps.LatLngLiteral= {\n\t\tlat: 52.4862,\n\t\tlng: 1.8904\n\t}\n  m: any  = mapStyles.styles ;//this.mStyles.styles;\n  //console.log(mpStyles);\n  dynamicMarkers: google.maps.Marker []=[];\n  ngOnInit(): void {\n   this.datasourceService.ready.subscribe(value => {this.gotData(value)});\n  // this.datasourceService.ready.subscribe(() => this.gotData() );\n  \n   // this.datasourceService.onDataSubscriptionChange().subscribe(() => this.dataChange());\n   this.datasourceService.constituencyFilter.valueChanges.subscribe(() => this.dataChange(\"constituencyFilter\"));\n   this.datasourceService.monthFilter.valueChanges.subscribe(() => this.dataChange(\"monthFilter\"));\n   this.datasourceService.yearFilter.valueChanges.subscribe(() => this.dataChange(\"yearFilter\"));\n   this.datasourceService.countyFilter.valueChanges.subscribe(() => this.dataChange(\"countyFilter\"));\n   this.datasourceService.contestedFilter.valueChanges.subscribe(() => this.dataChange(\"contestedFilter\"));\n   this.datasourceService.byElectionGeneralFilter.valueChanges.subscribe(() => this.dataChange(\"byElectionGeneralFilter\"));\n   this.datasourceService.byElectionCauseFilter.valueChanges.subscribe(() => this.dataChange(\"byElectionCauseFilter\"));\n   this.datasourceService.franchiseFilter.valueChanges.subscribe(() => this.dataChange(\"franchiseFilter\"));\n   this.datasourceService.pollBookCodeFilter.valueChanges.subscribe(() => this.dataChange(\"pollBookCodeFilter\"));\n\n  }\n  dataChange(val){\n\n  }\n  dataUpdate(value){\n    \n\t// setTimeout(()=>{                           //<<<---using ()=> syntax\n\t\t\n  \n\t// console.log(\"data update in map componenet\", this.datasourceService.getFilteredConstituencies());\n  this.datasourceService.electionsPerYear = this.datasourceService.getElectionsPerYear();\n  var doubleCheck = this.datasourceService.getFilteredConstituencies();\n  this.updateIsActive(this.datasourceService.getFilteredConstituencies());\n  this.setMapStyle();\n\n  this.dynamicMarkers.forEach(delement => {\n    var inData =false;\n    var cbu = \"\";\n  this.datasourceService.dataSource.filteredData.forEach(felement => {\n    \n    if(delement.getTitle().trim()==felement.constituency.trim()){\n      inData = true;\n      cbu = felement.countyboroughuniv;\n    }\n\n  });\n  if(inData){\n    var image = {\n      url: './assets/images/smarker.svg',\n      size: new google.maps.Size(71, 71),\n      origin: new google.maps.Point(0, 0),\n      anchor: new google.maps.Point(17, 34),\n      scaledSize: new google.maps.Size(25, 25)\n      };\n      var options = {\n      icon:image,\n      title:\tdelement.getTitle(),\n      visible:cbu==\"C\" ? false : true,\n      label:  {text: delement.getTitle() , color: \"white\"}\n    }\n\n\n   delement.setOptions(options);\n\n  }else{\n    var image = {\n      url: './assets/images/dot.svg',\n      size: new google.maps.Size(20, 20),\n      origin: new google.maps.Point(0, 0),\n      anchor: new google.maps.Point(10, 10),\n      scaledSize: new google.maps.Size(20, 20)\n      };\n      var options = {\n      icon:image,\n      title:delement.getTitle(),\n      visible:cbu==\"C\" ? false : true,\n      label:  {text: delement.getTitle() , color: \"white\"}\n    }\n\n\n   delement.setOptions(options);\n\n  }\n});\n\n}\n\n  gotData(value){\n    if(value){\n\t\tthis.datasourceService.dataUpdate.subscribe(() => this.dataUpdate(value)\n\t\t);\n       this.datasourceService.getUniqueElections();\n\t   console.log(\"map data ready\",this.datasourceService.uniqueElections);\nthis.datasourceService.uniqueElections.forEach(element => {\n    var thisDynamicMarker = new google.maps.Marker();\n    \n    thisDynamicMarker.setPosition({lat:+element.lat,lng:+element.lng});\n      var image = {\n        url: './assets/images/dot.svg',\n        size: new google.maps.Size(20, 20),\n        origin: new google.maps.Point(0, 0),\n        anchor: new google.maps.Point(10, 10),\n        scaledSize: new google.maps.Size(20, 20)\n        };\n        \n        var options = {\n        icon:image,\n        title:\telement.constituency,\n        visible:element.countyboroughuniv==\"C\" ? false : true,\n        label:  {text: element.constituency , color: \"white\"}\n      }\n\n\n     thisDynamicMarker.setOptions(options);\n     this.dynamicMarkers.push(thisDynamicMarker);\n    \n  });\n    }\n  }\n  \n\n\n  mapReady(){\n\t\n\t\tthis.map.data.loadGeoJson(\"https://ecppec.ncl.ac.uk/assets/data/england.json\");\n\t\t\n\t\tthis.map.data.setStyle(function(feature) {\n\t\t\t\n\t\t\t\n\t\t\t\tvar color = \"white\";\n\t\t\t\n\t\t\treturn {\n\t\t\t\t\t\tfillColor: \"pink\",\n\t\t\t\t\t\tstrokeColor: \"white\",\n\t\t\t\t\t\tstrokeWeight: 1,\n\t\t\t\t\t\tzIndex:0,\n\t\t\t};\n\t\t});\n\t\t//TODO where's DURHAM?\n\t\tthis.map.data.addListener('mouseover', (event) => {\n\t\t\n\t\t\tthis.setMatchingCountyMarkerVisibility(true, event.feature.getProperty(\"name\"));\n\t\t});\n\t\tthis.map.data.addListener('mouseout', (event) => {\n\t\t\t\tthis.setMatchingCountyMarkerVisibility(false, event.feature.getProperty(\"name\"));\n\t\t\t});\n\t\t\n\t\t\tthis.map.data.addListener('click', (event) => {\n\t\t\t\tif(!this.clicked){\n\t\t\t\t\tthis.clicked =true;\n\t\t\tif(event.feature.getProperty('isActive')){\n\t\t\t\n\t\t\t\tevent.feature.setProperty('isActive',false);\n\t\t\t\tvar updatedConstituencyFilterValue = this.datasourceService.filteredValues['constituency'].replace(','+event.feature.getProperty(\"name\"),'');\n\t\t\t\tthis.datasourceService.constituencyFilter.setValue(updatedConstituencyFilterValue);\n\t\t\t\tthis.datasourceService.filteredValues['constituency']=updatedConstituencyFilterValue;\n\t\t\t\tthis.datasourceService.dataSource.filter = JSON.stringify(this.datasourceService.filteredValues);\n\t\t\t\n\t\t\t}\n\t\t\telse{\n\t\t\t\n\t\t\t\t event.feature.setProperty('isActive',true);\n\t\t\t\t this.datasourceService.filteredValues['constituency'] =this.datasourceService.filteredValues['constituency']+\",\"+event.feature.getProperty(\"name\");\n\t\t\t\t this.datasourceService.constituencyFilter.setValue(this.datasourceService.filteredValues['constituency']);\n\t\t\t\tthis.datasourceService.dataSource.filter = JSON.stringify(this.datasourceService.filteredValues);\n\t\t\t\n\t\t\t}\n\t\t\t\n\t\t\tthis.appRef.tick() ;\n\t\t\tsetTimeout(() => {\n\t\t\t\tthis.clicked = false;\n\t\t\t}, 500);\n\t\t\t\n\t\t}\n\t\t});\n\t\t\n\n\t\tthis.setMapStyle();\n  }\n  setMapStyle(){\n\t\tthis.map.data.setStyle(function(feature) {\n\t\t    var name = feature.getProperty('isActive');\n\t\t    var color = \"white\";\n\t\t    var index = 1;\n\t\t    if( name ){\n\t\t    \tcolor = \"#0db9f0\";\n\t\t    \t index = 2;\n\t\t\t\t \n\t\t\t\t \n\t\t    }\n\t\t    else{\n\t\t\t\tcolor =\"white\";\n\t\t\t\t index = 1;\n\t\t    };\n\t\t    return {\n\t\t      strokeColor: color,\n\t\t      strokeWeight: index,\n\t\t\t  zIndex:index,\n\t\t\t  fillColor: \"grey\"\n\t\t    };\n\t\t});\n\n\t}\n  setMatchingCountyMarkerVisibility(visible, constituency){\n\t\n\n\t\n\t\tthis.dynamicMarkers.forEach(element => {\n\t\t\tif(element.getTitle()==constituency){\n\t\t\t//\telement.setOptions(options);\n\t\t\t\telement.setVisible(visible);\n\t\t\t}\n\t\t});\n\t\tthis.appRef.tick();\n\n\n\t}\n  mapZoomChanged(){\n\n  }\n  setallInActive(){\n\t\tthis.map.data.forEach(function(feature) {\n\t\t\tfeature.setProperty(\"isActive\",false)\n\t\t});\n\t}\n\tupdateIsActive(constituencies: String []){\n\t\tthis.map.data.forEach(function(feature) {\n\t\t\tvar name = feature.getProperty('name');\n\t\t\tif( constituencies.indexOf(name)>-1){\n\t\t\t\t\n\t\t\t\tfeature.setProperty(\"isActive\",true)\n\t\t\t\t\n\t\t\t}\n\t\t\telse{\n\t\t\t\tfeature.setProperty(\"isActive\",false)\n\t\t\t}\n\t\t});\n\t}\n\tupdateMapStyles(constituencies: String []){\n\n\t\tthis.map.data.setStyle(function(feature) {\n\t\t    var name = feature.getProperty('name');\n\t\t    var color = \"white\";\n\t\t    var index = 1;\n\t\t    if( constituencies.indexOf(name)>-1){\n\t\t    \tcolor = \"#0db9f0\";\n\t\t    \t index = 3;\n\t\t    }\n\t\t    else{\n\t\t\t\tcolor =\"white\";\n\t\t\t\t index = 1;\n\t\t    };\n\t\t    return {\n\t\t      strokeColor: color,\n\t\t      strokeWeight: index,\n\t\t\t  zIndex:index\n\t\t   \n\t\t    };\n\t\t});\n\n\t}\n  mapIdle(){\n    var featureCount = 0;\n\t\tthis.map.data.forEach(function(feature) {\n\t\t\tfeatureCount++;\n\t\t});\n\t\tif(featureCount > 1 && this.mapIsReady==false) {\n\t\t\tthis.setallInActive();\n\t\t\t\n\t\t\tthis.mapIsReady = true;\n\t\t\t\n\t\t}\n  }\n \n}\n","<google-map height=\"100vh\" width=\"100vw\" [options]=\"{styles:m}\" [zoom]=\"zoom\" [center]=\"center\" (tilesloaded)=\"mapReady()\" (zoomChanged)=\"mapZoomChanged()\" (idle)=\"mapIdle()\">\n\n    <map-marker *ngFor=\"let dynamicMarker of dynamicMarkers\" [position]=\"dynamicMarker.getPosition()\" [options]=\"{icon:dynamicMarker.getIcon(), title:dynamicMarker.title, visible:dynamicMarker.visible   }\"></map-marker>\n\n</google-map>","/**\n * This file includes polyfills needed by Angular and is loaded before the app.\n * You can add your own extra polyfills to this file.\n *\n * This file is divided into 2 sections:\n *   1. Browser polyfills. These are applied before loading ZoneJS and are sorted by browsers.\n *   2. Application imports. Files imported after ZoneJS that should be loaded before your main\n *      file.\n *\n * The current setup is for so-called \"evergreen\" browsers; the last versions of browsers that\n * automatically update themselves. This includes Safari >= 10, Chrome >= 55 (including Opera),\n * Edge >= 13 on the desktop, and iOS 10 and Chrome on mobile.\n *\n * Learn more in https://angular.io/docs/ts/latest/guide/browser-support.html\n */\n\n/***************************************************************************************************\n * BROWSER POLYFILLS\n */\n\n/** IE9, IE10 and IE11 requires all of the following polyfills. **/\nimport 'core-js/es6/symbol';\nimport 'core-js/es6/object';\nimport 'core-js/es6/function';\nimport 'core-js/es6/parse-int';\nimport 'core-js/es6/parse-float';\nimport 'core-js/es6/number';\nimport 'core-js/es6/math';\nimport 'core-js/es6/string';\nimport 'core-js/es6/date';\nimport 'core-js/es6/array';\nimport 'core-js/es6/regexp';\nimport 'core-js/es6/map';\nimport 'core-js/es6/set';\n\n/** IE10 and IE11 requires the following for NgClass support on SVG elements */\n// import 'classlist.js';  // Run `npm install --save classlist.js`.\n\n/** IE10 and IE11 requires the following to support `@angular/animation`. */\nimport 'web-animations-js';  // Run `npm install --save web-animations-js`.\n\n\n/** Evergreen browsers require these. **/\nimport 'core-js/es6/reflect';\nimport 'core-js/es7/reflect';\n\n\n/** ALL Firefox browsers require the following to support `@angular/animation`. **/\n// import 'web-animations-js';  // Run `npm install --save web-animations-js`.\n\n\n\n/***************************************************************************************************\n * Zone JS is required by Angular itself.\n */\nimport 'zone.js/dist/zone';  // Included with Angular CLI.\n\n\n/***************************************************************************************************\n * APPLICATION IMPORTS\n */\n\n/**\n * Date, currency, decimal and percent pipes.\n * Needed for: All but Chrome, Firefox, Edge, IE11 and Safari 10\n */\n// import 'intl';  // Run `npm install --save intl`.","import { Pipe, PipeTransform } from '@angular/core';\nexport interface FilterObj {\n  lowValue: number;\n  highValue: number;\n}\n@Pipe({\n  name: 'datePipe'\n})\nexport class DatePipePipe implements PipeTransform {\n\n  transform(items: any[], filter: FilterObj): any {\n  \t// if (!items || !filter) {\n   //          return items;\n   //      }\n\n        var filtered = [];\n        for (var i = 0; i < items.length; i++) {\n        \tif(items[i].minYear>=filter.lowValue && items[i].maxYear<=filter.highValue){\n        \t\tfiltered.push(items[i]);\n        \t}\n        }\n        return filtered;\n        // filter items array, items which match and return true will be\n        // kept, false will be filtered out\n        // return items.filter(item => item.name.indexOf(\"York\") !== -1);\n   // return null;\n  }\n\n}\n","import { ElementRef, ApplicationRef, Component, Directive, Inject, OnInit, OnDestroy, Output, EventEmitter, OnChanges, ViewChild } from '@angular/core';\nimport { EChartsOption } from 'echarts';\nimport { HttpParams, HttpClient } from '@angular/common/http';\n// import 'rxjs/add/operator/map';\nimport { map } from 'rxjs/operators';\n \nimport { Injectable } from '@angular/core';\nimport { DatasourceService } from '../datasource.service';\nimport { TableComponent} from '../table/table.component';\nimport {mapStyles} from '../mapStyles';// import { FormControl } from '@angular/forms';\nimport {MatDialog, MatDialogRef, MAT_DIALOG_DATA} from '@angular/material/dialog';\n\n\nimport { DialogueComponent } from '../dialogue/dialogue.component';\n\nimport { of } from 'rxjs';\n@Component({\n  selector: 'app-elections-map',\n  templateUrl: './elections-map.component.html',\n  styleUrls: ['./elections-map.component.scss']\n})\nexport class ElectionsMapComponent implements OnInit {\n\n  constructor(private datasourceService: DatasourceService, public dialog: MatDialog) { }\n \n\n  ngOnInit(): void {\n    const dialogRef = this.dialog.open(DialogueComponent);\n  //   const dialogRef = this.dialog.open(DialogueComponent,{\n  //     data: this.datasourceService.getUniqueElections(),\n  //  });\n\n\t\tdialogRef.afterClosed().subscribe(\n\t\t\tdata => this.datasourceService.setSearchFromDialogue(data)\n\t\t\t);\n\n  }\n  \n}\n","<section class=\"text-gray-400 bg-gray-900 h-screen body-font relative\">\n    <div class=\"absolute inset-0 bg-gray-900\">\n        <app-map></app-map>\n        <!-- <iframe title=\"map\" width=\"100%\" height=\"100%\" frameborder=\"0\" marginheight=\"0\" marginwidth=\"0\" scrolling=\"no\" src=\"https://maps.google.com/maps?width=100%&height=600&hl=en&q=%C4%B0zmir+(My%20Business%20Name)&ie=UTF8&t=&z=14&iwloc=B&output=embed\" style=\"filter: grayscale(1) contrast(1.2) opacity(0.16);\"></iframe> -->\n    </div>\n    <div class=\"container px-5 lg:py-5 lg:h-4/5 md:py-24  md:h-1/2 mx-auto flex\">\n        <div class=\"lg:w-1/2 md:w-full bg-gray-900 shadow-md rounded-lg p-8 flex flex-col md:ml-auto w-full mt-10 md:mt-0 relative z-10 \">\n            <div class=\"w-full overflow-scroll rounded-lg\">\n                <app-table class=\"rounded-lg\">\n\n                </app-table>\n            </div>\n\n        </div>\n    </div>\n</section>","<section class=\"text-gray-400 bg-gray-900 body-font lg:text-base md:text-2xl\">\n    <div class=\"container px-5 py-24 mx-auto\" style=\" overflow: scroll;\" [ngStyle]=\"{'height': '100vh'}\">\n        <div class=\"flex flex-col text-center w-full mb-20\">\n            <h1 class=\"text-2xl font-medium lg:text-2xl  sm:text-3xl title-font mb-4 text-white tracking-widest\">The ECCPEC team</h1>\n            <p class=\"lg:w-2/3 mx-auto leading-relaxed text-base lg:text-xl  sm:text-3xl\">Our project is an interdisciplinary effort with researchers from History, Design and the Digital humanities</p>\n        </div>\n        <div class=\"flex flex-wrap -m-4 \">\n            <div *ngFor=\"let member of shuffledTeam\" class=\"p-4 lg:w-1/2 member \">\n                <div class=\"h-full flex sm:flex-row flex-col items-center sm:justify-start justify-center text-center sm:text-left\">\n                    <img alt=\"team\" class=\"flex-shrink-0 rounded-lg w-48 h-48 object-cover object-center sm:mb-0 mb-4\" src=\"{{getUrl(member)}}\">\n                    <div class=\"flex-grow sm:pl-8\">\n                        <h2 class=\"title-font font-medium md:font-large text-lg text-white\">{{ member.name }}</h2>\n                        <h3 class=\"text-gray-500 mb-3\">{{ member.position }}</h3>\n                        <app-smooth-height (mouseenter)=\"member.hover=true\" (mouseleave)=\"member.hover=false\" [trigger]=\"getAbout(member)\">{{getAbout(member)}}</app-smooth-height>\n                        <span class=\"inline-flex\">\n       \n            </span>\n                    </div>\n                </div>\n            </div>\n\n        </div>\n    </div>\n</section>","import { Component, OnInit } from '@angular/core';\n\n\nexport interface TeamMember{\n\tname: string;\n\tposition: string;\n\tabout: string;\n}\n@Component({\n\tselector: 'app-team',\n\ttemplateUrl: './team.component.html',\n\tstyleUrls: ['./team.component.scss'],\n\thost: {\n\t\t'(window:resize)': 'onResize($event)'\n\t}\n})\nexport class TeamComponent implements OnInit {\n\n\tconstructor() { }\n\tmyInnerHeight: string;\n\tsideBarWidth: number;\n\tteam: any [];\n\thover:boolean =false;\n\tshuffledTeam :any []=[];\n\n\tngOnInit() {\n\n\n\t\tthis.myInnerHeight = \"600px\";//window.innerHeight;\n\t//\tconsole.log(\"innerHeight\",this.myInnerHeight);\n\n\tthis.team = [\n\t\t{\n\t\t\tname:\"Professor Matthew Grenby\",\n\t\t\tposition:\"Principal Investigator\",\n\t\t\tabout: \"Matthew Grenby is Professor of Eighteenth-Century Studies and Dean of Research and Innovation at Newcastle University. Following a first degree and PhD in history at the University of Edinburgh, he taught at several universities before being appointed Fulbright-Robertson Professor of British History at Westminster College in Fulton, Missouri. In 1999, he returned to the UK to work in departments of English, first at De Montfort University, and from 2005 at Newcastle. His research has been on British cultural history in the long eighteenth century, with a focus on political fiction and children’s literature and culture.\",\n\t\t\tlink:\"https://www.liverpool.ac.uk/history/staff/elaine-chalus/\",\n\t\t\timage:\"matthew.jpg\"\n\t\t},\n\t\t{\n\t\t\tname:\"Professor Elaine Chalus\",\n\t\t\tposition:\"Co Investigator\",\n\t\t\tabout: \"Originally trained as a teacher in Canada, I taught for ten years in northern Alberta before returning to university and pursuing postgraduate studies in History as a mature student. I completed my MA at the University of Alberta moved to Oxford (courtesy of receiving a Social Sciences and Humanities Research Council Doctoral Fellowship Award), where I was fortunate to complete my DPhil under the late Professor Paul Langford. I joined the Department of History at the University of Liverpool in May 2016 from Bath Spa University.\",\n\t\t\tlink:\"https://www.liverpool.ac.uk/history/staff/elaine-chalus/\",\n\t\t\timage:\"elaine.jpg\"\n\t\t},\n\t\t{\n\t\t\tname:\"Dr Kendra Packham\",\n\t\t\tposition:\"Research Associate\",\n\t\t\tabout: \"Kendra is a Research Associate at Newcastle University. She specializes in the ​relations between literary representations—including plays, ballads, and novels—and electoral culture. She was awarded her doctorate by the University of Oxford, and has taught and held Fellowships at the universities of Oxford and Cambridge; she has also held Visiting Fellowships at the Lewis Walpole Library, Yale University, and the Folger Shakespeare Library, Washington, D.C. For the ECPPEC project, she’s particularly focusing on recovering and analysing electoral culture, and the links between different electoral interventions and electoral behaviour and political participation.\",\n\t\t\tlink:\"https://www.liverpool.ac.uk/history/staff/elaine-chalus/\",\n\t\t\timage:\"kendra.jpg\"\n\t\t},\n\t\t{\n\t\t\tname:\"Dr James Harris\",\n\t\t\tposition:\"Research Associate\",\n\t\t\tabout: \"James joined Newcastle University as a Research Associate in February 2020, having completed his doctorate at the University of Oxford. He leads on the collection and analysis of polling data for the ECPPEC project, whilst conducting broader research into election practices and political participation. His wider research interests include regional history (particularly Cornwall and Wales), antiquarianism, and the development of Anglicanism.\",\n\t\t\tlink:\"https://www.ncl.ac.uk/elll/staff/profile/jamesharris.html#background\",\n\t\t\timage:\"james.jpg\"\n\t\t},\n\t\t{\n\t\t\tname:\"Dr Tom Schofield\",\n\t\t\tposition:\"Co Investigator\",\n\t\t\tabout: \"My work with archives and cultural data engages practically with issues of digital culture through creative art and design practice. As heritage is increasingly experienced through digital means, issues of objecthood become sites for potential scholarly and creative intervention. I use art and design methods to help us think about the value of cultural heritage, bring it to new publics and rethink scholarly approaches to it.\",\n\t\t\tlink:\"https://www.liverpool.ac.uk/history/staff/elaine-chalus/\",\n\t\t\timage:\"tom.jpg\"\n\t\t},\n\t\t{\n\t\t\tname:\"Dr John Shoneboom\",\n\t\t\tposition:\"Research Software Developer\",\n\t\t\tabout: \"John is a Research Software Developer with a longstanding focus on making complex data sets useful to a stakeholder community that ranges from lay people to experts. He is also a novelist and playwright with a PhD in Creative Writing, an MA in Science, Technology, and International Affairs, and a BA in Political Science. When he’s not writing code and taming databases, his practice-led research interest is in developing a surrealist mode of inquiry for interrogating (inter alia) the national security state.\",\n\t\t\tlink:\"https://www.ncl.ac.uk/sacs/staff/\",\n\t\t\timage:\"john.jpg\"\n\t\t},\n\t\t{\n\t\t\tname:\"Dan Foster Smith\",\n\t\t\tposition:\"Research Software Developer\",\n\t\t\tabout: \"Dan joined the ECPPEC project as a Research Software Developer in January 2021. He has a background in Graphic Design, Software Development and Data visualisation. He has previously worked as a Research Associate Newcastle University on a number of Cultural Heritage Projects and is also currently studding a PhD in AI and Design. For the ECPPEC project, he’s jointly focusing on the development of the API and online visualisation of the polling data and the surrounding electoral cultural.\",\n\t\t\tlink:\"https://www.ncl.ac.uk/sacs/staff/profile/danielfoster-smith.html\",\n\t\t\timage:\"dan.jpg\"\n\t\t}\n\t];\n\n\tthis.shuffledTeam = this.shuffle(this.team);\n}\ngetWindowHeight(){\n\n}\nshuffle(array) {\n\tvar currentIndex = array.length, temporaryValue, randomIndex;\n  \n\t// While there remain elements to shuffle...\n\twhile (0 !== currentIndex) {\n  \n\t  // Pick a remaining element...\n\t  randomIndex = Math.floor(Math.random() * currentIndex);\n\t  currentIndex -= 1;\n  \n\t  // And swap it with the current element.\n\t  temporaryValue = array[currentIndex];\n\t  array[currentIndex] = array[randomIndex];\n\t  array[randomIndex] = temporaryValue;\n\t}\n  \n\treturn array;\n  }\n  \nshufflea(list) {\n\treturn list.reduce((p, n) => {\n\t  const size = p.length;\n\t  const index = Math.trunc(Math.random() * (size - 1));\n\t  p.splice(index, 0, n);\n\t  return p;\n\t}, []);\n  };\nonResize(event) {\n  // event.target.innerWidth;\n  this.myInnerHeight = event.target.innerHeight;\n}\ngetUrl(member)\n{\n//console.log(\"url('./assets/images/team/\"+member.image+\"')\");\n\treturn \"./assets/images/team/\"+member.image;\n}\ngetAbout(member){\n\tif(member.hover) return member.about;\n\treturn member.about.substring(0,150)+\"[...]\";\n}\n}\n","import {ElementRef, HostBinding, Component, Input, OnChanges} from '@angular/core';\nimport {animate, style, transition, trigger} from \"@angular/animations\";\n\n@Component({\n  selector: 'app-smooth-height',\n  template: `\n    <ng-content></ng-content>\n  `,\n  styles: [`\n    :host {\n      display: block;\n      overflow: hidden;\n    }\n  `],\n  animations: [\n    trigger('grow', [\n      transition('void <=> *', []),\n      transition('* <=> *', [\n        style({height: '{{startHeight}}px', opacity: 0}),\n        animate('.5s ease'),\n      ], {params: {startHeight: 0}})\n    ])\n  ]\n})\nexport class SmoothHeightComponent implements OnChanges {\n  @Input()\n  trigger: string;\n\n  startHeight: number;\n\n  constructor(private element: ElementRef) {}  \n  \n  @HostBinding('@grow') get grow() {\n    return {value: this.trigger, params: {startHeight: this.startHeight}};\n  }\n  \n  setStartHeight(){\n    this.startHeight = this.element.nativeElement.clientHeight;\n  }\n  \n  ngOnChanges(){\n    this.setStartHeight();\n  }\n}\n","export const mapStyles = {\n    styles: [\n    {\n        \"elementType\": \"geometry\",\n        \"stylers\": [\n        {\n            \"color\": \"#999999\"\n        }\n        ]\n    },\n    {\n        \"elementType\": \"labels\",\n        \"stylers\": [\n        {\n            \"visibility\": \"off\"\n        }\n        ]\n    },\n    {\n        \"elementType\": \"labels.text.fill\",\n        \"stylers\": [\n        {\n            \"color\": \"#757575\"\n        }\n        ]\n    },\n    {\n        \"elementType\": \"labels.text.stroke\",\n        \"stylers\": [\n        {\n            \"color\": \"#212121\"\n        }\n        ]\n    },\n    {\n        \"featureType\": \"administrative\",\n        \"elementType\": \"geometry\",\n        \"stylers\": [\n        {\n            \"color\": \"#757575\"\n        },\n        {\n            \"visibility\": \"off\"\n        }\n        ]\n    },\n    {\n        \"featureType\": \"administrative.country\",\n        \"elementType\": \"labels.text.fill\",\n        \"stylers\": [\n        {\n            \"color\": \"#9e9e9e\"\n        }\n        ]\n    },\n    {\n        \"featureType\": \"administrative.land_parcel\",\n        \"stylers\": [\n        {\n            \"visibility\": \"off\"\n        }\n        ]\n    },\n    {\n        \"featureType\": \"administrative.locality\",\n        \"elementType\": \"labels.text.fill\",\n        \"stylers\": [\n        {\n            \"color\": \"#bdbdbd\"\n        }\n        ]\n    },\n    {\n        \"featureType\": \"administrative.neighborhood\",\n        \"stylers\": [\n        {\n            \"visibility\": \"off\"\n        }\n        ]\n    },\n    {\n        \"featureType\": \"poi\",\n        \"stylers\": [\n        {\n            \"visibility\": \"off\"\n        }\n        ]\n    },\n    {\n        \"featureType\": \"poi\",\n        \"elementType\": \"labels.text\",\n        \"stylers\": [\n        {\n            \"visibility\": \"off\"\n        }\n        ]\n    },\n    {\n        \"featureType\": \"poi\",\n        \"elementType\": \"labels.text.fill\",\n        \"stylers\": [\n        {\n            \"color\": \"#757575\"\n        }\n        ]\n    },\n    {\n        \"featureType\": \"poi.park\",\n        \"elementType\": \"geometry\",\n        \"stylers\": [\n        {\n            \"color\": \"#181818\"\n        }\n        ]\n    },\n    {\n        \"featureType\": \"poi.park\",\n        \"elementType\": \"labels.text.fill\",\n        \"stylers\": [\n        {\n            \"color\": \"#616161\"\n        }\n        ]\n    },\n    {\n        \"featureType\": \"poi.park\",\n        \"elementType\": \"labels.text.stroke\",\n        \"stylers\": [\n        {\n            \"color\": \"#1b1b1b\"\n        }\n        ]\n    },\n    {\n        \"featureType\": \"road\",\n        \"stylers\": [\n        {\n            \"visibility\": \"off\"\n        }\n        ]\n    },\n    {\n        \"featureType\": \"road\",\n        \"elementType\": \"geometry.fill\",\n        \"stylers\": [\n        {\n            \"color\": \"#2c2c2c\"\n        }\n        ]\n    },\n    {\n        \"featureType\": \"road\",\n        \"elementType\": \"labels\",\n        \"stylers\": [\n        {\n            \"visibility\": \"off\"\n        }\n        ]\n    },\n    {\n        \"featureType\": \"road\",\n        \"elementType\": \"labels.icon\",\n        \"stylers\": [\n        {\n            \"visibility\": \"off\"\n        }\n        ]\n    },\n    {\n        \"featureType\": \"road\",\n        \"elementType\": \"labels.text.fill\",\n        \"stylers\": [\n        {\n            \"color\": \"#8a8a8a\"\n        }\n        ]\n    },\n    {\n        \"featureType\": \"road.arterial\",\n        \"elementType\": \"geometry\",\n        \"stylers\": [\n        {\n            \"color\": \"#373737\"\n        }\n        ]\n    },\n    {\n        \"featureType\": \"road.highway\",\n        \"elementType\": \"geometry\",\n        \"stylers\": [\n        {\n            \"color\": \"#3c3c3c\"\n        }\n        ]\n    },\n    {\n        \"featureType\": \"road.highway.controlled_access\",\n        \"elementType\": \"geometry\",\n        \"stylers\": [\n        {\n            \"color\": \"#4e4e4e\"\n        }\n        ]\n    },\n    {\n        \"featureType\": \"road.local\",\n        \"elementType\": \"labels.text.fill\",\n        \"stylers\": [\n        {\n            \"color\": \"#616161\"\n        }\n        ]\n    },\n    {\n        \"featureType\": \"transit\",\n        \"stylers\": [\n        {\n            \"visibility\": \"off\"\n        }\n        ]\n    },\n    {\n        \"featureType\": \"transit\",\n        \"elementType\": \"labels.text.fill\",\n        \"stylers\": [\n        {\n            \"color\": \"#757575\"\n        }\n        ]\n    },\n    {\n        \"featureType\": \"water\",\n        \"elementType\": \"geometry\",\n        \"stylers\": [\n        {\n            \"color\": \"#000000\"\n        }\n        ]\n    },\n    {\n        \"featureType\": \"water\",\n        \"elementType\": \"labels.text\",\n        \"stylers\": [\n        {\n            \"visibility\": \"off\"\n        }\n        ]\n    },\n    {\n        \"featureType\": \"water\",\n        \"elementType\": \"labels.text.fill\",\n        \"stylers\": [\n        {\n            \"color\": \"#3d3d3d\"\n        }\n        ]\n    }\n    ]\n}","import { NgModule } from '@angular/core';\nimport { RouterModule, Routes } from '@angular/router';\nimport { AboutComponent } from './about/about.component';\nimport { AppComponent } from './app.component';\n// import { VizComponent } from './viz/viz.component';\nimport { TeamComponent } from './team/team.component';\nimport { OutputsComponent } from './outputs/outputs.component';\nimport { ApiComponent } from './api/api.component';\nimport { SandpitComponent } from './sandpit/sandpit.component';\nimport { TableComponent } from './table/table.component';\nimport { ElectionsMapComponent } from './elections-map/elections-map.component';\nimport { ContestedStoryComponent } from './contested-story/contested-story.component';\n\nconst routes: Routes = [\n{ path: '', redirectTo: '/about', pathMatch: 'full' },\n  { path: 'about', component: AboutComponent },\n  // { path: 'viz', component: VizComponent },\n  { path: 'team', component: TeamComponent },\n  { path: 'api', component: ApiComponent },\n  { path: 'sandpit', component: SandpitComponent },\n  { path: 'contested', component: ContestedStoryComponent },\n  { path: 'table', component: TableComponent },\n  { path: 'outputs', component: OutputsComponent },\n  { path: 'map', component:ElectionsMapComponent}\n];\n\n@NgModule({\n  imports: [RouterModule.forRoot(routes, { useHash: true, relativeLinkResolution: 'legacy' })],\n  exports: [RouterModule]\n})\nexport class AppRoutingModule { }","import { ElementRef, ApplicationRef, Component, Directive, Output, EventEmitter, ViewChild } from '@angular/core';\nimport { GoogleMapsModule,GoogleMap } from '@angular/google-maps'\n\nimport { ResizeEvent } from 'angular-resizable-element';\nimport { GeojsonServiceService } from '../geojson-service.service';\n\nimport { GetElectionsService } from '../get-elections.service';\n\nimport { BoroughService } from '../borough.service';\nimport { CentroidsService } from '../centroids.service';\nimport { GetPollBooksService } from '../get-poll-books.service';\nimport { HOPService } from '../hop.service';\n\nimport { DownloadService } from '../download.service';\nimport { DownloadPollBooksService } from '../download-poll-books.service';\n\n\nimport { GetLatLonService } from '../get-lat-lon.service';\n//import { Options, ChangeContext, PointerType } from 'ng5-slider';\n\nimport { HttpParams, HttpClient } from '@angular/common/http';\nimport { map } from 'rxjs/operators';\n\nimport { MatPaginator } from '@angular/material/paginator';\nimport { MatTableDataSource } from '@angular/material/table';\n\nimport { Location } from '../location';\n\nimport { MatFormFieldControl } from '@angular/material/form-field';\n\nimport { FormControl } from '@angular/forms';\nimport * as cloneDeep from 'lodash/cloneDeep';\nimport { DoCheck, KeyValueDiffers, KeyValueChangeRecord } from '@angular/core';\n\nimport { MatDialog } from '@angular/material/dialog';\nimport { PollbookDialogueComponent } from '../pollbook-dialogue/pollbook-dialogue.component';\nimport { DialogueComponent } from '../dialogue/dialogue.component';\nimport { WarningDialogueComponent } from '../warning-dialogue/warning-dialogue.component';\n\nimport { WalkthroughModule } from 'ngx-walkthrough';\nimport { TooltipPosition } from '@angular/material/tooltip';\nimport { MatButtonModule } from '@angular/material/button';\nimport { Injectable } from '@angular/core';\nimport { ThisReceiver, ThrowStmt } from '@angular/compiler';\n//import { FilterObj, Elections, Election , PollBook, PollBookResponse, HOPData} from  '../viz/viz.component';\n\n\nexport interface Election {\n\telection_year: string;\n\telection_month: string;\n\tconstituency: string;\n\tcountyboroughuniv: string;\n\tby_election_general: string;\n\tcontested: string;\n\telection_id: string;\n\tfranchise_type:string;\n\tpollbook_id: string;\n\tby_election_cause: string;\n\tnotes: string;\n\tlatitude: string;\n\tlongitude: string;\n\tlat:number;\n\tlng:number;\n}\nexport interface PollBook {\n\n\tBookCode: string;\n\tPrintMS: string;\n\tCitation: string;\n\tHoldings: string;\n\tSource: string;\n\tElectionCode: string;\n\tNotes: string;\n}\n\nexport interface PollBookResponse {\n\n\tnum_results: number;\n\tpoll_books: PollBook[];\n}\n\nexport interface Elections {\n\tnum_results: number;\n\tearliest_year: number;\n\tlatest_year: number;\n\telections: any[];\n}\nexport interface FilterObj {\n\tlowValue: number;\n\thighValue: number;\n}\nexport interface APIResponse {\n\tbooks: PollBook[];\n}\nexport interface HOPData {\n\tinnerText: string;\n\tyearRange: string;\n\turl: string;\n\tconstituency: string;\n\tfetch: boolean;\n}\n\nexport interface GEOJSON {\n\ttype: string;\n\tfeatures: any[];\n}\n\nexport interface googleMapsMarkerWrapper {\n\tposition: google.maps.LatLngLiteral;\n\toptions: google.maps.MarkerOptions;\n\ttitle: string;\n\ttype:string;\n}\n\n\nexport interface constituency {\n\tlat: number;\n\tlng: number;\n\tformatted_address?: string;\n\tpollbooks: PollBook[];\n\t\n}\n\n\n\n@Component({\n\ttemplateUrl: './viz.component.html',\n\tstyleUrls: ['./viz.component.scss']\n})\nexport class VizComponent {\n\t\n\n\tprivate _differ: any;\n\n\tconstructor(){\n\t}\n\n\n\t\n\t\n}\n","import { Component, OnInit } from '@angular/core';\nimport { SwaggerUIBundle, SwaggerUIStandalonePreset } from 'swagger-ui-dist';\n\n@Component({\n  selector: 'app-api',\n  templateUrl: './api.component.html',\n  styleUrls: ['./api.component.scss']\n})\nexport class ApiComponent implements OnInit {\n\n  constructor() { }\n\n  ngOnInit(): void {\n    const ui = SwaggerUIBundle({\n      dom_id: '#swagger-ui',\n      layout: 'BaseLayout',\n      presets: [\n        SwaggerUIBundle.presets.apis,\n        SwaggerUIBundle.SwaggerUIStandalonePreset\n      ],\n      url: 'https://raw.githubusercontent.com/Digital-Cultures/ECPPEC/Angular11/php/ecppec.yaml',\n      operationsSorter: 'alpha'\n    });\n  }\n\n}","<section class=\"text-gray-400 body-font bg-gray-900\">\n    <div class=\"container px-5 py-24 mx-auto\">\n        <div class=\"flex flex-col text-center w-full mb-20\">\n            <div class=\"lg:w-2/3 mx-auto leading-relaxed text-base \" id=\"swagger-ui\"></div>\n\n        </div>\n\n    </div>\n</section>","\nimport './polyfills';\nimport 'hammerjs';\nimport { enableProdMode } from '@angular/core';\nimport { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\n\nimport { AppModule } from './app/app.module';\n\nplatformBrowserDynamic().bootstrapModule(AppModule).then(ref => {\n  // Ensure Angular destroys itself on hot reloads.\n  if (window['ngRef']) {\n    window['ngRef'].destroy();\n  }\n  window['ngRef'] = ref;\n\n  // Otherise, log the boot error\n}).catch(err => console.error(err));","function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncaught exception popping up in devtools\n\treturn Promise.resolve().then(function() {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t});\n}\nwebpackEmptyAsyncContext.keys = function() { return []; };\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nmodule.exports = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = \"zn8P\";"],"sourceRoot":"webpack:///"}